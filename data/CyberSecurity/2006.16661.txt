0
2
0
2

n
u
J

0
3

]

Y
S
.
s
s
e
e
[

1
v
1
6
6
6
1
.
6
0
0
2
:
v
i
X
r
a

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A
COMPOSITIONAL APPROACH

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

Abstract. The security in information-ï¬‚ow has become a major concern for cyber-physical systems (CPSs).
In this work, we focus on the analysis of an information-ï¬‚ow security property, called opacity. Opacity
characterizes the plausible deniability of a systemâ€™s secret in the presence of a malicious outside intruder. We
propose a methodology of checking a notion of opacity, called approximate initial-state opacity, for networks
of discrete-time switched systems. Our framework relies on compositional constructions of ï¬nite abstractions
for networks of switched systems and their so-called approximate initial-state opacity-preserving simulation
functions (InitSOPSFs). Those functions characterize how close concrete networks and their ï¬nite abstractions
are in terms of the satisfaction of approximate initial-state opacity. We show that such InitSOPSFs can
be obtained compositionally by assuming some small-gain type conditions and composing so-called local
InitSOPSFs constructed for each subsystem separately. Additionally, assuming certain stability property of
switched systems, we also provide a technique on constructing their ï¬nite abstractions together with the
corresponding local InitSOPSFs. Finally, we illustrate the eï¬€ectiveness of our results through an example.

1. Introduction

Cyber-physical systems (CPSs) are complex systems resulting from intricate interaction between embedded
cyber devices and physical plants. In recent decade, CPSs have become ubiquitous in critical infrastructures
and industrial control systems, including power plants, medical devices and smart communities [1]. While
the increased interaction between cyber and physical components increases systemsâ€™ functionalities, it also
exposes CPSs to more vulnerabilities and security challenges. Recently, the world has witnessed numerous
cyber-attacks which have led to great losses in peopleâ€™s livelihoods [2]. Therefore, ensuring the security of
CPSs has become signiï¬cantly more important.

In this work, we focus on an information-ï¬‚ow security property, called opacity, which characterizes the ability
that a system forbids leaking its secret information to a malicious intruder outside the system. Opacity was
ï¬rst introduced in [3] to analyze cryptographic protocols. Later, opacity was widely studied in the domain
of Discrete Event Systems (DESs), see [4] and the references therein. In this context, existing works on the
analysis of various notions of opacity mostly apply to systems modeled by ï¬nite state automata, which are
more suitable for the cyber-layers of CPSs. However, for the physical components, system dynamics are in
general hybrid with uncountable number of states.

1.1. Related Works. There have been some recent attempts to extend the notion of opacity to continuous-
space dynamical systems [5, 6, 7, 8]. In [5], a framework for opacity was introduced for the class of discrete-
time linear systems, where the notion of opacity was formulated as an output reachability property rather
than an information-ï¬‚ow one. The results in [6] presented a formulation of opacity-preserving (bi)simulation
relations between transition systems, which allows one to verify opacity of an inï¬nite-state transition system
by leveraging its associated ï¬nite quotient one. However, the notion of opacity proposed in this work assumes
that the outputs of systems are symbols and are exactly distinguishable from each other, thus, is only suitable
for systems with purely logical output sets. In a more recent paper [7], a new notion of approximate opacity was
proposed to accommodate imperfect measurement precision of intruders. Based on this, the authors proposed
a notion of so-called approximate opacity-preserving simulation relation to capture the closeness between
continuous-space systems and their ï¬nite abstractions (a.k.a symbolic models) in terms of preservation of
1

 
 
 
 
 
 
2

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

approximate opacity. The recent results in [8] investigated opacity for discrete-time stochastic control systems
using a notion of so-called initial-state opacity-preserving stochastic simulation functions between stochastic
control systems and their ï¬nite abstractions (a.k.a. ï¬nite Markov decision processes).

Although the results in [6, 7, 8] look promising, the computational complexity of the construction of ï¬nite
abstractions in those works grows exponentially with respect to the dimension of the state set, and, hence,
those existing approaches will become computationally intractable when dealing with large-scale systems.

Motivated by those abstraction-based techniques in [6, 7, 8] and their limitations, this work proposes an
approach to analyze approximate initial-state opacity for networks of switched systems by constructing their
opacity-preserving ï¬nite abstractions compositionally. There have been some recent results proposing composi-
tional techniques for constructing ï¬nite abstractions for networks of systems (see the results in [9, 10, 11, 12, 13]
for more details). However, the aforementioned compositional schemes are proposed for the sake of controller
synthesis for temporal logic properties, and none of them are applicable to deal with security properties
including opacity.

1.2. Contributions. In this paper, we provide for the ï¬rst time a compositional approach to analyze ap-
proximate initial-state opacity of a network of switched systems using their ï¬nite abstractions. A new notion
of so-called approximate initial-state opacity-preserving simulation function (InitSOPSF) is introduced as a
system relation to characterize the closeness between two networks in terms of preservation of approximate
initial-state opacity. We show that such an InitSOPSF can be established by composing certain local Init-
SOPSFs which relate each switched subsystem to its local ï¬nite abstraction. Moreover, under some assump-
tions ensuring incremental input-to-state stability of discrete-time switched systems, an approach is provided
to construct local ï¬nite abstractions along with the corresponding local InitSOPSFs for all of the subsystems.
Then, we derive some small-gain type conditions, under which one can construct a ï¬nite abstraction of the
concrete network of switched systems by interconnecting local ï¬nite abstractions of subsystems. Finally, one
can leverage the constructed ï¬nite abstraction of the network to check its opacity. The proposed compositional
abstraction-based opacity veriï¬cation pipeline is depicted in Figure 1.

Figure 1. Compositional framework of opacity veriï¬cation for networks of switched systems.

Original SubsystemsLocal Finite AbstractionsAbstract Network (finite state transition system)Concrete Network(infinite state and input sets)Opacity VerificationVerification Refinement1(,,)Nï“ï“1Ë†Ë†Ë†(,,)Nï“ï“1ï“2ï“Nï“1Ë†ï“2Ë†ï“Ë†Nï“VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

3

1.3. Organization. The rest of this paper is organized as follows. In Section 2, we ï¬rst introduce necessary
notations and preliminaries of the paper. Then, a new notion of approximate opacity preserving simulation
functions (InitSOPSFs) is proposed in Section 3.
In Section 4, we provide a compositional framework for
In Section 5, we present
the construction of InitSOPSF for a network of discrete-time switched systems.
how to construct local ï¬nite abstractions for a class of incrementally input-to-state stable subsystems, and
then propose a small-gain type condition required for the main compositionality result. Next, an illustrative
example is provided in Section 6 that showcases how one can leverage our compositionality results for the
veriï¬cation of opacity for a network of switched systems. Finally, we conclude the paper in Section 7.

2. Notation and Preliminaries

2.1. Notation. We denote by R and N the set of real numbers and non-negative integers, respectively. These
symbols are annotated with subscripts to restrict them in the obvious way, e.g. R>0 denotes the positive
real numbers. We denote the closed, open, and half-open intervals in R by [a, b], (a, b), [a, b), and (a, b],
respectively. For a, b âˆˆ N and a â‰¤ b, we use [a; b], (a; b), [a; b), and (a; b] to denote the corresponding
intervals in N. Given any a âˆˆ R, |a| denotes the absolute value of a. Given N âˆˆ Nâ‰¥1 vectors Î½i âˆˆ Rni,
ni âˆˆ Nâ‰¥1, and i âˆˆ [1; N ], we use Î½ = [Î½1; . . . ; Î½N ] to denote the vector in Rn with n = (cid:80)
i ni consisting
of the concatenation of vectors Î½i. Moreover, (cid:107)Î½(cid:107) denotes the inï¬nity norm of Î½. The individual elements
in a matrix A âˆˆ RmÃ—n, are denoted by {A}i,j, where i âˆˆ [1; m] and j âˆˆ [1; n]. We denote by card(Â·)
the cardinality of a given set and by âˆ… the empty set. For any set S âŠ† Rn of the form of ï¬nite union
of boxes, e.g., S = (cid:83)M
i=1[cj
i , we deï¬ne
span(S) = minj=1,...,M Î·Sj and Î·Sj = min{|dj
1|, . . . , |dj
n|}. Moreover, for a set in the form of
X = (cid:81)N
i=1 Xi, where Xi âŠ† Rni , âˆ€i âˆˆ [1; N ], are of the form of ï¬nite union of boxes, and any positive
(component-wise) vector Ï† = [Ï†1; . . . ; Ï†N ] with Ï†i â‰¤ span(Xi), âˆ€i âˆˆ [1; N ], we deï¬ne [X]Ï† = (cid:81)N
i=1[Xi]Ï†i,
where [Xi]Ï†i = [Rni]Ï†i âˆ© Xi and [Rni]Ï†i = {a âˆˆ Rni
| aj = kjÏ†i, kj âˆˆ Z, j = 1, . . . , ni}. Note that if
Ï† = [Î·; . . . ; Î·], where 0 < Î· â‰¤ span(S), we simply use notation [S]Î· rather than [S]Ï†. With a slight abuse of
notation, we write [S]0 := S. Note that [S]Î· (cid:54)= âˆ… for any 0 â‰¤ Î· â‰¤ span(S). We use notations K and Kâˆ to
denote diï¬€erent classes of comparison functions, as follows: K = {Î± : Râ‰¥0 â†’ Râ‰¥0| Î± is continuous, strictly
increasing, and Î±(0) = 0}; Kâˆ = {Î± âˆˆ K|
Î±(r) = âˆ}. For Î±, Î³ âˆˆ Kâˆ we write Î± â‰¤ Î³ if Î±(r) â‰¤ Î³(r), and,
with abuse of the notation, Î± = c if Î±(r) = cr for all c, r â‰¥ 0. Finally, we denote by Id the identity function
over Râ‰¥0, that is Id(r) = r, âˆ€r âˆˆ Râ‰¥0. Given sets X and Y with X âŠ‚ Y , the complement of X with respect
to Y is deï¬ned as Y \X = {x : x âˆˆ Y, x /âˆˆ X}.

j=1 Sj for some M âˆˆ N, where Sj = (cid:81)n
n âˆ’ cj

i ] âŠ† Rn with cj

i < dj

1 âˆ’ cj

lim
râ†’âˆ

i , dj

2.2. Discrete-Time Switched Systems. We consider discrete-time switched systems of the following form.

Deï¬nition 1. A discrete-time switched system (dt-SS) Î£ is deï¬ned by the tuple Î£ = (X, X0, Xs, P, W, F, Y, h),
where

â€¢ X âŠ† Rn is the state set;
â€¢ X0 âŠ† Rn is the initial state set;
â€¢ Xs âŠ† Rn is the secret state set;
â€¢ P = {1, . . . , m} is the ï¬nite set of modes;
â€¢ W âŠ† Rm is the internal input set;
â€¢ F = {f1, . . . , fm} is a collection of set-valued maps fp : X Ã— W â‡’ X for all p âˆˆ P ;
â€¢ Y âŠ† Rq is the output set;
â€¢ h : X â†’ Y is the output map.

The dt-SS Î£ is described by diï¬€erence inclusions of the form

Î£ :

(cid:26) x(k + 1) âˆˆ fp(k)(x(k), Ï‰(k)),
y(k) = h(x(k)),

(1)

4

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

where x : N â†’ X, y : N â†’ Y, p : N â†’ P , and Ï‰ : N â†’ W are the state, output, switching, and internal input
signal, respectively.

Let Ï•k, k âˆˆ Nâ‰¥1, denote the time when the k-th switching instant occurs. We assume that signal p satisï¬es
a dwell-time condition [14] (i.e. there exists kd âˆˆ Nâ‰¥1, called the dwell-time, such that for all consecutive
switching time instants Ï•k, Ï•k+1, Ï•k+1 âˆ’ Ï•k â‰¥ kd). If for all x âˆˆ X, p âˆˆ P, w âˆˆ W, card(fp(x, w)) â‰¤ 1, we say
the system Î£ is deterministic, and non-deterministic otherwise. System Î£ is called ï¬nite if X, W are ï¬nite sets
and inï¬nite otherwise. Furthermore, if for all x âˆˆ X there exist p âˆˆ P and w âˆˆ W such that card(fp(x, w)) (cid:54)= 0
we say the system is non-blocking. In this paper, we only deal with non-blocking systems.

2.3. Transition systems. In this subsection, we employ the notion of transition systems, introduced in [15],
to provide an alternative description of switched systems that can be later directly related to their ï¬nite
abstractions in a common framework.
Deï¬nition 2. Given a dt-SS Î£ = (X, X0, Xs, P, W, F, Y, h), we deï¬ne the associated transition system T (Î£) =
(X, X0, Xs, U, W, F, Y, H), where:

â€¢ X = X Ã— P Ã— {0, . . . , kd âˆ’ 1} is the state set;
â€¢ X0 = X0 Ã— P Ã— {0} is the initial state set;
â€¢ Xs = Xs Ã— P Ã— {0, . . . , kd âˆ’ 1} is the secret state set;
â€¢ U = P is the external input set;
â€¢ W = W is the internal input set;
â€¢ F is the transition function given by (x+, p+, l+) âˆˆ F((x, p, l), u, w) if and only if x+ âˆˆ fp(x, w), u = p

and the following scenarios hold:

â€“ l < kd âˆ’ 1, p+ = p and l+ = l + 1: switching is not allowed because the time elapsed since the

latest switch is strictly smaller than the dwell time;

â€“ l = kd âˆ’ 1, p+ = p and l+ = kd âˆ’ 1: switching is allowed but no switch occurs;
â€“ l = kd âˆ’ 1, p+ (cid:54)= p and l+ = 0: switching is allowed and a switch occurs;

â€¢ Y = Y is the output set;
â€¢ H : X â†’ Y is the output map deï¬ned as H(x, p, l) = h(x).

Note that in the above deï¬nition, two additional variables p and l are added to the state tuple of the system
Î£. The variable p captures whether or not a switching is allowed for the system at a given time instant, and
l serves as a memory to record the sojourn of switching signal.

The following proposition is borrowed from [13] showing that the output runs of a dt-SS Î£ and its associated
transition system T (Î£) are equivalent so that one can use Î£ and T (Î£) interchangeably.

Proposition 3. Consider a transition system T (Î£) in Deï¬nition 2 associated to Î£ as in Deï¬nition 1. Any
output trajectory of Î£ can be uniquely equated to an output trajectory of T (Î£) and vice versa.

Next, let us introduce a formal deï¬nition of networks of dt-SS (or equivalently, networks of transition systems).

2.4. Networks of Systems. Consider N âˆˆ Nâ‰¥1 dt-SS Î£i = (Xi, X0i, Xsi, Pi, Wi, Fi, Yi, hi), i âˆˆ [1; N ], with
partitioned internal inputs and outputs as

wi = [wi1; . . . ; wi(iâˆ’1); wi(i+1); . . . ; wiN ], Wi =

N
(cid:89)

Wij,

hi(xi) = [hi1(xi); . . . ; hiN (xi)], Yi =

j=1,j(cid:54)=i

N
(cid:89)

j=1

Yij,

(2)

(3)

with wij âˆˆ Wij, and yij = hij(xi) âˆˆ Yij. The outputs yii are considered as external ones, whereas yij with
In
i (cid:54)= j are interpreted as internal ones which are used to construct interconnections between systems.

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

5

particular, we assume that wij = yji, if there is connection from system Î£j to Î£i, otherwise, we set hji â‰¡ 0.
In the sequel, we denote by Ni = {j âˆˆ [1; N ], j (cid:54)= i|hji (cid:54)= 0} the collection of neighboring systems Î£j, j âˆˆ Ni,
that provide internal inputs to system Î£i.
Now, we are ready to provide a formal deï¬nition of the concrete network consisting of N âˆˆ Nâ‰¥1 dt-SS.
Deï¬nition 4. Consider N âˆˆ Nâ‰¥1 dt-SS Î£i = (Xi, X0i, Xsi, Pi, Wi, Fi, Yi, hi), i âˆˆ [1; N ] with the input-output
structure given by (2) and (3). The network, representing the interconnection of N âˆˆ Nâ‰¥1 dt-SS Î£i, is a tuple
Î£ = (X, X0, Xs, P, F, Y, h), denoted by I(Î£1, . . . , Î£N ), where X = (cid:81)N
Xsi,
P = (cid:81)N
Yii, h(x) := [h11(x1); . . . ; hN N (xN )] with x = [x1; . . . ; xN ], subject to
the constraint:

i=1 Pi, F = (cid:81)N

i=1 Fi, Y = (cid:81)N

X0i, Xs = (cid:81)N

Xi, X0 = (cid:81)N

i=1

i=1

i=1

i=1

yji = wij, Yji âŠ† Wij, âˆ€i âˆˆ [1; N ], j âˆˆ Ni.

(4)

Similarly, given transition systems T (Î£i), one can also deï¬ne a network of transition systems I(T (Î£1),. . ., T (Î£N )).
For the rest of the paper, we mainly deal with the transition systems as they allow us to model dt-SS Î£ and
their ï¬nite abstractions in a common framework.
For an interconnection of N âˆˆ Nâ‰¥1 ï¬nite dt-SS Ë†Î£i, with input-output structure conï¬guration as in (2) and
(3), we introduce the following deï¬nition of networks of ï¬nite dt-SS.
Deï¬nition 5. Consider N âˆˆ Nâ‰¥1 ï¬nite dt-SS Ë†Î£i = ( Ë†Xi, Ë†X0i, Ë†Xsi, Ë†Pi, Ë†Wi, Ë†Fi, Ë†Yi, Ë†hi), i âˆˆ [1; N ] with the input-
output structure given by (2) and (3). The network, representing the interconnection of N âˆˆ Nâ‰¥1 ï¬nite dt-SS
Ë†Î£i, is a tuple Ë†Î£ = ( Ë†X, Ë†X0, Ë†Xs, Ë†P , Ë†F , Ë†Y, Ë†h), denoted by Ë†I( Ë†Î£1, . . . , Ë†Î£N ), where Ë†X = (cid:81)N
Ë†X0i, Ë†Xs =
i=1
(cid:81)N
Ë†Fi, Ë†Y = (cid:81)N
with Ë†x = [Ë†x1; . . . ; Ë†xN ],

(cid:104)Ë†h11(Ë†x1); . . . ; Ë†hN N (Ë†xN )

Ë†Xi, Ë†X0 = (cid:81)N
(cid:105)

Ë†Pi, Ë†F = (cid:81)N

Ë†Yii, Ë†h(x) :=

i=1

i=1

i=1

i=1

Ë†Xsi, Ë†P = (cid:81)N
subject to the constraint:

i=1

(cid:107)Ë†yji âˆ’ Ë†wij(cid:107) â‰¤ Ï†ij, [ Ë†Yji]Ï†ij âŠ† Ë†Wij, âˆ€i âˆˆ [1; N ], j âˆˆ Ni,
where Ï†ij is an internal input quantization parameter designed for constructing local ï¬nite abstractions (cf.
Deï¬nition 17).

(5)

Similarly, given ï¬nite transition systems T ( Ë†Î£i), one can also deï¬ne a network of transition systems as
Ë†I(T ( Ë†Î£1), . . . , T ( Ë†Î£N )).

An example of a concrete network and an abstract network is illustrated in Figure 2, where each consists of
three switched subsystems.

Remark 6. Note that in the above deï¬nitions, the interconnection constraint in (4) for the concrete network
is diï¬€erent from that for the abstract network in (5). For networks of ï¬nite abstractions, due to possibly
diï¬€erent granularities of ï¬nite internal input sets Ë†Wij and output sets Ë†Yij, we introduce parameters Ï†ij in
(5) for having a well-posed interconnection. The values of Ï†ij will be designed later in Deï¬nition 17 when
constructiong local ï¬nite abstractions of the subsystems.

Before introducing the notion of approximate initial-state opacity for networks of transition systems, we
introduce some notations that will be used to characterize opacity property. Consider network T (Î£). We use
zk to denote the state of T (Î£) reached at time k âˆˆ N from initial state z0 under an input sequence Â¯u with
length k, and denote by {z0, z1, . . . , zn} a ï¬nite state run of T (Î£) with length n âˆˆ N.

2.5. Approximate Initial-state Opacity. Here, let us review a notion of approximate initial-state opacity
[7]. In this context, the systemâ€™s behaviors are assumed to be observed by an outside intruder which aims at
inferring secret information of the system. The adopted concept of secrets are formulated as state-based.

Deï¬nition 7. Consider network T (Î£) = (X, X0, Xs, U, F, Y, H) and a constant Î´ â‰¥ 0. Network T (Î£) is said
to be Î´-approximate initial-state opaque if for any z0 âˆˆ X0 âˆ© Xs and ï¬nite state run {z0, z1, . . . , zn}, there

6

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

Figure 2. [Left]: Concrete network composed of three switched subsystems Î£1, Î£2, and Î£3
with h13 = h31 = 0, where yji = wij, âˆ€i, j âˆˆ [1; 3]; [Right]: Abstract network composed of
three ï¬nite subsystems Ë†Î£1, Ë†Î£2, and Ë†Î£3 with Ë†h13 = Ë†h31 = 0, and the internal inputs Ë†wij for
system Ë†Î£i are taken from the discretized internal outputs of system Ë†Î£j under the constraint
(cid:107)Ë†yji âˆ’ Ë†wij(cid:107) â‰¤ Ï†ij, âˆ€i, j âˆˆ [1; 3], where Ï†ij are internal input quantization parameters.

exist Â¯z0 âˆˆ X0 \ Xs and a ï¬nite state run {Â¯z0, Â¯z1, . . . , Â¯zn} such that

max
kâˆˆ[0;n]

(cid:107)H(zk) âˆ’ H(Â¯zk)(cid:107) â‰¤ Î´.

Intuitively, the notion of Î´-approximate initial-state opacity requires that, whenever observing any output run,
an intruder with measurement precision Î´ is never certain that the system is initiated from a secret state. In
other words, the systemsâ€™ secret information can never be revealed in the presence of an intruder that does
not have an enough measurement precision.

Remark 8. The approximate initial-state opacity is, in general, hard to check for a concrete network since
there is no systematic way in the literature to check opacity for systems with inï¬nite state set so far. On the
other hand, existing tool DESUMA1 and algorithms [16], [17],[6, Sec. IV] in DESs literature can be leveraged to
check exact opacity for networks with ï¬nite state sets. Therefore, it would be more feasible to verify opacity for
networks consisting of ï¬nite abstractions and then carry back the veriï¬cation result to concrete ones, given a
formal simulation relation between those networks. To this purpose, an opacity-preserving simulation relation
will be introduced in the next section which formally relate a network of transition systems and its ï¬nite
abstraction.

3. Opacity Preserving Simulation Functions

In this section, we introduce a notion of approximate initial-state opacity-preserving simulation function to
quantitatively relate two networks of transition systems in terms of preserving approximate initial-state opacity.
Such a function can be constructed compositionally as shown in Section 4.

Let us ï¬rst recall the deï¬nition of approximate initial-state opacity-preserving simulation relations which was
originally proposed in [7].

1Available at URL http://www.eecs.umich.edu/umdes/toolboxes.html.

123Ë†Ë†Ë†Ë†(,,)ï“ï“ï“1Ë†ï“2Ë†ï“3Ë†ï“Æ¸ğ‘2à·œğ‘¦22Æ¸ğ‘1à·œğ‘¦11Æ¸ğ‘3à·œğ‘¦33ğ‘¤12123(,,)ï“ï“ï“ğ‘¤23ğ‘¦12ğ‘¤32ğ‘¤21ğ‘¦21ğ‘¦32ğ‘¦231ï“2ï“3ï“ğ‘2ğ‘¦22ğ‘1ğ‘¦11ğ‘3ğ‘¦33à·ğ‘¤12à·œy12à·ğ‘¤21à·œy21ğœ™21ğœ™12à·ğ‘¤23à·œy23à·ğ‘¤32à·œy32ğœ™32ğœ™23VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

7

Deï¬nition 9. Consider networks T (Î£) = (X, X0, Xs, U, F, Y, H) and T ( Ë†Î£) = ( Ë†X, Ë†X0, Ë†Xs, Ë†U , Ë†F, Ë†Y , Ë†H) where
Ë†Y âŠ† Y . For Ë†Îµ âˆˆ Râ‰¥0, a relation R âŠ† X Ã— Ë†X is called an Ë†Îµ-approximate initial-state opacity-preserving
simulation relation (Ë†Îµ-InitSOP simulation relation) from T (Î£) to T ( Ë†Î£) if

1 (a) âˆ€z0 âˆˆ X0 âˆ© Xs, âˆƒË†z0 âˆˆ Ë†X0 âˆ© Ë†Xs, s.t. (z0, Ë†z0) âˆˆ R;
(b) âˆ€Ë†z0 âˆˆ Ë†X0 \ Ë†Xs, âˆƒz0 âˆˆ X0 \ Xs, s.t. (z0, Ë†z0) âˆˆ R;

2 âˆ€(z, Ë†z) âˆˆ R, (cid:107)H(z) âˆ’ Ë†H(Ë†z)(cid:107) â‰¤ Ë†Îµ;
3 For any (z, Ë†z) âˆˆ R, one has:

(a) âˆ€u âˆˆ U , âˆ€z+ âˆˆ F(z, u), âˆƒË†u âˆˆ Ë†U , âˆƒË†z+ âˆˆ Ë†F(Ë†z, Ë†u), s.t. (z+, Ë†z+) âˆˆ R;
(b) âˆ€Ë†u âˆˆ Ë†U , âˆ€Ë†z+ âˆˆ Ë†F(Ë†z, Ë†u), âˆƒu âˆˆ U , âˆƒz+ âˆˆ F(z, u), s.t. (z+, Ë†z+) âˆˆ R.

The following corollary borrowed from [7] shows the usefulness of Deï¬nition 9 in terms of preserving approxi-
mate opacity across related networks.

Corollary 10. Consider networks T (Î£) = (X, X0, Xs, U, F, Y, H) and T ( Ë†Î£) = ( Ë†X, Ë†X0, Ë†Xs, Ë†U , Ë†F, Ë†Y , Ë†H) where
Ë†Y âŠ† Y . Let Ë†Îµ, Î´ âˆˆ Râ‰¥0. If there exists an Ë†Îµ-InitSOP simulation relation from T (Î£) to T ( Ë†Î£) as in Deï¬nition
9 and Ë†Îµ â‰¤ Î´

2 , then the following implication holds

T ( Ë†Î£) is (Î´ âˆ’ 2Ë†Îµ)-approximate initial-state opaque
â‡’ T (Î£) is Î´-approximate initial-state opaque.

The above implication across related networks provides us a suï¬ƒcient condition for verifying approximate
initial-state opacity of a complex network using abstraction-based techniques. Particularly, when confronted
with a large network of switched systems, one can construct a ï¬nite abstraction T ( Ë†Î£) of the concrete network
T (Î£), conduct the opacity veriï¬cation over the simpler network T ( Ë†Î£) and carry back the results to the concrete
one. However, the above-mentioned InitSOP simulation relation is in general diï¬ƒcult to establish, especially
when one is interested to build such a relation in a compositional framework. Therefore, in the following, we
introduce a new notion of approximate initial-state opacity-preserving simulation function that relates two
networks in terms of preserving approximate initial-state opacity.

Deï¬nition 11. Consider networks T (Î£) = (X, X0, Xs, U, F, Y, H) and T ( Ë†Î£) = ( Ë†X, Ë†X0, Ë†Xs, Ë†U , Ë†F, Ë†Y , Ë†H) with
Ë†Y âŠ† Y . For Îµ âˆˆ Râ‰¥0, a function S : X Ã— Ë†X â†’ Râ‰¥0 is called an Îµ-approximate initial-state opacity-preserving
simulation function (Îµ-InitSOPSF) from T (Î£) to T ( Ë†Î£) if there exists a function Î± âˆˆ Kâˆ such that

1 (a) âˆ€z0 âˆˆ X0 âˆ© Xs, âˆƒË†z0 âˆˆ Ë†X0 âˆ© Ë†Xs, s.t. S(z0, Ë†z0) â‰¤ Îµ;
(b) âˆ€Ë†z0 âˆˆ Ë†X0 \ Ë†Xs, âˆƒz0 âˆˆ X0 \ Xs, s.t. S(z0, Ë†z0) â‰¤ Îµ;

2 âˆ€z âˆˆ X, âˆ€Ë†z âˆˆ Ë†X, Î±((cid:107)H(z) âˆ’ Ë†H(Ë†z)(cid:107)) â‰¤ S(z, Ë†z);
3 âˆ€z âˆˆ X, âˆ€Ë†z âˆˆ Ë†X s.t. S(z, Ë†z) â‰¤ Îµ, one has:

(a) âˆ€u âˆˆ U , âˆ€z+ âˆˆ F(z, u), âˆƒË†u âˆˆ Ë†U , âˆƒË†z+ âˆˆ Ë†F(Ë†z, Ë†u), s.t. S(z+, Ë†z+) â‰¤ Îµ;
(b) âˆ€Ë†u âˆˆ Ë†U , âˆ€Ë†z+ âˆˆ Ë†F(Ë†z, Ë†u), âˆƒu âˆˆ U , âˆƒz+ âˆˆ F(z, u), s.t. S(z+, Ë†z+) â‰¤ Îµ.

We say that T ( Ë†Î£) is an abstraction of T (Î£) if there exists an Îµ-InitSOPSF from T (Î£) to T ( Ë†Î£). In addition,
if T ( Ë†Î£) is ï¬nite ( Ë†X is a ï¬nite set), system T ( Ë†Î£) is called a ï¬nite abstraction (symbolic model) of the network
T (Î£), and is denoted by T (Î£) (cid:22)Îµ T ( Ë†Î£).

Although Deï¬nition 11 is general in the sense that networks T (Î£) and T ( Ë†Î£) can be either inï¬nite or ï¬nite,
network T ( Ë†Î£) practically consists of N âˆˆ Nâ‰¥1 ï¬nite abstractions. Hence, checking approximate initial-state
opacity for this network is decidable in comparison to network T (Î£).

The next result shows that the existence of an Îµ-InitSOPSF as we proposed in Deï¬nition 11 for networks of
transition systems implies the existence of an Ë†Îµ-InitSOP simulation relation as in Deï¬nition 9.

8

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

Proposition 12. Consider networks T (Î£) = (X, X0, Xs, U, F, Y, H) and T ( Ë†Î£) = ( Ë†X, Ë†X0, Ë†Xs, Ë†U , Ë†F, Ë†Y , Ë†H)
where Ë†Y âŠ† Y . Assume S is an Îµ-InitSOPSF from T (Î£) to T ( Ë†Î£) as in Deï¬nition 11. Then, relation R âŠ† X Ã— Ë†X
deï¬ned by

(cid:110)

R =

(z, Ë†z) âˆˆ X Ã— Ë†X|S(z, Ë†z) â‰¤ Îµ

(cid:111)

is an Ë†Îµ-InitSOP simulation relation from T (Î£) to T ( Ë†Î£) with
Ë†Îµ = Î±âˆ’1(Îµ).

,

(6)

(7)

Proof. Condition 1 follows immediately from condition 1 in Deï¬nition 11, i.e. S(z0, Ë†z0) â‰¤ Îµ. Next, we show
that âˆ€(z, Ë†z) âˆˆ R: (cid:107)H(z) âˆ’ Ë†H(Ë†z)(cid:107) â‰¤ Ë†Îµ. From the deï¬nition of R and condition 2 in Deï¬nition 11, it is readily
seen that (cid:107)H(z)âˆ’ Ë†H(Ë†z)(cid:107) â‰¤ Î±âˆ’1(Îµ) = Ë†Îµ. Finally, we show condition 3 for R. Consider any pair of (z, Ë†z) âˆˆ X Ã— Ë†X
in relation R and by the deï¬nition of R, one has S(z, Ë†z) â‰¤ Îµ. Additionally, from 3(a) in Deï¬nition 11, one also
has âˆ€u âˆˆ U , âˆ€z+ âˆˆ F(z, u), âˆƒË†u âˆˆ Ë†U , âˆƒË†z+ âˆˆ Ë†F(Ë†z, Ë†u) s.t. S(z+, Ë†z+) â‰¤ Îµ. Hence, it follows that (z+, Ë†z+) âˆˆ R
which satisï¬es condition 3(a) of R. Condition 3(b) can be proved in the same way and is omitted here, which
(cid:3)
concludes the proof.

Given the results of Corollary 10 and Proposition 12, one can readily see that if there exists an Îµ-InitSOPSF
from T (Î£) to T ( Ë†Î£) as in Deï¬nition 11 and T ( Ë†Î£) is (Î´ âˆ’ 2Ë†Îµ)-approximate initial-state opaque, then T (Î£) is
Î´-approximate initial-state opaque, where Ë†Îµ = Î±âˆ’1(Îµ) â‰¤ Î´

2 , and Î´ âˆˆ Râ‰¥0.

4. Compositional Construction of Approximate Initial-state Opacity Preserving Simulation

Function

As shown in the previous section, the proposed Îµ-InitSOPSF can be used for checking approximate initial-
state opacity of concrete networks by leveraging their ï¬nite abstractions. However, for a network consisting
of a large number of switched systems, constructing the corresponding Îµ-InitSOPSF and the abstract network
monolithically is not feasible in general due to curse of dimensionality. Hence, in this section, we introduce
a compositional framework based on which one can break down the intricate task in parts that are more
manageable to accomplish. In particular, we ï¬rst relate local ï¬nite abstractions of the subsystems via so-called
local InitSOPSFs. Then, one can obtain the abstract network by interconnecting the local ï¬nite abstractions
of the subsystems. Additionally, the corresponding Îµ-InitSOPSF to capture the closeness between the concrete
and the abstract networks can be established by composing the local InitSOPSFs as well.

Let us ï¬rst introduce a notion of local InitSOPSF for switched subsystems with internal inputs in the following
subsection.

4.1. Local Approximate Initial-state Opacity Preserving Simulation Function. Suppose that we are
given N dt-SS Î£i = (Xi, X0i, Xsi, Pi, Wi, Fi, Yi, hi), i âˆˆ [1; N ], or equivalently, T (Î£i) = (Xi, X0i, Xsi, Ui, Wi, Fi,
Yi, Hi). Moreover, we assume that each system T (Î£i) and its abstraction T ( Ë†Î£i) admit a local Îµi-InitSOPSF
as deï¬ned next.
Deï¬nition 13. Consider transition systems T (Î£i) = (Xi, X0i, Xsi, Ui, Wi, Fi, Yi, Hi) and T ( Ë†Î£i) = ( Ë†Xi, Ë†X0i, Ë†Xsi,
Ë†Ui, Ë†Wi, Ë†Fi, Ë†Yi, Ë†Hi), for all i âˆˆ [1; N ], where Ë†Wi âŠ† Wi and Ë†Yi âŠ† Yi. For Îµi âˆˆ Râ‰¥0, a function Si : Xi Ã— Ë†Xi â†’ Râ‰¥0
is called a local Îµi-InitSOPSF from T (Î£i) to T ( Ë†Î£i) if there exist a constant Ï‘i âˆˆ Râ‰¥0, and a function Î±i âˆˆ Kâˆ
such that

1 (a) âˆ€z0
(b) âˆ€Ë†z0

i âˆˆ X0i âˆ© Xsi, âˆƒË†z0
i âˆˆ Ë†X0i \ Ë†Xsi , âˆƒz0

i âˆˆ Ë†X0i âˆ© Ë†Xsi , s.t. Si(z0
i âˆˆ X0i \ Xsi, s.t. Si(z0

i , Ë†z0
i , Ë†z0

i ) â‰¤ Îµi;
i ) â‰¤ Îµi;

2 âˆ€zi âˆˆ Xi, âˆ€Ë†zi âˆˆ Ë†Xi, Î±i((cid:107)Hi(zi) âˆ’ Ë†Hi(Ë†zi)(cid:107)) â‰¤ Si(zi, Ë†zi);

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

9

3 âˆ€zi âˆˆ Xi, âˆ€Ë†zi âˆˆ Ë†Xi s.t. Si(zi, Ë†zi) â‰¤ Îµi, âˆ€wi âˆˆ Wi, âˆ€ Ë†wi âˆˆ Ë†Wi s.t. (cid:107)wi âˆ’ Ë†wi(cid:107) â‰¤ Ï‘i, one has:

(a) âˆ€ui âˆˆ Ui, âˆ€z+
(b) âˆ€Ë†ui âˆˆ Ë†Ui, âˆ€Ë†z+

i âˆˆ Fi(zi, ui, wi), âˆƒË†ui âˆˆ Ë†Ui, âˆƒË†z+
i âˆˆ Ë†Fi(Ë†zi, Ë†ui, Ë†wi), âˆƒui âˆˆ Ui, âˆƒz+

i âˆˆ Ë†Fi(Ë†zi, Ë†ui, Ë†wi) s.t. Si(z+
i âˆˆ Fi(zi, ui, wi) s.t. Si(z+

i , Ë†z+
i , Ë†z+

i ) â‰¤ Îµi;
i ) â‰¤ Îµi.

We say that T ( Ë†Î£i) is an abstraction of T (Î£i) if there exists a local Îµi-InitSOPSF from T (Î£i) to T ( Ë†Î£i). In
addition, if T ( Ë†Î£i) is ï¬nite ( Ë†Xi and Ë†Wi are ï¬nite sets), system T ( Ë†Î£i) is called a ï¬nite abstraction (symbolic
model) of T (Î£i), and is denoted by T (Î£i) (cid:22)Îµi

L T ( Ë†Î£i)

Note that the local Îµi-InitSOPSFs are mainly proposed for constructing a Îµ-InitSOPSF for the networks and
they are not directly used for deducing approximate initial-state opacity-preserving simulation relation. Next,
we show how to compose the above deï¬ned local Îµi-InitSOPSFs so that it can be used to quantify the distance
between two networks.

4.2. Compositional Construction of Initial-state Opacity Preserving Simulation Function. In this
subsection, we provide one of the main results of the paper. The following theorem provides a compositional
approach for the construction of an Îµ-InitSOPSF from T (Î£) to T ( Ë†Î£) via local Îµi-InitSOPSFs from T (Î£i) to
T ( Ë†Î£i).

Theorem 14. Consider network T (Î£) = I(T (Î£1), . . . , T (Î£N )). Assume that each T (Î£i) admits an abstrac-
tion T ( Ë†Î£i) together with a local Îµi-InitSOPSF Si, associated with function Î±i and constant Ï‘i as in Deï¬nition
13. Let Îµ = max

Îµi. If âˆ€i âˆˆ [1; N ], âˆ€j âˆˆ Ni,

i

j (Îµj) + Ï†ij â‰¤ Ï‘i,
where Ï†ij is an internal input quantization parameter for constructing the local ï¬nite abstractions T ( Ë†Î£i), then,
function S : X Ã— Ë†X â†’ Râ‰¥0 deï¬ned as

(8)

Î±âˆ’1

is an Îµ-InitSOPSF from T (Î£) = I(T (Î£1), . . . , T (Î£N )) to T ( Ë†Î£) = Ë†I(T ( Ë†Î£1), . . . , T ( Ë†Î£N )).

{
S(z, Ë†z) := max

i

Îµ
Îµi

Si(zi, Ë†zi)},

(9)

i âˆˆ Ë†X0i âˆ© Ë†Xsi s.t. Si(z0

Proof. First, we show that condition 1(a) in Deï¬nition 11 holds. Consider any z0 âˆˆ X0 âˆ© XS. For any
system T (Î£i) and the corresponding Îµi-InitSOPSF Si, from the deï¬nition of Si, we have âˆ€z0
i âˆˆ X0i âˆ© Xsi,
âˆƒË†z0
i ) â‰¤ Îµi. Then, from the deï¬nition of S in (9) we get S(z0, Ë†z0) â‰¤ Îµ, where
Ë†z0 âˆˆ Ë†X0 âˆ© Ë†XS. Thus, condition 1(a) in Deï¬nition 11 holds. Condition 1(b) can be proved in the same way,
thus is omitted. Now, we show that condition 2 in Deï¬nition 11 holds for some Kâˆ function Î±. Consider any
z = [z1; . . . ; zN ] âˆˆ X and Ë†z = [Ë†z1; . . . ; Ë†zN ] âˆˆ Ë†X. Then, using condition 2 in Deï¬nition 13, one gets
{(cid:107)Hii(zi) âˆ’ Ë†Hii(Ë†zi)(cid:107)}

(cid:107)H(z) âˆ’ Ë†H(Ë†z)(cid:107) = max

i , Ë†z0

i
{(cid:107)Hi(zi) âˆ’ Ë†Hi(Ë†zi)(cid:107)} â‰¤ max

â‰¤ max

i

{Î±âˆ’1
i

â—¦ Si(zi, Ë†zi)} â‰¤ Ë†Î± â—¦ max

i

{

Îµ
Îµi

Si(zi, Ë†zi)},

i

where Ë†Î± = max

{Î±âˆ’1

i }. By deï¬ning Î± = Ë†Î±âˆ’1, one obtains

i

Î±((cid:107)H(z) âˆ’ Ë†H(Ë†z)(cid:107)) â‰¤ S(z, Ë†z),

which satisï¬es condition 2 in Deï¬nition 11. Now, we show that condition 3 holds. Let us consider any z âˆˆ X
and Ë†z âˆˆ Ë†X such that S(z, Ë†z) â‰¤ Îµ. It can be seen that from the structure of S in (9), we get Si(zi, Ë†zi) â‰¤ Îµi,
âˆ€i âˆˆ [1; N ]. For each pair of systems T (Î£i) and T ( Ë†Î£i), the internal inputs satisfy the chain of inequality

(cid:107)wi âˆ’ Ë†wi(cid:107) = max
jâˆˆNi

{(cid:107)wij âˆ’ Ë†wij(cid:107)} = max
jâˆˆNi

{(cid:107)yji âˆ’ Ë†yji + Ë†yji âˆ’ Ë†wij(cid:107)} â‰¤ max
jâˆˆNi

{(cid:107)yji âˆ’ Ë†yji(cid:107) + Ï†ij}

â‰¤ max
jâˆˆNi

{(cid:107)Hj(zj) âˆ’ Ë†Hj(Ë†zj)(cid:107) + Ï†ij} â‰¤ max
jâˆˆNi

{Î±âˆ’1

j â—¦ Sj(zj, Ë†zj) + Ï†ij} â‰¤ max
jâˆˆNi

{Î±âˆ’1

j â—¦ Îµj + Ï†ij}.

10

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

i âˆˆ Fi(zi, ui, wi), there exists Ë†ui âˆˆ Ë†Ui and Ë†z+

Using (8), one has (cid:107)wi âˆ’ Ë†wi(cid:107) â‰¤ Ï‘i. Therefore, by Deï¬nition 13 for each pair of systems T (Î£i) and T ( Ë†Î£i), one
has âˆ€ui âˆˆ Ui, âˆ€z+
i ) â‰¤ Îµi. As
a result, we get âˆ€u = [u1; . . . ; uN ] âˆˆ U , âˆ€z+ âˆˆ F(z, u), there exists Ë†u = [Ë†u1; . . . ; Ë†uN ] âˆˆ Ë†U and Ë†z+ âˆˆ Ë†F(Ë†z, Ë†u)
such that S(z+, Ë†z+) := max
i )} â‰¤ Îµ. Therefore, condition 3(a) in Deï¬nition 11 is satisï¬ed with
Îµi. The proof of condition 3(b) uses the same reasoning as that of 3(a) and is omitted. Therefore, we
(cid:3)

Îµ = max
conclude that S is a Îµ-InitSOPSF from T (Î£) = I(T (Î£1), . . . , T (Î£N )) to T ( Ë†Î£) = Ë†I(T ( Ë†Î£1), . . . , T ( Ë†Î£N )).

i âˆˆ Ë†Fi(Ë†zi, Ë†ui, Ë†wi) such that Si(z+

i , Ë†z+

i , Ë†z+

Si(z+

{ Îµ
Îµi

i

i

Till here, we have seen that one can construct an abstraction of a network of switched systems by intercon-
necting local abstractions of the subsystems. The overall InitSOPSF between two networks is established by
composing local InitSOPSFs as well. This abstract network saï¬sties Deï¬nition 11, which allows us to check
approximate opacity property over the simpler abstract network and carry the results back to the concrete
network using the results provided in Corollary 10.

Next, we are going to impose certain conditions on the dynamics of the subsystems, such that one can construct
proper abstractions for all of the subsystems together with the corresponding local InitSOPSFs.

5. Construction of Finite Abstractions

In this section, we are going to explore how to construct ï¬nite abstractions together with local InitSOPSFs for
subsystems. The dt-SS Î£ = (X, X0, Xs, P, W, F, Y, h) are assumed to be inï¬nite and deterministic. Moreover,
we assume the output map h satisï¬es the following general Lipschitz assumption: there exists an (cid:96) âˆˆ Kâˆ
such that: (cid:107)h(x) âˆ’ h(y)(cid:107) â‰¤ (cid:96)((cid:107)x âˆ’ y(cid:107)) for all x, y âˆˆ X. Here, we also use Î£p to denote a dt-SS Î£ in (1) with
constant switching signal p(k) = p, âˆ€k âˆˆ N.

5.1. Construction of Local Finite Abstractions. Note that throughout this subsection, we are mainly
talking about switched subsystems rather than the overall network. However, for the sake of better readability,
we omit index i of subsystems throughout the text in this subsection, e.g., we write T (Î£) instead of T (Î£i).

Here, we establish an Îµ-InitSOPSF between T (Î£) and its ï¬nite abstraction by assuming that, for all p âˆˆ P ,
Î£p is incrementally input-to-state stable (Î´-ISS) [18] as deï¬ned next.
Deï¬nition 15. System Î£p is Î´-ISS if there exist functions Vp : X Ã— X â†’ Râ‰¥0, Î±p, Î±p, Ïp âˆˆ Kâˆ, and constant
0 < Îºp < 1, such that for all x, Ë†x âˆˆ X, and for all w, Ë†w âˆˆ W

Î±p((cid:107)x âˆ’ Ë†x(cid:107)) â‰¤ Vp(x, Ë†x) â‰¤ Î±p((cid:107)x âˆ’ Ë†x(cid:107)),
Vp(fp(x, w),fp(Ë†x, Ë†w)) â‰¤ ÎºpVp(x, Ë†x) + Ïp((cid:107)w âˆ’ Ë†w(cid:107)).

(10)

(11)

Remark 16. We say that Vp, âˆ€p âˆˆ P , are multiple Î´-ISS Lyapunov functions for subsystem Î£ if it satisï¬es
(10) and (11). Moreover, if Vp = Vp+, âˆ€p, p+ âˆˆ P , we omit the index p in (10), (11), and say that V is
a common Î´-ISS Lyapunov function for system Î£. We refer interested readers to [14] for more details on
common and multiple Lyapunov functions for switched systems.

Now, we show how to construct a local ï¬nite abstraction T ( Ë†Î£) of transition system T (Î£) associated to the
switched subsystem Î£ in which Î£p is Î´-ISS.

Deï¬nition 17. Consider a transition system T (Î£) = (X, X0, Xs, U, W, F, Y, H), associated to the switched
subsystem Î£ = (X, X0, Xs, P, W, F, Y, h), where X, W are assumed to be ï¬nite unions of boxes. Let Î£p be Î´-ISS
as in Deï¬nition 15. Then one can construct a ï¬nite abstraction T ( Ë†Î£) = ( Ë†X, Ë†X0, Ë†Xs, Ë†U , Ë†W , Ë†F, Ë†Y , Ë†H) where:

â€¢ Ë†X = Ë†X Ã— P Ã— {0, . . . , kd âˆ’ 1}, where Ë†X = [X]Î· and 0 < Î· â‰¤ min{span(Xs), span(X \ Xs)} is the state

set quantization parameter;

â€¢ Ë†X0 = Ë†X0 Ã— P Ã— {0}, where Ë†X0 = [X0]Î·;
â€¢ Ë†Xs = Ë†Xs Ã— P Ã— {0, Â· Â· Â· , kd âˆ’ 1}, where Ë†Xs = [Xs]Î·;

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

11

Figure 3. Construction of local ï¬nite abstractions of switched subsystems.

â€¢ Ë†U = U = P ;
â€¢ (Ë†x+, p+, l+) âˆˆ Ë†F((Ë†x, p, l), Ë†u, Ë†w) if and only if (cid:107)fp(Ë†x, Ë†w) âˆ’ Ë†x+(cid:107) â‰¤ Î·, Ë†u = p and the following scenarios

hold:

â€“ l < kd âˆ’ 1, p+ = p and l+ = l + 1;
â€“ l = kd âˆ’ 1, p+ = p and l+ = kd âˆ’ 1;
â€“ l = kd âˆ’ 1, p+ (cid:54)= p and l+ = 0;

â€¢ Ë†Y = {H(Ë†x, p, l)|(Ë†x, p, l) âˆˆ Ë†X};
â€¢ Ë†H : Ë†X â†’ Ë†Y , deï¬ned as Ë†H(Ë†x, p, l) = H(Ë†x, p, l) = h(Ë†x);
â€¢ Ë†W = [W]Ï†, where Ï†, satisfying 0 < (cid:107)Ï†(cid:107) â‰¤ span(W), is the internal input set quantization parameter.

An illustration of the computation of the transitions of T ( Ë†Î£) is shown in Figure 3.

Note that in the case when the concrete switched subsystem Î£ admits a common Î´-ISS Lyapunov function as
in Remark 16, Deï¬nition 17 boils down to the following.

Deï¬nition 18. Consider a transition system T (Î£) = (X, X0, Xs, U, W, F, Y, H), associated to the switched
subsystem Î£ = (X, X0, Xs, P, W, F, Y, h), where X, W are assumed to be ï¬nite unions of boxes. Suppose Î£
admits a common Î´-ISS Lyapunov function as in Remark 16. Then one can construct a ï¬nite abstraction
T ( Ë†Î£) = ( Ë†X, Ë†X0, Ë†Xs, Ë†U , Ë†W , Ë†F, Ë†Y , Ë†H) where:

â€¢ Ë†X = [X]Î·, where 0 < Î· â‰¤ min{span(Xs), span(X \ Xs)} is the state set quantization parameter;
â€¢ Ë†X0 = [X0]Î·;
â€¢ Ë†Xs = [Xs]Î·;
â€¢ Ë†U = P ;
â€¢ Ë†x+ âˆˆ Ë†F(Ë†x, Ë†u, Ë†w) if and only if (cid:107)fË†u(Ë†x, Ë†w) âˆ’ Ë†x+(cid:107) â‰¤ Î·;
â€¢ Ë†Y = {h(Ë†x)|Ë†x âˆˆ Ë†X};
â€¢ Ë†H : Ë†X â†’ Ë†Y , deï¬ned as Ë†H(Ë†x) = h(Ë†x);
â€¢ Ë†W = [W]Ï†, where Ï†, satisfying 0 < (cid:107)Ï†(cid:107) â‰¤ span(W), is the internal input set quantization parameter.

In order to construct a local Îµ-InitSOPSF from T (Î£) to T ( Ë†Î£), we raise the following assumptions on functions
Vp appeared in Deï¬nition 15, which are used to prove some of the main results later.

Assumption 19. There exists Âµ â‰¥ 1 such that

âˆ€x, y âˆˆ X, âˆ€p, q âˆˆ P, Vp(x, y) â‰¤ ÂµVq(x, y).

(12)

ğœ‚Ë†Ë†(,)fxwp+Ë†x+Ë†x+Ë†x+Ë†xË†x12

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

Assumption 19 is an incremental version of a similar assumption in [19] that is used to prove input-to-state
stability of switched systems under constrained switching signals.

Assumption 20. For all p âˆˆ P , there exists a Kâˆ function Î³p such that

âˆ€x, y, z âˆˆ X, Vp(x, y) â‰¤ Vp(x, z) + Î³p((cid:107)y âˆ’ z(cid:107)).

(13)

Assumption 20 is non-restrictive as shown in [20] provided that one is interested to work on a compact subset
of X.
Now, we establish the relation between T (Î£) and T ( Ë†Î£), introduced above, via the notion of local Îµ-InitSOPSF
as in Deï¬nition 13.

Theorem 21. Consider a dt-SS Î£ = (X, X0, Xs, P, W, F, Y, h) with its equivalent transition system T (Î£) =
(X, X0, XS, U, W, F, Y, H). Suppose Î£p is Î´-ISS as in Deï¬nition 15, with a function Vp equipped with functions
Î±p, Î±p, Ïp and constant Îºp, and Assumptions 19 and 20 hold. Let (cid:15) > 1. For any design parameters Îµ, Ï‘ âˆˆ Râ‰¥0,
let T ( Ë†Î£) be a ï¬nite abstraction of T (Î£) constructed as in Deï¬nition 17 with any quantization parameter Î·
satisfying

where Îº = max
pâˆˆP

(cid:110)

(cid:15)âˆ’1
(cid:15)

Îº
p

(cid:111)

, Ï = max
pâˆˆP

Îºâˆ’ kd

p

(cid:15)

Ïp

, Ë†Î³ = max
pâˆˆP

Îºâˆ’ kd

p

(cid:15)

Î³p

, Î± = max
pâˆˆP

Î· â‰¤ min{Ë†Î³âˆ’1((1 âˆ’ Îº)Îµ âˆ’ Ï(Ï‘)), Î±âˆ’1(Îµ)},
(cid:26)

(cid:26)

(cid:27)

(cid:27)

(14)

(cid:110)
Îºâˆ’ l
p Î±p

(cid:15)

(cid:111)

. If, âˆ€p âˆˆ P, kd â‰¥

(cid:15) ln(Âµ)
ln( 1
Îºp

) + 1, then function V deï¬ned as

is a local Îµ-InitSOPSF from T (Î£) to T ( Ë†Î£).

V((x, p, l), (Ë†x, p, l)) := Vp(x, Ë†x)Îº

âˆ’l
(cid:15)

p ,

(15)

Proof. We start by proving condition 1 in Deï¬nition 13. Consider any initial and secret state (x0, p0, 0) âˆˆ
X0 âˆ© Xs in T (Î£). From Deï¬nition 17, for every (x0, p0, 0) âˆˆ X0 âˆ© Xs, there always exists (Ë†x0, p0, 0) âˆˆ Ë†X0 âˆ© Ë†Xs
such that (cid:107)x0 âˆ’ Ë†x0(cid:107) â‰¤ Î·. Hence, using (10), there exists (Ë†x0, p0, 0) âˆˆ Ë†X0 âˆ© Ë†Xs with V((x0, p0, 0), (Ë†x0, p0, 0)) â‰¤
Î±p((cid:107)x0âˆ’Ë†x0(cid:107))
and Î±(Î·) â‰¤ Îµ by (14). For every
l
(cid:15)
p

, and condition 1(a) is satisï¬ed with Î± = max
pâˆˆP

â‰¤ Î±p(Î·)
Îº

(cid:110)
Îºâˆ’ l
p Î±p

(cid:111)

l
(cid:15)
p

Îº

(cid:15)

(Ë†x0, p0, 0) âˆˆ Ë†X0\ Ë†Xs, by choosing x0 = Ë†x0 with (x0, p0, 0) also being inside X0\Xs, we get V((x0, p0, 0), (Ë†x0, p0, 0)) =
0 â‰¤ Îµ. Hence, condition 1(b) in Deï¬nition 13 holds as well.

Next, we show condition 2 in Deï¬nition 13 holds. Given the Lipschitz assumption on h and since, âˆ€p âˆˆ P , Î£p
is Î´-ISS, from (10), âˆ€(x, p, l) âˆˆ X and âˆ€(Ë†x, p, l) âˆˆ Ë†X, we have

(cid:107)H(x, p, l) âˆ’ Ë†H(Ë†x, p, l)(cid:107) = (cid:107)h(x) âˆ’ Ë†h(Ë†x)(cid:107) â‰¤ (cid:96)((cid:107)x âˆ’ Ë†x(cid:107)) â‰¤ (cid:96) â—¦ Î±âˆ’1

p (Vp(x, Ë†x)) = (cid:96) â—¦ Î±âˆ’1
p

(cid:16)

â‰¤ (cid:96) â—¦ Î±âˆ’1

p

(V((x, p, l), (Ë†x, p, l))) â‰¤ Ë†Î± (V((x, p, l), (Ë†x, p, l))) ,

where Ë†Î± = max
pâˆˆP

{(cid:96) â—¦ Î±âˆ’1

p }. By deï¬ning Î± = Ë†Î±âˆ’1, one obtains

l
(cid:15)

Îº

p V((x, p, l), (Ë†x, p, l))

(cid:17)

Î±((cid:107)H(x, p, l) âˆ’ Ë†H(Ë†x, p, l)(cid:107)) â‰¤ V((x, p, l), (Ë†x, p, l)),

satisfying condition 2. Now we show condition 3 in Deï¬nition 13. From (13), âˆ€x âˆˆ X, âˆ€Ë†x âˆˆ Ë†X, âˆ€w âˆˆ W, âˆ€ Ë†w âˆˆ Ë†W ,
we have

Vp(fp(x, w), Ë†x+) â‰¤ Vp(fp(x, w), fp(Ë†x, Ë†w)) + Î³p((cid:107)Ë†x+ âˆ’ fp(Ë†x, Ë†w)(cid:107)),

for any Ë†x+ such that (Ë†x+, p+, l+) âˆˆ Ë†F((Ë†x, p, l), Ë†u, Ë†w). Now, from Deï¬nition 17, the above inequality reduces to
Vp(fp(x, w), Ë†x+) â‰¤ Vp(fp(x, w), fp(Ë†x, Ë†w)) + Î³p(Î·).

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

13

Note that by (11), one gets

Hence, âˆ€x âˆˆ X, âˆ€Ë†x âˆˆ Ë†X, âˆ€w âˆˆ W, âˆ€ Ë†w âˆˆ Ë†W , one obtains

Vp(fp(x, w), fp(Ë†x, Ë†w)) â‰¤ ÎºpVp(x, Ë†x) + Ïp((cid:107)w âˆ’ Ë†w(cid:107)).

Vp(fp(x, w), Ë†x+) â‰¤ ÎºpVp(x, Ë†x) + Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·),
for any Ë†x+ such that (Ë†x+, p+, l+) âˆˆ Ë†F((Ë†x, p, l), Ë†u, Ë†w). Now, in order to show function V deï¬ned in (15) satisï¬es
condition 3 in Deï¬nition 13, we consider the diï¬€erent scenarios in Deï¬nition 17:

(16)

â€¢ l < kd âˆ’ 1, p+ = p and l+ = l + 1, using (16) and kd > l + 1, we have

V((x+, p+, l+), (Ë†x+, p+, l+)) =

Vp+ (x+, Ë†x+)
l+
(cid:15)
p

Îº

=

â‰¤

ÎºpVp(x, Ë†x) + Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
l+1
(cid:15)

Îº

p

=

Îºp
1
(cid:15)
p

Îº

Vp(fp(x, w), Ë†x+)

Îº
Vp(x, Ë†x)
l
(cid:15)
p

Îº

l+1
(cid:15)

p

+

Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
l+1
(cid:15)

Îº

p

â‰¤ Îº

(cid:15)âˆ’1
p V((x, p, l), (Ë†x, p, l)) +
(cid:15)

Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
kd
(cid:15)
p

Îº

.

â€¢ l = kd âˆ’ 1, p+ = p and l+ = kd âˆ’ 1, using (16) and (cid:15)âˆ’1

V((x+, p+, l+), (Ë†x+, p+, l+)) =

Vp+ (x+, Ë†x+)
l+
(cid:15)
p

Îº

=

â‰¤

ÎºpVp(x, Ë†x) + Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
l
(cid:15)
p

Îº

= Îºp

Vp(x, Ë†x)
l
(cid:15)
p

Îº

â‰¤ Îº

(cid:15)âˆ’1
p V((x, p, l), (Ë†x, p, l)) +
(cid:15)

Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
kd
(cid:15)
p

Îº

.

(cid:15) < 1, one gets
Vp(fp(x, w), Ë†x+)

l
(cid:15)
p

Îº

+

Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
l
(cid:15)
p

Îº

kdâˆ’1
â€¢ l = kd âˆ’ 1, p+ (cid:54)= p and l+ = 0, using (16), ÂµÎº
(cid:15)
p
Vp+ (x+, Ë†x+)
l+
(cid:15)
p+

V((x+, p+, l+), (Ë†x+, p+, l+)) =

Îº

â‰¤ 1, and (cid:15)âˆ’1

(cid:15) < 1, one has

â‰¤ ÂµVp(fp(x, w), Ë†x+)

kdâˆ’1
(cid:15)
p

ÂµÎº

â‰¤

(ÎºpVp(x, Ë†x) + Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·))

kdâˆ’1
(cid:15)
p

Îº

= Îºp

Vp(x, Ë†x)
l
(cid:15)
p

Îº

+

Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
l
(cid:15)
p

Îº

â‰¤ Îº

(cid:15)âˆ’1
p V((x, p, l), (Ë†x, p, l)) +
(cid:15)

Ïp((cid:107)w âˆ’ Ë†w(cid:107)) + Î³p(Î·)
kd
(cid:15)
p

Îº

.

Note that âˆ€p âˆˆ P, ÂµÎº

kdâˆ’1
(cid:15)
p

âˆ€ Ë†w âˆˆ Ë†W , one gets

â‰¤ 1, since âˆ€p âˆˆ P, kd â‰¥ (cid:15) ln(Âµ)
ln( 1
Îºp

) + 1. Hence, âˆ€(x, p, l) âˆˆ X, âˆ€(Ë†x, p, l) âˆˆ Ë†X, âˆ€w âˆˆ W ,

V((x+, p+, l+), (Ë†x+, p+, l+)) â‰¤ ÎºV((x, p, l), (Ë†x, p, l)) + Ï((cid:107)w âˆ’ Ë†w(cid:107)) + Ë†Î³(Î·).

(17)

Now, we show the condition 3(a) in Deï¬nition 13 holds. Let us consider any pair of states (x, p, l) âˆˆ X,
(Ë†x, p, l) âˆˆ Ë†X, satisfying V((x, p, l), (Ë†x, p, l)) â‰¤ Îµ, and any w âˆˆ W , Ë†w âˆˆ Ë†W such that (cid:107)w âˆ’ Ë†w(cid:107) â‰¤ Ï‘. Combining
(17) with (14) for any (x+, p+, l+) âˆˆ F((x, p, l), u, w) and any (Ë†x+, p+, l+) âˆˆ Ë†F((Ë†x, p, l), Ë†u, Ë†w) with Ë†u = u, one
obtains:

V((x+, p+, l+), (Ë†x+, p+, l+)) â‰¤ ÎºÎµ + Ï(Ï‘) + Ë†Î³(Ë†Î³âˆ’1((1 âˆ’ Îº)Îµ âˆ’ Ï(Ï‘))) = Îµ,

(18)

which shows that condition 3(a) is satisï¬ed. Similarly, for any (Ë†x+, p+, l+) âˆˆ Ë†F((Ë†x, p, l), Ë†u, Ë†w), condition 3(b)
is also satisï¬ed using the same reasoning with (x+, p+, l+) âˆˆ F((x, p, l), Ë†u, w). Therefore, we conclude that V
is a local Îµ-InitSOPSF from T (Î£) to T ( Ë†Î£) .
(cid:3)

14

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

Remark 22. If Î£ admits a common Î´-ISS Lyapunov function satisfying Assumption 20, then function V in
Theorem 21 reduces to V((x, p, l), (Ë†x, p, l)) := V (x, Ë†x).

Given the results of Theorems 14 and 21, one can see that conditions (8) and (14) may not hold at the same
time. In the following subsection, we will discuss about the inherent property that the network should have
such that one can design suitable quantization parameters to satisfy conditions (8) and (14) simultaneously.

5.2. Compositionality Result. We raise the following assumption which provides a small-gain type condi-
tion so that one can verify whether the competing conditions (8) and (14) can be satisï¬ed simultaneously.
Assumption 23. Consider network I(T (Î£1), . . . , T (Î£N )) induced by N âˆˆ Nâ‰¥1 transition systems T (Î£i).
Assume that each T (Î£i) and its ï¬nite abstraction T ( Ë†Î£i) admit a local Îµi-InitSOPSF Vi deï¬ned in (15),
associated with functions and constants Îºi, Î±i, and Ïi that appeared in Theorem 21. Deï¬ne

Î³ij :=

(cid:26) (1 âˆ’ Îºi)âˆ’1Ïi â—¦ Î±âˆ’1

j

0

if j âˆˆ Ni,
otherwise,

for all i, j âˆˆ [1; N ], and assume that functions Î³ij deï¬ned in (19) satisfy
Î³i1i2 â—¦ Î³i2i3 â—¦ Â· Â· Â· â—¦ Î³irâˆ’1ir â—¦ Î³iri1 < Id,

âˆ€(i1, . . . , ir) âˆˆ {1, . . . , N }r, where r âˆˆ {1, . . . , N }.

(19)

(20)

Now, we show that, under the above small-gain assumption, one can always compositionally design local
quantization parameters to satisfy conditions (8) and (14) simultaneously.

Theorem 24. Suppose that Assumption 23 holds. Then, there always exist local quantization parameters Î·i
and Ï†ij, âˆ€i, j âˆˆ [1; N ], as designed in Algorithm 1, such that (8) and (14) can be satisï¬ed simultaneously.

Proof. First, let us note that the small-gain condition (20) implies that âˆƒÏƒi âˆˆ Kâˆ satisfying âˆ€i âˆˆ [1; N ],

see [21, Theorem 5.2]. Then, from (19), we have âˆ€i âˆˆ [1; N ],

max
jâˆˆNi

{Î³ij â—¦ Ïƒj} < Ïƒi =â‡’ max
jâˆˆNi

{(1 âˆ’ Îºi)âˆ’1Ïi â—¦ Î±âˆ’1

j â—¦ Ïƒj} < Ïƒi =â‡’ Ïi â—¦ max
jâˆˆNi

{Î±âˆ’1

j â—¦ Ïƒj} < (1 âˆ’ Îºi)Ïƒi.

(22)

max
jâˆˆNi

{Î³ij â—¦ Ïƒj} < Ïƒi,

(21)

Next, suppose that we are given a sequence of functions Ïƒi âˆˆ Kâˆ, âˆ€i âˆˆ [1; N ], satisfying (21). Assume we are
given any desired precision Îµ as in Deï¬nition 11. Let us set Îµi = Ïƒi(r), âˆ€i âˆˆ [1; N ], where r âˆˆ R>0 is chosen
{Ïƒi(r)} = Îµ. Then, we choose internal input quantization paramters Ï†ij, âˆ€i, j âˆˆ [1; N ], such
such that max

that

i

max
jâˆˆNi

{Ï†ij} < Ïâˆ’1

i

((1 âˆ’ Îºi)Îµi) âˆ’ max
jâˆˆNi

{Î±âˆ’1

j (Îµj)}.

(23)

Now, by setting Ï‘i = max
jâˆˆNi

{Î±âˆ’1

j (Îµj) + Ï†ij}, and combining (22) and (23), one has âˆ€i âˆˆ [1; N ]

Ïi(Ï‘i) = Ïi(max
jâˆˆNi

{Î±âˆ’1

j (Îµj) + Ï†ij}) â‰¤ Ïi(max
jâˆˆNi

{Î±âˆ’1

j (Îµj) + max
jâˆˆNi

{Ï†ij}) < (1 âˆ’ Îºi)Îµi.

(24)

Thus, by (24), given any pair of parameters (Îµi, Ï‘i), one can always ï¬nd suitable local parameters Î·i to satisfy
j (Îµj) + Ï†ij} ensures that (8) is satisï¬ed as well, which
(14). Additionally, the selection of Ï‘i = max
jâˆˆNi
(cid:3)

{Î±âˆ’1

concludes the proof.

Remark 25. The compositionality result in Theorem 24 imposes a small-gain type condition on the concrete
network of switched subsystems for the existence of proper compositional ï¬nite abstraction, as depicted in
Figure 4. In particular, under such small-gain type conditions, one can always ï¬nd suitable local quantization
parameters to construct local ï¬nite abstractions. The interconnection of the local ï¬nite abstractions can be
used to serve as a ï¬nite abstraction for the concrete network satisfying the simulation relation T (Î£) (cid:22)Îµ T ( Ë†Î£).

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

15

Algorithm 1: Compositional design of local quantization parameters Î·i âˆˆ R>0 and Ï†ij âˆˆ R>0, âˆ€i âˆˆ[1; N ].
Input: The desired precision Îµ âˆˆ R>0; the simulation functions Vi equipped with functions Îºi, Î±i, Ïi, Ë†Î³i,

and Î±i, âˆ€i âˆˆ [1; N ]; functions Ïƒi, âˆ€i âˆˆ [1; N ], satisfying (21).

1 Choose r âˆˆ R>0 s.t. max
iâˆˆ[1;N ]
2 Set Îµi = Ïƒi(r), âˆ€i âˆˆ [1; N ];
3 Design Ï†ij âˆˆ R>0 s.t. max
jâˆˆNi

{Ïƒi(r)} = Îµ;

{Ï†ij} < Ïâˆ’1

i

((1 âˆ’ Îºi)Îµi) âˆ’ max
jâˆˆNi

{Î±âˆ’1

j (Îµj)}, âˆ€i, j âˆˆ [1; N ];

4 Set Ï‘i = max
jâˆˆNi
5 Design Î·i âˆˆ R>0 s.t. Î·i â‰¤ min{Ë†Î³âˆ’1

j (Îµj) + Ï†ij}, âˆ€i âˆˆ [1; N ];

{Î±âˆ’1

((1 âˆ’ Îºi)Îµi âˆ’ Ïi(Ï‘i)), Î±âˆ’1

(Îµi)};

i

i

Output: Quantization parameters Î·i âˆˆ R>0 and Ï†ij âˆˆ R>0, âˆ€i âˆˆ [1; N ].

Figure 4. Compositionality result.

Remark 26. Let us provide a general guideline on the computation of Kâˆ functions Ïƒi, i âˆˆ [1; N ], that are
used in Theorem 24: (i) in a general case when the network is consisting of N â‰¥ 1 subsystems, functions
Ïƒi, i âˆˆ [1; N ], can be constructed numerically by leveraging the algorithm introduced in [22] and the technique
presented in [21, Proposition 8.8], see [23, Chapter 4]; (ii) for the case of having two and three subsystems in
the network, there have been some construction techniques proposed in [24] and [21, Section 9], respectively;
(iii) when the gain functions appeared in (19) satisfy Î³ij < Id, âˆ€i, j âˆˆ [1; N ], then one can always choose
Ïƒi, i âˆˆ [1; N ] to be identity functions.

6. Illustrative Example

Here, we provide an illustrative example to show how one can leverage the proposed compositional approach
to check approximate initial-state opacity of a network of switched systems based on its ï¬nite abstraction.
Consider a network of discrete-time switched systems Î£ = (X, X0, Xs, P, F, Y, h) as in Deï¬nition 4, consisting
of n subsystems Î£i each described by:

Î£i :

(cid:26) xi(k + 1) = aipi(k)xi(k) + diÏ‰i(k) + bipi(k),

yi(k) = cixi(k),

(25)

ğ‘‡(Î£ğ‘–)ğ‘ğ‘–ğ‘¤ğ‘–ğ‘¦ğ‘–ğ‘‡(à· Î£ğ‘–)Æ¸ğ‘ğ‘–à·ğ‘¤ğ‘–à·œğ‘¦ğ‘–â‰¼ğ¿ğœ€ğ‘–ğ‘‡(Î£1)â‹±ğ‘‡(Î£N)ğ‘ğ‘¦ğ‘¦ğ‘—ğ‘–=ğ‘¤ğ‘–ğ‘—,âˆ€ğ‘–â‰ ğ‘—ğ‘‡(à· Î£1)â‹±ğ‘‡(à· Î£N)Æ¸ğ‘à·œğ‘¦à·œğ‘¦ğ‘—ğ‘–âˆ’à·ğ‘¤ğ‘–ğ‘—â‰¤ğœ™ğ‘–ğ‘—,âˆ€ğ‘–â‰ ğ‘—â‰¼ğœ€Small-gain ConditionConcrete SubsystemsLocal Finite AbstractionsConcrete Network Abstract Network16

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

where pi(k) âˆˆ Pi = {1, 2}, âˆ€k âˆˆ N, denotes the modes of each subsystem Î£i. The other parameters are as
the following: ai1 = 0.05, ai2 = 0.1, bi1 = 0.1, bi2 = 0.15, di = 0.05, ci = [ci1; . . . ; cin] with ci(i+1) = 1,
cij = 0, âˆ€i âˆˆ [1; n âˆ’ 1], âˆ€j (cid:54)= i + 1, cn1 = cnn = 1, cnj = 0, âˆ€j âˆˆ [2; n âˆ’ 1]. The internal inputs are subject
to the constraints Ï‰1(k) = cn1xn(k) and Ï‰i(k) = c(iâˆ’1)ix(iâˆ’1)(k), âˆ€i âˆˆ [2; n]. For each switched subsystem,
the state set is Xi = X0i = (0, 0.6), âˆ€i âˆˆ [1; n], the secret set is Xs1 = (0, 0.2], Xs2 = [0.4, 0.6), Xsi = (0, 0.6),
âˆ€i âˆˆ [3; n], the output set is Yi = (cid:81)n
Yij where Yi(i+1) = (0, 0.6), Yii = Yij = {0}, âˆ€i âˆˆ [1; n âˆ’ 1], âˆ€j (cid:54)= i + 1,
Ynn = Yn1 = (0, 0.6), Ynj = {0}, âˆ€j âˆˆ [2; n âˆ’ 1], and internal input set is W1 = Yni, Wi = Y(iâˆ’1)i, âˆ€i âˆˆ [2; n].
Intuitively, the output of the network is the external output of the last subsystem Î£n. The interconnection
topology of the network is depicted in Figure 5.

j=1

Figure 5. The interconnection topology of the network of discrete-time switched subsystems Î£i.

The main goal of this example is to check approximate initial-state opacity of the concrete network using its
ï¬nite abstraction. Now, let us construct a ï¬nite abstraction of Î£ compositionally with accuracy Ë†Îµ = 0.25 as
deï¬ned in (7), which preserves approximate initial-state opacity. We implement our compositional approach
to achieve this goal.

It can be readily veriï¬ed that (10) and (11) are satisï¬ed
Consider functions Vipi = |xi âˆ’ Ë†xi|, âˆ€i âˆˆ [1; n].
= Î±ipi = Id, Ïipi = 0.05, âˆ€pi âˆˆ Pi, Îºi1 = ai1 = 0.05, Îºi2 = ai2 = 0.1. Condition (13) is satisï¬ed
with Î±ipi
with Î³ipi = Id, âˆ€pi âˆˆ Pi. Moreover, since Vipi = Vip+
i âˆˆ Pi, Vi(xi, Ë†xi) = |xi âˆ’ Ë†xi| is a common Î´-ISS
Lyapunov function for subsystem Î£i. Next, given functions Îºi = 0.1, Ïi = 0.06Id, Î±i = Id, Ë†Î³i = 1.05Id,
Î±i = Id as appeared in Theorem 21, we have Î³ij < Id by (19), âˆ€i, j âˆˆ [1; n]. Hence, the small-gain condition
(20) is satisï¬ed. Then, by applying Theorem 24 and choosing functions Ïƒi = Id, âˆ€i âˆˆ [1; n], such that
(21) holds, we obtain proper pairs of local parameters (Îµi, Ï‘i) = (0.25, 0.25) for all of the transition systems.
Accordingly, we provide a suitable choice of local quantization parameters as Î·i = 0.2, âˆ€i âˆˆ [1; n], such that
inequality (14) for each transition system T (Î£i) is satisï¬ed. Then, we construct local ï¬nite abstractions
T ( Ë†Î£i) = ( Ë†Xi, Ë†X0i, Ë†Xsi, Ë†Ui, Ë†Wi, Ë†Fi, Ë†Yi, Ë†Hi) as in Deï¬nition 18, where:

, âˆ€pi, p+

i

Ë†Xi = Ë†X0i = {0.2, 0.4}, âˆ€i âˆˆ [1; n],

Ë†Xsi =

ï£±
ï£²

{0.2},
{0.4},
{0.2, 0.4},
j=1{0}Ã—{0.2, 0.4}Ã—(cid:81)n

ï£³
(cid:40) (cid:81)i

Ë†Yi =

{0.2, 0.4}Ã—(cid:81)nâˆ’1
Ë†Wi = {0.2, 0.4}, âˆ€i âˆˆ [1; n].

if i = 1
if i = 2
otherwise

j=i+2{0},
j=2 {0}Ã—{0.2, 0.4},

if i âˆˆ [1; nâˆ’1]
otherwise

Using the result in Theorem 21, one can verify that Vi(xi, Ë†xi) = |xi âˆ’ Ë†xi| is a local Îµi-InitSOPSF from
each T (Î£i) to its ï¬nite abstraction T ( Ë†Î£i). Furthermore, by the compositionality result in Theorem 14, we
obtain that V = max
{|xi âˆ’ Ë†xi|} is an Îµ-InitSOPSF from T (Î£) = I(T (Î£1), . . . , T (Î£n)) to
T ( Ë†Î£) = Ë†I(T ( Ë†Î£1), . . . , T ( Ë†Î£n)) with Îµ = max

{Vi(xi, Ë†xi)} = max

Îµi = 0.25.

i

i

i

Now, let us verify approximate initial-state opacity for T (Î£) using the network of ï¬nite abstractions T ( Ë†Î£).
To do this, we ï¬rst show an example of a network consisting of 3 transition systems, as shown in Figures 6

1ï“ğ‘12ï“ğ‘2ğ‘¦123ï“ğ‘3ğ‘¦23nï“ğ‘nğ‘¦34ğ‘¦nnğ‘¦n1â‹¯ğ‘¦(nâˆ’1)nVERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

17

(2,Y)

q1
0y0

(2,Y)

q1
00y

(2,Y)

q1
y0y

T ( Ë†Î£1):

T ( Ë†Î£2):

T ( Ë†Î£3):

q2
0Y 0

q2
00Y

q2
Y 0Y

Figure 6. Local ï¬nite abstractions of transition systems.

Ë†I(T ( Ë†Î£1), T ( Ë†Î£2), T ( Ë†Î£3)):

z1
00y

[2; 2; 2]

z5
00Y

z2
00y

z6
00Y

[2; 2; 2]

z3
00y

z7
00Y

[2; 2; 2]

[2; 2; 2]

z4
00y

z8
00Y

Figure 7. Finite abstraction of a network of 3 transition systems.

and 7. The three automata in Figure 6 represent the ï¬nite abstractions of the local transition systems, and
the one in Figure 7 is the network of ï¬nite abstractions. Each circle is labeled by the state (top half) and
the corresponding output (bottom half). Initial states are distinguished by being the target of a sourceless
arrow. The states marked in red represent the secret states. The symbols on the edges show the switching
signals p(k) âˆˆ {1, 2}3 and internal inputs coming from other local transition systems. For simplicity of
demonstration, we use symbols to represent the state and output vectors, where the states of local transition
systems are denoted by q1 = [0.4], q2 = [0.2], the states of network of transition systems are denoted by

z1 = [q1; q2; q2], z2 = [q2; q2; q2], z3 = [q2; q1; q2], z4 = [q1; q1; q2],
z5 = [q2; q2; q1], z6 = [q2; q1; q1], z7 = [q1; q1; q1], z8 = [q1; q2; q1],

and the outputs of the corresponding states are represented as y = 0.2 and Y = 0.4 with the symbols
like 00y = [0; 0; 0.2], 00Y = [0; 0; 0.4] representing concatenated output vectors. One can easily see that
Ë†I(T ( Ë†Î£1), T ( Ë†Î£2), T ( Ë†Î£3)) is 0-approximate initial-state opaque, since for any run starting from any secret state,
i.e. z3 and z7, there exists a run from a non-secret state, i.e. z1 and z5, such that the output trajectories
are exactly the same. Essentially, one can verify that the abstract network holds this property regardless
of the number of systems (i.e. n), due to the homogeneity of systems Î£i and the symmetry of the circular
network topology. Thus, one can conclude that T ( Ë†Î£) = Ë†I(T ( Ë†Î£1), . . . , T ( Ë†Î£n)) is 0-approximate initial-state
opaque. Therefore, by Corollary 10, we obtain that the original network T (Î£) = I(T (Î£1), . . . , T (Î£n)) is
0.5-approximate initial-state opaque.

18

SIYUAN LIU1, ABDALLA SWIKIR2, AND MAJID ZAMANI3,4

7. Conclusion

In this paper, we provided a compositional framework for the construction of opacity-preserving ï¬nite abstrac-
tions for networks of discrete-time switched systems. First, an approximate initial-state opacity-preserving
simulation function (InitSOPSF) is deï¬ned to characterize the simulation relation between two networks, which
facilitates the abstraction-based opacity veriï¬cation process. Then we presented a compositional approach to
construct ï¬nite abstractions locally for concrete subsystems under incremental input-to-state stability prop-
erty. The interconnection of local ï¬nite abstractions forms an abstract network that mimics the behaviors
of the concrete network while preserving opacity via the proposed InitSOPSF. Futhermore, we derived a
small-gain type condition, under which one can guarantee the existence of proper quantization parameters for
the construction of ï¬nite abstractions. For future work, we are interested in extending the compositionality
results to cover more notions of opacity, e.g., current-state opacity [25], K-step opacity [26], and inï¬nite-state
opacity [27]. Moreover, it would be an interesting direction to investigate opacity property for large-scale
switched systems with unstable mode, and also for other classes of hybrid systems, e.g., stochastic systems
and impulsive systems.

References

[1] A. Cardenas, S. Amin, B. Sinopoli, A. Giani, A. Perrig et al., â€œChallenges for securing cyber physical systems,â€ in Workshop

on future directions in cyber-physical systems security, vol. 5, 2009.

[2] Y. Ashibani and Q. H. Mahmoud, â€œCyber physical systems security: Analysis, challenges and solutions,â€ Computers &

Security, vol. 68, pp. 81â€“97, 2017.

[3] L. Mazar, â€œUsing uniï¬cation for opacity properties,â€ in IN PROCEEDINGS OF THE WORKSHOP ON ISSUES IN THE

THEORY OF SECURITY (WITS04), 2004, pp. 165â€“176.

[4] S. Lafortune, F. Lin, and C. N. Hadjicostis, â€œOn the history of diagnosability and opacity in discrete event systems,â€ Annual

Reviews in Control, vol. 45, pp. 257â€“266, 2018.

[5] B. Ramasubramanian, W. R. Cleaveland, and S. Marcus, â€œNotions of centralized and decentralized opacity in linear systems,â€

IEEE Transactions on Automatic Control, 2019.

[6] K. Zhang, X. Yin, and M. Zamani, â€œOpacity of nondeterministic transition systems: A (bi) simulation relation approach,â€

IEEE Transactions on Automatic Control, vol. 64, no. 12, pp. 5116â€“5123, 2019.

[7] X. Yin, M. Zamani, and S. Liu, â€œOn approximate opacity of cyber-physical systems,â€ IEEE Transactions on Automatic

Control, accepted and in press, 2020.

[8] S. Liu, X. Yin, and M. Zamani, â€œOn a notion of approximate opacity for discrete-time stochastic control systems,â€ in

American Control Conference, 2020, accepted.

[9] P. J. Meyer, A. Girard, and E. Witrant, â€œCompositional abstraction and safety synthesis using overlapping symbolic models,â€

IEEE Transactions on Automatic Control, vol. 63, no. 6, pp. 1835â€“1841, 2017.

[10] G. Pola, P. Pepe, and M. D. D. Benedetto, â€œSymbolic models for networks of control systems,â€ IEEE Transactions on

Automatic Control, vol. 61, no. 11, pp. 3663â€“3668, 2016.

[11] A. Swikir and M. Zamani, â€œCompositional synthesis of ï¬nite abstractions for networks of systems: A small-gain approach,â€

Automatica, vol. 107, no. 11, pp. 551 â€“ 561, 2019.

[12] K. Mallik, A. Schmuck, S. Soudjani, and R. Majumdar, â€œCompositional synthesis of ï¬nite-state abstractions,â€ IEEE Trans-

actions on Automatic Control, vol. 64, no. 6, pp. 2629â€“2636, 2019.

[13] A. Swikir and M. Zamani, â€œCompositional synthesis of symbolic models for networks of switched systems,â€ IEEE Control

Systems Letters, vol. 3, no. 4, pp. 1056â€“1061, 2019.

[14] D. Liberzon, Switching in Systems and Control. Birkhuser Basel, 2003.
[15] A. Swikir and M. Zamani, â€œCompositional abstractions of interconnected discrete-time switched systems,â€ in 2019 18th

European Control Conference (ECC), 2019, pp. 1251â€“1256.

[16] X. Yin and S. Lafortune, â€œA new approach for the veriï¬cation of inï¬nite-step and k-step opacity using two-way observers,â€

Automatica, vol. 80, pp. 162â€“171, 2017.

[17] A. Saboori and C. N. Hadjicostis, â€œVeriï¬cation of initial-state opacity in security applications of discrete event systems,â€

Information Sciences, vol. 246, pp. 115â€“132, 2013.

[18] D. N. Tran, B. S. RÂ¨uï¬€er, and C. M. Kellett, â€œIncremental stability properties for discrete-time systems,â€ in Proceedings of

the 55th Conference on Decision and Control, 2016, pp. 477â€“482.

[19] L. Vu, D. Chatterjee, and D. Liberzon, â€œInput-to-state stability of switched systems and switching adaptive control,â€ Auto-

matica, vol. 43, no. 4, pp. 639 â€“ 646, 2007.

[20] M. Zamani, P. Mohajerin Esfahani, R. Majumdar, A. Abate, and J. Lygeros, â€œSymbolic control of stochastic systems via
approximately bisimilar ï¬nite abstractions,â€ IEEE Transactions on Automatic Control, vol. 59, no. 12, pp. 3135â€“3150, 2014.

VERIFICATION OF INITIAL-STATE OPACITY FOR SWITCHED SYSTEMS: A COMPOSITIONAL APPROACH

19

[21] S. Dashkovskiy, B. RÂ¨uï¬€er, and F. Wirth, â€œSmall gain theorems for large scale systems and construction of iss lyapunov

functions,â€ SIAM Journal on Control and Optimization, vol. 48, no. 6, pp. 4089â€“4118, 2010.

[22] B. C. Eaves, â€œHomotopies for computation of ï¬xed points,â€ Mathematical Programming, vol. 3, no. 1, pp. 1â€“22, 1972.
[23] B. S. Ruï¬€er, â€œMonotone dynamical systems, graphs, and stability of largescale interconnected systems,â€ Ph.D. thesis,

Fachbereich 3, Mathematik und Informatik, UniversitÂ¨at Bremen, Germany, 2007.

[24] Z.-P. Jiang, I. M. Mareels, and Y. Wang, â€œA lyapunov formulation of the nonlinear small-gain theorem for interconnected

iss systems,â€ Automatica, vol. 32, no. 1, pp. 1211 â€“ 1215, 1996.

[25] A. Saboori and C. N. Hadjicostis, â€œNotions of security and opacity in discrete event systems,â€ in Proceedings of the 46th

IEEE Conference on Decision and Control, 2007, pp. 5056â€“5061.

[26] â€”â€”, â€œVeriï¬cation of k-step opacity and analysis of its complexity,â€ IEEE Transactions on Automation Science and Engi-

neering, vol. 8, no. 3, pp. 549â€“559, 2011.

[27] â€”â€”, â€œVeriï¬cation of inï¬nite-step opacity and complexity considerations,â€ IEEE Transactions on Automatic Control, vol. 57,

no. 5, pp. 1265â€“1269, 2012.

1Electrical and Computer Engineering Department, Technical University of Munich, Germany.

E-mail address: sy.liu@tum.de

2Electrical and Computer Engineering Department, Technical University of Munich, Germany.

E-mail address: abdalla.swikir@tum.de

3Computer Science Department, University of Colorado Boulder, USA.

E-mail address: majid.zamani@colorado.edu

4Computer Science Department, Ludwig Maximilian University of Munich, Germany.

