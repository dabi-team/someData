7
1
0
2

r
p
A
9

]

Y
S
.
s
c
[

2
v
9
7
6
4
0
.
1
0
7
1
:
v
i
X
r
a

Self-regulating Supply-Demand Systems

Evangelos Pournarasa, Mark Yaob, Dirk Helbinga

aProfessorship of Computational Social Science
ETH Zurich, Zurich, Switzerland
{epournaras,dhelbing}@ethz.ch
bSmart Energy
IBM T.J Watson Research Center
Yorktown Heights, NY USA
markyao@us.ibm.com

Abstract

Supply-demand systems in Smart City sectors such as energy, transportation, telecommunication, are subject of unprecedented
technological transformations by the Internet of Things. Usually, supply-demand systems involve actors that produce and consume
resources, e.g. energy, and they are regulated such that supply meets demand, or demand meets available supply. Mismatches of
supply and demand may increase operational costs, can cause catastrophic damage in infrastructure, for instance power blackouts,
and may even lead to social unrest and security threats. Long-term, operationally oﬄine and top-down regulatory decision-making
by governmental oﬃcers, policy makers or system operators may turn out to be ineﬀective for matching supply-demand under new
dynamics and opportunities that Internet of Things technologies bring to supply-demand systems, for instance, interactive cyber-
physical systems and software agents running locally in physical assets to monitor and apply automated control actions in real-time.
e.g. power ﬂow redistributions by smart transformers to improve the Smart Grid reliability. Existing work on online regulatory
mechanisms of matching supply-demand either focuses on game-theoretic solutions with assumptions that cannot be easily met
in real-world systems or assume centralized management entities and local access to global information. This paper contributes a
generic decentralized self-regulatory framework, which, in contrast to related work, is shaped around standardized control system
concepts and Internet of Things technologies for an easier adoption and applicability. The framework involves a decentralized
combinatorial optimization mechanism that matches supply-demand under diﬀerent regulatory scenarios. An evaluation method-
ology, integrated within this framework, is introduced that allows the systematic assessment of optimality and system constraints,
resulting in more informative and meaningful comparisons of self-regulatory settings. Evidence using real-world datasets of energy
supply-demand systems conﬁrms the eﬀectiveness and applicability of the self-regulatory framework. It is shown that a higher
informational diversity in the options, from which agents make local selections, results in a higher system-wide performance. Sev-
eral strategies with which agents make selections come along with measurable performance trade-oﬀs creating a vast potential for
online adjustments incentivized by utilities, system operators and policy makers.

Keywords: self-regulation, supply, demand, Smart City, Internet of Things, Smart Grid, optimization, agent, tree

1. Introduction

in

systems

Regulating

supply-demand

techno-socio-
trans-
economic sectors of Smart Cities, such as energy,
portation,
telecommunication, ﬁnancial markets and others,
is a complex, yet critical endeavor for societal development
and sustainability. Regulation usually implies government-
imposed controls on business activities and infrastructural
operations [1],
in which decison-making by the involved
actors is often centralized and operationally oﬄine. However,
the introduction of Internet of Things technologies [2] to
tackle the inter-temporal nature of supply and demand [3]
creates a vast potential for an automated, online and decentral-
ized self-regulation using remotely communicating sensors,
controllers and actuators.
the regulation of
electricity prices used to be a result of institutional and legal
policy designs strictly imposed in a top-down fashion.
In
contrast, Smart Grid technologies enable regimes within which

For example,

bottom-up price formation can be automated via real-time
pricing schemes and tariﬀs that continuously balance supply
and demand [4, 5, 6, 7, 8].

This new type of online bottom-up self-regulation imposes
two grand scientiﬁc challenges: (i) How to eﬀectively balance
supply and demand in diﬀerent regulatory scenarios by steer-
ing the price elasticity of demand in a fully decentralized fash-
ion? (ii) How to continuously measure and evaluate this self-
regulatory capability in diﬀerent regulatory scenarios of supply-
demand systems? Regulatory scenarios refer to the mitigation
of imbalances in supply-demand originated from varying gen-
eration and/or consumption, system failures, system reforms,
etc. This paper studies the balance of supply and demand with
a fundamental, yet highly applicable, approach by introduc-
ing a minimal and standardized information exchange. This
approach does not require major system interventions and can
make a self-regulation mechanism applicable in various Smart

Preprint submitted to Future Generation Computer Systems

October 10, 2018

 
 
 
 
 
 
City sectors.

How to balance supply-demand or how to design eﬃcient
computational markets remains a fascinating challenge for a
very broad range of scientiﬁc communities. Most remarkably,
game-theoretical approaches in combinatorial games are rele-
vant in systems in which agents have a ﬁnite number of op-
tions to choose from and each choice inﬂuences the evolution
and outcome of the game. Although mathematical tools ex-
ist for solutions to particular problems [9], there is no uni-
ﬁed theory or framework addressing combinatorial elements
in these games. This observation usually characterizes match-
ing mechanisms [10] and learning techniques that have at least
(i) long con-
the following limitations in applied contexts:
vergence times [11, 12] that can make them inapplicable in
practice due to technological limitations, e.g. communication
bandwidth or computational capacity.
(ii) Solutions have of-
ten a limited scope, meaning that equilibrium is not guaranteed
with a minor problem modiﬁcation or when adding/removing
a constraint [13]. For example, the literature on certain game-
theoretical approaches in Smart Grids reveals the limited appli-
cability of cooperative games and dynamic models to tackle the
pervasive presence of time-varying parameters such as genera-
tion and demand [13]. Moreover, it is also shown that network
delays may lead to incorrect price inquiries. A similar con-
clusion is shared within other related work [14] claiming that a
highly responsive and non-disruptive regulatory system for load
requires direct centralized control by utilities [14]. There is re-
cent ongoing work to tackle these challenges [8], however, it
remains an open question how fully decentralized coordination
mechanisms can operate without relying on central broker enti-
ties or assuming global/aggregate information available locally.
This paper contributes a novel and generic self-regulatory
framework for supply-demand systems. A single-commodity
resource-oriented equilibrium market [10] resembles the opera-
tions of the proposed self-regulated supply-demand system that
interacts with a loop of (i) incentive signals that communicate
supply costs and (ii) feedback signals that communicate the
demand acquired. Agent-based bilateral interactions are per-
formed in the background of a bottom-up computational mech-
anism advanced to operate in this generic context of distributed
supply-demand systems. This mechanism self-regulates the
balance of supply and demand in a similar fashion with the in-
tuitive paradigm of Adams Smith’s ‘invisible hand’ [15]. Reg-
ulation becomes an emergent system property [16], originated
from reconﬁgurable interactions and adaptive decision-making
structured over a self-organized tree topology. Earlier work
motivates the adoption of tree structures in computational mar-
kets and supply-demand systems [17, 18, 19], however, the pro-
posed framework does not exclude the adoption of other mech-
anisms and structures [20].

Evidence using real-world datasets of energy supply-demand
systems conﬁrms the eﬀectiveness and applicability of the
framework in a broad spectrum of regulatory scenarios. The im-
plications of informational diversity in consumers’ options but
also the actual consumers’ selections are studied by quantify-
ing the regulatory capability with two metrics referred to as ‘re-
sponse’ and ‘savings’. A novel characteristic of these metrics

2

is that they are relative to diﬀerent upper bounds. This allows
the systematic evaluation of optimality and constraints resulting
in more informative and meaningful comparisons of diﬀerent
self-regulatory settings. Findings show measurable trade-oﬀs
between response and savings creating a vast potential for on-
line adjustments incentivized by utilities, system operators and
policy makers.

2. Self-regulatory Framework

In this paper, a self-regulated supply-demand system is de-
ﬁned by the inner operational system capability of distributed
producers and consumers to collectively coordinate their ac-
tions remotely based on a fully decentralized computational
design such that supply and demand are met under diﬀerent
regulatory scenarios. This section introduces a self-regulatory
framework for supply-demand systems. It is shown how this
framework can be realized as a decentralized transactive con-
trol system that is a well-established standardized concept and
implemented technology in real-world supply-demand systems
of Smart Cities. Table A.1 in Appendix A outlines all mathe-
matical symbols used in this paper in the order they appear.

2.1. Overview

The studied supply-demand system consists of communi-
cating (software) agents that represent or control the actions
of producers and consumers, for instance, smart meters in
smart grids or vehicles in transportation systems. Communi-
cation between agents can be performed over the Internet or
via other dedicated communication infrastructures of certain
supply-demand systems [21], for instance, a SCADA system
in smart grids. The agent facilitates the self-regulation logic
and represents social or operational requirements such as the
type/amount of resources supplied and demanded. Depend-
ing on how a supply-demand system is institutionalized, three
modes of self-regulation can be applied: (i) demand-side, (ii)
supply-side and (iii) supply-demand-side. The demand-side
mode assumes the production of resources is given by sys-
tem operators and consumers need to adapt to the available
supply. Respectively, the supply-side mode assumes the de-
mand of consumers is given by system operators and production
needs the adapt to the formed demand. Finally, in the supply-
demand mode, none of supply or demand are given and they are
both formed interactively. Due to space limitations, this paper
mainly focuses on the ﬁrst two self-regulation modes. For con-
sistency and an intuitive understanding of the framework, the
rest of this paper illustrates the framework from the viewpoint
of self-regulation in demand-side mode. Figure 1 introduces an
overview of the framework.

Self-regulation aims at balancing supply and demand under
various operational scenarios and constraints, such as keep-
ing demand within a certain range, distributing demand fairly
among consumers, or supplying a minimum amount of re-
sources to each consumer. Self-regulation is based on two types
of information signals: (i) incentive signals and (ii) feedback

in power grids, load-balancing between vehicles in transporta-
tion systems, etc.

The types of transactive signals are deﬁned as follows:

• Transactive Incentive Signal (TIS): A time series with the

price in currency per unit of resources supplied.

• Transactive Feedback Signal (TFS): A time series with the
units of resources supplied or demanded. This paper addi-
tionally distinguishes the following TFS signals:

– Inelastic Transactive Feedback Signal (iTFS): A non-

regulated historic or forecast TFS signal.

– Elastic Transactive Feedback Signal (eTFS): A regu-

lated TFS signal.

– Upper Bound Signal (UB): A reference TFS signal for

the evaluation of self-regulation.

All interactions within the proposed framework are entirely
based on the above transactive signals as shown in Figure 1.

2.3. Operational lifecycle

The self-regulatory framework of Figure 1 performs the fol-
lowing four operations: (i) incentivization, (ii) self-regulation,
(iii) provision and (iv) evaluation. Six transactive signalings are
performed to complete an operational cycle.

In the ﬁrst signaling, depicted by Arrow 1 in Figure 1, an iTFS
signal is provided by demand to supply. This signal is used as a
historic or forecast base information by the other operations of
the framework. For instance, the historic/forecasting informa-
tion about the energy demand based on which energy prices are
formed plays the role of an iTFS signal.

In the second signaling, depicted by Arrow 2 in Figure 1, a
TIS signal is provided by supply to demand. A TIS signal may be
the result of incentivization performed based on the outcome
of previous operational cycles and the current system require-
ments. Incentivization is performed by system operators, policy
makers or even automated software systems that choose how to
optimize and regulate a supply-demand system [24]. The price
information in the TIS signal is computed by using information
about the available supply or constraints in the characteristics
of future demand, e.g. the mean and/or volatility. For instance,
the costs involved in the scheduling of power generators form
the TIS signal.

In the third signaling, depicted by Arrow 3 in Figure 1, an
eTFS signal is provided by demand to supply as a response to the
received TIS signal. The eTFS signal is computed by the adopted
self-regulation mechanism. For instance, the energy demand
formed under the inﬂuence of a demand-response program is
an eTFS signal. At this stage, supply has all information to pro-
vision and evaluate the regulatory capability achieved in this
operational cycle as outlines below.

In the fourth signaling, depicted by Arrow 4 in Figure 1, a
hypothetical optimum TFS signal is computed, the upper bound,
given the TIS and iTFS signals, along with constraints in charac-
teristics of demand. Such constraints may concern the compu-
tation of an upper bound signal with the same mean or, mean

Figure 1: A self-regulatory framework for supply-demand systems.

signals. The incentive signal is the price for each unit of re-
source supplied. It is provided by supply to demand. The feed-
back signal is the amount of demand requested based on the
incentive signal provided. It is provided by demand to supply.
Self-regulation is governed by a feedback loop: agents coor-
dinate demand in a fully decentralized fashion to collectively
form a feedback signal as a response to a given incentive sig-
nal. A new incentive signal is potentially formed to further steer
an improved feedback signal.

2.2. Transactive control

This framework is far beyond conceptual. Regulating sup-
ply and demand with incentive and feedback signals is the ba-
sis of transactive control, a well-established standardized con-
cept and implemented technology in the real world [22, 23].
The term ‘transactive’ refers to the use of economic and control
techniques to improve system reliability and eﬃciency. Trans-
active control deﬁnes the minimal interaction types and infor-
mation exchange in the domain of Smart Grids. However, it
does not deﬁne any computational logic or formal methodol-
ogy for the regulation of supply and demand, or the evaluation
of the regulatory capability. The proposed framework ﬁlls this
gap by introducing a decentralized regulation mechanism and
an evaluation methodology that motivates the further adoption
of transactive control in other Smart City applications such as
gas networks, water networks, traﬃc systems, supply chain sys-
tems, etc.

= (sTS,t)T

A transactive signal is a sequence1 S TS

t=1 of numeri-
cal values, where sTS,t ∈ R>0. This paper assumes that all signals
are time series, and therefore, T is a future time horizon. How-
ever, there is no limitation to other signal types applicable to
several computational problems [12, 11]. A sequence provides
a computational degree of freedom in self-regulation:
in the
case of time series, temporal adjustments scheduled in the trans-
active signals can be used as regulatory tools, e.g. load-shifting

1This paper assumes positive signals for simplifying the illustration of the
framework and results. Negative signals are possible as well and correspond
to supply-demand systems in which an agent may act as both, consumer and
producer.

3

Self-regula.on		EPOS	- Selec2on	func2on	- Plan	genera2on	.	.	.	.	.	.	Provision		Constraints	in	Demand	- Mean	- Mean	&	vola2lity	Evalua.on		- Response	- Savings	- Mean	&	vola2lity	error	(1)	iTFS	(4)	TIS	(4)	iTFS	(5)	UB	(5)	iTFS	(5)	eTFS	(2)	TIS	(3)	eTFS	(6)	Metrics	Supply	Demand	Incen.viza.on		-	TIS	genera2on	Feedback	Loop	and volatility, with the iTFS signal. For instance, if system op-
erators plan to turn oﬀ a power generator for repair or mainte-
nance, the hypothetical optimum energy demand is reduced to
fully encounter the missing power generator.

In the ﬁfth signaling, depicted by Arrow 5 in Figure 1, the
evaluation of the eTFS signal is triggered in the light of the iTFS
signal and the UB signal. Evaluation measures the response,
savings and the mean/volatility error. For instance these metrics
can measure energy cost reductions and power peak shavings.
Finally, in the sixth signaling, depicted by Arrow 6 in Fig-
ure 1, an operational cycle completes by providing the values of
the measured metrics as input to incentivization. The next oper-
ational cycle initiates the generation of an improved TIS signals
that can potentially achieve a higher response and savings but
lower mean and volatility error.

The rest of this paper illustrates the self-regulation frame-

work in detail.

3. Incentivization

Incentivization concerns the construction of TIS signals that
accurately reﬂect the costs of supply, costs of infrastructure,
operational constraints and certain regulatory actions required.
For instance, when a power generator fails, costs increase as
the available supply is lower, infrastructure may require main-
tenance and complex operational constraints should be met,
i.e. ramp up times for the activation of operational power re-
serves [24]. Moreover, system operators and utilities may initi-
ate costly demand-response events so that consumers lower de-
mand. The costs of all these actions sum up and form the prices
of a TIS signal. Forecasting is a critical component of incen-
tivization as cost information is not always available [25, 26].
For example, the availability of energy supply generated by
renewables is highly stochastic. Therefore the accuracy of
weather forecasting techniques inﬂuence the eﬀectiveness of a
TIS signal. These observations suggest that incentivization is a
highly domain-dependent process.

A TIS incentive signal results in a eTFS response signal evalu-
ated by the metrics at the stage of evaluation. A TIS signal can be
modiﬁed to trigger a new eTFS signal that optimizes in a evolu-
tionary fashion the evaluation metrics according to a a weight-
ing scheme or an elasticity function [27]. This paper focuses
on evaluating a single operational cycle by using real-world TIS
signals computed via toolkit functions based on advanced pre-
dictive analytics. Section 7 illustrates the TIS signals studied in
this paper. The evaluation of an evolutionary operation of the
self-regulatory framework is part of future work.

4. Provision

This section shows how to construct hypothetical eTFS sig-
nals representing an optimally regulated supply-demand given
the incentive signal S TIS and a set of demand constraints. These
hypothetical signals are referred to as upper bounds. The incen-
tive and feedback signals are assumed to follow the law of de-
mand, meaning that higher prices in supply shall result in lower

demand and the other way around. For the mathematical for-
mulations of this paper, a linear reverse relationship is assumed
that can be relaxed with empirical data or domain-speciﬁc mod-
els of supply-demand systems. The incentive signal S TIS is used
to construct a lower bound signal by computing its reﬂections
as follows:

r(t, S TIS) = 2µ(S TIS) − sTIS,t

(1)

where the mean over the values of the incentive signal µ(S TIS) is
used as the hyperplane for the ﬂip. The isometry of the reﬂec-
tion r(t, S TIS) and the selection of the mean µ(S TIS) as hyperplane
result in a price signal with the same total cost for one unit of
resources compared to the initial incentive signal S TIS. An un-
desired eﬀect of a reﬂection is that it may result in a signal with
negative values. A normalization is illustrated in Appendix B
that guarantees a signal n(t, S TIS) with positive values. It is used
for the computation of the UB1.

This paper introduces two upper bounds distinguished by two

demand constraints:

• The mean µ(S UB) of the UB signal equals the mean µ(S iTFS)
of the iTFS signal. This constraint keeps the total amount
of demand equal to the one of the iTFS signal, however
demand is distributed more eﬀectively as deﬁned by the
reﬂected iTFS signal r(t, S TIS).

• The mean µ(S UB) and volatility σ(S UB) of the UB signal
equal the mean µ(S iTFS) and volatility σ(S iTFS) of the iTFS
signal. This constraint keeps the total amount of demand
equal to the one of the iTFS signal and, additionally, it limits
the standard deviation of the values to the level of the iTFS
signal.

Upper Bound 1. Given a TIS signal S TIS and an iTFS signal S iTFS,
an upper bound S UB1 is given as follows:

sUB1,t = µ(S iTFS)
µ(S TIS)
subject to µ(S UB1) = µ(S iTFS)

n(t, S TIS), ∀t ∈ [1, T ]

(2)

Proof. The average cost of one demand unit during the time
horizon T is given by µ(S TIS). Subject to µ(S UB1) = µ(S iTFS),
the average demand acquired for one cost unit of demand is
µ(S iTFS)/µ(S TIS). Then, by proportionality, for n(t, S TIS) cost units
of demand, µ(S iTFS)
µ(S TIS) n(t, S TIS) units of demand are acquired for the
upper bound sUB1,t.

Upper Bound 2. Given a TIS signal S TIS and an iTFS signal S iTFS,
an upper bound S UB2 is given as follows:

sUB2,t = σ(S iTFS)

r(t, S TIS) − µ(S TIS)
σ(S TIS)
subject to µ(S UB2) = µ(S iTFS) and σ(S UB2) = σ(S iTFS)

+ µ(S iTFS), ∀t ∈ [1, T ]

(3)

Proof. Let r(t, S TIS) − µ(S TIS) represent the price diﬀerence at
time t from the average price µ(S TIS). This diﬀerence, measured

4

σ(S TIS)

in units of price, can be measured in units of price volatility
of the TIS signal as r(t,S TIS)−µ(S TIS)
. The demand diﬀerence from
the average demand µ(S TIS) at time t can be constructed using
the demand volatility σ(S iTFS) as σ(S iTFS) r(t,S TIS)−µ(S TIS)
subject to
σ(S UB2) = σ(S iTFS). Given that µ(S UB2) = µ(S iTFS), the ﬁnal upper
bound signal is constructed by summing the average demand
µ(S iTFS) as σ(S iTFS) r(t,S TIS)−µ(S TIS)

+ µ(S iTFS3).

σ(S TIS)

σ(S TIS)

Although these hypothetical upper bounds are constrained to
aggregate demand characteristics of the iTFS signal, other more
complex operational constraints can be captured as well, de-
pending on the application domain considered. For example,
in Smart Grids, operational constraints of the individual house-
hold devices or the availability of renewable energy resources
can be considered [28, 29, 30].

5. Evaluation

This paper studies three factors that measure the eﬀective-
(i) response, (ii) savings and (iii)
ness of self-regulation:
mean/volatility error. Given an initial feedback signal S iTFS and
a feedback signal S eTFS computed by a regulation mechanism af-
ter applying an incentive signal S TIS, response and savings are
computed as follows:

R =

(cid:80)T

t=1 |siTFS,t − seTFS,t|
(cid:80)T
t=1 |siTFS,t − sUB,t|

P =

t=1 sTIS,t ∗ siTFS,t − (cid:80)T
(cid:80)T
t=1 sTIS,t ∗ siTFS,t − (cid:80)T
(cid:80)T

t=1 sTIS,t ∗ seTFS,t
t=1 sTIS,t ∗ sUB,t

(4)

(5)

where S UB is an upper bound signal.

Response represents the similarity of the self-regulated de-
mand with the optimal demand computed by the upper bound.
Response measures the distance |siTFS,t − seTFS,t| of the two feed-
back signals S iTFS and S eTFS in relation to the maximum dis-
tance that these two signals can hypothetically have. This max-
imum distance is computed using the upper bound signal as
|siTFS,t − sUB,t|.

Savings payoﬀ measures the cost reduction between the feed-
back signals S iTFS and S eTFS in relation to the maximum hypo-
thetical cost reduction between the feedback signal S eTFS and the
upper bound signal S UB. In other words, savings measures the
response in economic terms. Cost is computed by multiplying
the incentive signal (price) with the feedback signal (quantity),
for example, sTIS,t ∗ seTFS,t provides the cost of seTFS,t amount of
resources with price sTIS,t at time t.

An upper bound S UB is required to compute both response
and savings. With these two metrics based on an upper bound,
diﬀerent self-regulation strategies can be meaningfully com-
pared. For example, a self-regulation strategy ‘A’ may decrease
the demand cost 5% more than another strategy ’B’. This ﬁnd-
ing is not so informative compared to knowing a maximum pos-
sible cost reduction of demand that indicates the actual eﬀec-
tiveness of these strategies compared to a hypothetical optimal

case. This evaluation methodology is especially useful in de-
centralized self-regulation mechanisms that capture objectives
with optimum solutions being computationally intractable.

The capability of a regulatory mechanism to satisfy the con-
straints of the upper bounds can be measured by the mean and
volatility errors as follows:

(cid:15)µ = |1 −

µ(S eTFS)
µ(S iTFS)

|, (cid:15)σ = |1 −

σ(S eTFS)
σ(S iTFS)

|,

(6)

where (cid:15)µ is the relative error of the mean in the eTFS signal rel-
ative to the mean of the iTFS signal, and (cid:15)σ is the respective
relative error of demand volatility. The mean and volatility er-
rors represent violations of aggregate characteristics in demand.
For instance, a minimal mean error means that suppliers do not
need to supply a higher aggregated amount of resources that the
one allocated over the future horizon.

6. Self-regulation

This paper advances the EPOS mechanism [31] to employ
it as a highly generic self-regulation mechanism for supply-
demand systems. EPOS is earlier studied in the Smart Grid
domain as a fully decentralized mechanism to improve the ro-
bustness of Smart grids by stabilizing energy demand, lowering
power peaks and other regulatory actions. Loads, represent-
ing electrical household devices or even the consumption of a
household as a whole [32, 33], are regulated by software agents
self-organized [34] in a tree topology2 for structuring their in-
teractions. A tree overlay network provides a cost-eﬀective
aggregation of the demand level required for coordinating the
decision-making: each agent generates a number of transactive
signals p referred to as possible plans Di = (di, j)p
j=1 and collec-
tively selects the plan di,s that ﬁts best to an objective. Decision-
making is performed with selection functions [32] that evalu-
ate characteristics of the demand plan, e.g. how uniformly dis-
tributed demand is over time, how large the demand peaks are,
etc. Starting from the leaf agents, parents select the selected
plans of their children using the possible plans of their children
and the aggregated selections of the agents in the branch under-
neath. The process repeats level-by-level and completes with
a propagation of the ﬁnal eTFS signal by the root agent to all
agents in the tree.

The main limitation of EPOS is that it does not interact with
supply and, therefore, it cannot be used for balancing supply
and demand under a broader range of operational scenarios.
This paper ﬁlls this gap by introducing two new selection func-
tions without any change in the algorithm and architecture of
EPOS.

The plans of EPOS and the transactive signals are both math-
ematically equivalent sequences. This makes a transactive con-
trol system fully interoperable with the EPOS mechanism. The

2A tree overlay network is the logical structuring of the network communi-

cation at the application-level.

5

supply-side provides to EPOS a TIS signal3 and receives back an
eTFS signal computed in EPOS as follows:

SHIFT(10), SWAP(30) follow very closely and SWAP(15) has the lowest
diversity.

seTFS,t =

n(cid:88)

i=1

di,s,t

(7)

where n is the total number of agents connected in the tree over-
lay network of EPOS and di,s,t is the selected demand of agent i
at time t.

Plan generation computes the possible plans. Each one can
be executed by the agent locally if selected. The possible plans
represent a degree of freedom in the operation of the physical
assets that the agent regulates. Therefore, the physical charac-
teristics and the parameterization of these physical assets can
make the computation of possible plans feasible in various ap-
plication domains. For example, possible plans can be opera-
tionally equivalent, and therefore alternatives, when household
appliances permit this [31, 14]. Moreover, possible plans may
represent social preferences, such as comfort levels [35, 36] or
even recommendations extracted from historic data [32, 33].
This paper studies three generation schemes of possible plans
that can be applied in several application domains and scenar-
ios: (i) SHUFFLE, (ii) SHIFT and (iii) SWAP. In SHUFFLE, each possi-
ble plan is a random permutation of the other ones. This scheme
represents scenarios in which agents have a signiﬁcant control-
In SHIFT, the
lability in the operation of the regulated assets.
values of a plan are rotated by pushing values certain time steps
ahead in time. This scheme represents load-shifting scenar-
ios or future resource reallocation and rescheduling. In SWAP,
a number of values in a plan interchange their positions. This
scheme represents scenarios in which scheduled operations can
be interchanged within the future horizon.

Each scheme generates plans that contain the same values
and, therefore, they have the same mean, volatility and entropy
that is useful for the interpretation of the measurements per-
formed. In this way, the generation schemes are not highly dis-
ruptive for consumers [14] and do not inﬂuence the total amount
of supply scheduled within the period T . Moreover, the elastic-
ity of volatility is exclusively governed by EPOS and not by
the generation schemes that would bias the measurements of
response and savings.

The informational diversity of the possible plans is deﬁned
by the Euclidean distance between the positions of the demand
values after applying a generation scheme. Let di,1 being a seed
possible plan and di,2 the diversiﬁed possible plan with one of
the proposed generation schemes. The informational diversity
is measured as (cid:80)T
t=1 |t − ˆt|, where t refers to the time point of
demand di,1,t and ˆt=d(t) refers to the new time point of demand
di,2,ˆt after diversiﬁcation with a function d(t) such that di,1,t ≡
di,2,ˆt.

Figure 2 illustrates the probability density functions of in-
formational diversity for the ﬁve generation schemes4. SHUF-
FLE has the highest informational diversity followed by SHIFT(20).

3The TIS signal can be distributed to all agents of the tree overlay network
via application-level broadcasting supported in EPOS for distributing the global
plan [31].

4The test is implemented in Java using randomization methods of JDK 1.8.

Figure 2: Probability density function of informational diversity for the ﬁve
generation schemes.

Decision-making is performed bottom-up and level-by-level:
children interact with their parents and collectively decide
which plan to execute based on (i) their own demand plans and
(ii) the selected plans of the agents connected to each of their
branch underneath. Selection is computationally performed by
the parent of the children that computes the combinational plans
as follows:

Ci = (ci, j)pk
j=1

= b(Au, ..., Au+k)

(8)

where the parent agent i performs a brute force operation
b(Au, ..., Au+k) to compute all combinations between the se-
quences of aggregates plans Au, ..., Au+k received by its k chil-
dren. The child u of agent i is assumed to be the ﬁrst one and
the child u +k the last one. An aggregate plan au, j ∈ Au is com-
puted by summing the demand plan du, j and all selected plans
of the agents received through the branch underneath child u.

Three selection functions are introduced with the following
self-regulation objective: match the actual demand to any de-
sired demand curve. This is an especially challenging objective
to fulﬁll given that decision-making is performed in a fully de-
centralized fashion. The three selection functions use diﬀerent
mathematical approaches to achieve the same self-regulation
objective.

The ﬁrst two selection functions MIN-RMSE-UB1 and MIN-RMSE-
UB2 are devised to maximize response5. They compute the root
mean square error between the combinational plans and one of
the upper bounds illustrated in Section 4:

s =

pk
arg min
j=1

(cid:115)

(cid:80)T

t=1(ci, j,t − sUB,t)2
T

subject to siTFS,t = ci, j,t

(9)

This relation gives the combinational plan, and therefore the
selected plan of each child, with the minimum root mean square
error. This is the combinational plan with the highest matching

5They are also expected to decrease the cost given that a reﬂection of the

TIS signal is used for the computation of the upper bounds.

6

��������������������������������������������������������������������������������������������������������������������������������������������������������������to the upper bound. The upper bound is recomputed for each
combinational plan given that siTFS,t = ci, j,t. This condition is
necessary as it makes collective decision-making possible6. It
actually means that when a number of agents have a selected
plan, meaning the agents in the branch underneath each child,
the rest of the agents need to bind their decision-making to these
existing choices.

The third selection function MIN-COST is devised to minimize

the cost of demand:

s =

pk
arg min
j=1

T(cid:88)

t=1

sTIS,t ∗ ci, j,t

(10)

where the price of supply sTIS,t in the TIS signal multiplied by
the planned demand ci, j,t in the combinational plan at time t
provides the respective cost of demand.

The generation schemes, selection functions and number of
possible plans are all conﬁgurations that inﬂuence the perfor-
mance of self-regulations. They can be incentivized by supply-
demand service providers via some payoﬀ.

7. Experimental Framework Evaluation

This section illustrates the applicability and evaluation of the
self-regulatory framework in four scenarios of balancing energy
supply and demand: (i) ramp down, (ii) generation failure, (iii)
maximum entropy and (iv) minimum entropy. Each regulatory
scenario corresponds to a TIS signal of size 144 as standard-
ized in transactive control for Smart Grids7 [37, 23]. Eval-
uation is based on both simulated and real-world Smart Grid
data sources: (i) the simulated zonal power transmission in the
Paciﬁc Northwest8 (SIM), (ii) the ´Electricite´e de France9 utility
(EDF) and (iii) the Paciﬁc Northwest Smart Grid Demonstration
Project8 (PNW).

A ramp down scenario concerns a situation in which power
supply suddenly drops due to, for example, a low availability
of renewable energy resources, e.g., wind generation. In this
case, operating reserves with high operational costs are acti-
vated such as backup diesel generators. Figure 3a shows that
during the time period [40, 80] the generation costs in the TIS
signal of the SIM dataset doubles reﬂecting the low availability
of cheap renewable energy resources during this period.

The generation failure scenario concerns the unexpected
damage of an operational power generator at the same time in
which the ramp down scenario occurs as well. Further expen-
sive operating reserves need to be activated followed up by ur-
gent repair costs to meet demand. This scenario is illustrated

6Several other versions of selection functions are experimentally evaluated,
however, it is this function that results in eTFS signals with improved response
and savings.

7This corresponds to a 72 hours forecasting of variable granularity within a

market operating every 5 minutes.
request

8Available

upon

at

http://www.pnwsmartgrid.org/

participants.asp (last accessed: November 2015)

9Available

https://archive.ics.uci.edu/ml/datasets/
Individual+household+electric+power+consumption (last accessed:
November 2015)

at

(a) TIS signals
dataset.

from the SIM

(b) TIS signals from the PNW
dataset.

Figure 3: The TIS signals corresponding to the four regulatory scenarios: (i)
ramp down, (ii) generation failure, (iii) minimum entropy and (iv) maximum
entropy.

in Figure 3a with the TIS signal from the SIM dataset that shows
the increase in the price of generation during the time period
[60, 80].

The minimum entropy scenario concerns a situation in which
the availability of power generation is highly dispersed over
time. This dispersion is measured with the entropy of Shan-
non’s information theory [38]. This scenario assumes that a
low entropy in the incentive signal corresponds to a high dis-
persion in power generation. Therefore, matching demand to
the available supply is more challenging. The opposite holds
for the maximum-entropy scenario that assumes a low disper-
sion in the power generation over time. When demand is regu-
lated to have a maximum entropy, the required adjustments in
the generation are minimized as demand is more uniformly dis-
tributed compared to the minimum entropy scenario. Figure 3b
illustrates a series of consecutive TIS signals used from the PNW
dataset10. An exhaustive heuristic algorithm is applied over all
consecutive TIS signals of size 144 to discover the ones with the
minimum and maximum entropy as shown in this ﬁgure.

Experimental evaluation is performed for each regulatory
scenario by measuring and comparing the response, savings and
volatility error11 of the eTFS signals using the upper bound UB2
12.
The three following settings vary in each experiment: (i) gener-
ation scheme, (ii) selection function and (iii) dataset. Each eTFS
signal is generated by a process pipeline of four stages as illus-
trated in Figure 4. The ﬁrst stage in this pipeline, the disaggre-
gation, is applied in the SIM and EDF datasets that only contain
the aggregate base load of all residential consumers. In con-
trast, the PNW dataset contains the base load for each individual
household.

10The TIS signals concern the transmission zone 12 at project site 14 for the

period starting on 30/07/13 at 09:45 to 06/08/13 at 09:30.

11The mean error is not illustrated as the possible plans for each agent have
the same mean and therefore, for any selection performed, µ(S eTFS) = µ(S iTFS)
is satisﬁed. Experimental evaluation conﬁrms an average (cid:15)µ = 0.09 for all
performed experiments.

12Response and savings are also measured with the upper bound UB1. These
results are not shown in this paper given the space limitations and the fact that
they indicate similar ﬁndings.

7

������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������in Appendix D illustrate the individual results in each experi-
ment performed.

Figure 4: The experimental setup for generating an eTFS signal: (1) The ag-
gregated base load from diﬀerent real-world Smart Grid demonstration projects
is disaggregated to n individual household base loads. (2) An agent in each
household generates p number of alternative demand plans based on a genera-
tion scheme that receives as input the base load of a household. (3) The agents
are self-organized in a tree topology over which the decentralized algorithm of
EPOS runs to select the demand plan for execution. (4) The agents perform a
tree aggregation that computes the eTFS signal.

Each regulatory scenario is applied in two project sites13
that belong in a single transmission zone14. The loads in each
project site are regulated by the EPOS agents that are self-
organized in an overlay network with a 3-ary balanced tree
topology. Self-organization is performed with the AETOS
overlay service [34]. Each EPOS agent generates 4 possible
plans using the following generation schemes: (i) SHUFFLE, (ii)
SHIFT(10), (iii) SHIFT(20), (iv) SWAP(15) and (v) SWAP(30). Plan se-
lection is performed with the MIN-RMSE-UB1, MIN-RMSE-UB2 and
MIN-COST selection functions of EPOS. The iTFS signal of the
SIM dataset is disaggregated in 5600 and 2374 loads for each
project site respectively, emulating in this way the loads of the
‘Flathead, Libby’ and ‘Flathead, Haskill’ project sites. Disag-
gregation is performed as illustrated in Appendix C with pa-
rameter ε = 0.20. The iTFS signal of the EDF dataset is disag-
gregated, as illustrated in Appendix C, in 724 loads for each
project site respectively. The PNW dataset contains the residen-
tial base load of approximately 1000 residential consumers on
the date 23.07.2014.
It is split in two subsets referred to as
PNW-MORNING and PNW-EVENING. The iTFS signal for PNW-MORNING
concerns the duration 01:00-13:00, whereas the iTFS for PNW-
EVENING concerns the duration 11:00-23:00.

7.1. Response, savings and volatility error

Figure 5 illustrates the performance of the self-regulatory
framework in the light of four studied aspects: (i) generation
schemes, (ii) selection functions, (iii) datasets and (iv) regu-
latory scenarios. Performance is evaluated by averaging the
response, savings and volatility error in each experiment that
involves the choice of a generation scheme, selection function,
dataset and regulatory scenario. Figure D.13, D.14 and D.15

13They are enumerated as project site 12 and 14.
14It is enumerated as transmission zone 14

8

(a) Generation Schemes

(b) Selection Functions

(c) Datasets

(d) Regulatory Scenarios

Figure 5: Response, savings and volatility error in each studied aspect of the
self-regulatory framework.

Figure 5a shows that SHUFFLE and SHIFT(20) have the highest re-
sponse of 60.06% and 38.02% respectively. These schemes also
have the highest savings of 47.63% and 32.67%. In contrast,
the lowest performance is observed in SWAP(15) with 18.01% re-
sponse and 19.3% savings. SHUFFLE and SWAP(30) cause the high-
est volatility error of 53.72% and 28.15%, while SHIFT(10) the
lowest one of 12.32%. These results conﬁrm that a higher in-
formational diversity results in higher performance.

Figure 5b shows that the MIN-RMSE-UB1 selection function has
the highest response of 38.12%, though MIN-RMSE-UB2 also has a
signiﬁcant response of 38.09%. In contrast, MIN-COST achieves
the highest savings of 56.67% and MIN-RMSE-UB1 the lowest sav-
ings of 7.99%. The highest volatility error is 29.79% by MIN-
RMSE-UB1 and the lowest one is 18.2% by MIN-COST.

Figure 5c illustrates that the highest response of 48.06% is
observed in the PNW-EVENING dataset and the lowest response of
28.02% at the PNW-MORNING dataset. Similarly, the highest sav-
ings of 52.31% are observed in PNW-EVENING and the lowest ones
of 14.75% in PNW-MORNING. The inﬂuence of a dataset to the per-
formance concerns the complexity of the iTFS signal in compar-
ison to UB2. For example, when both signals are monotonously
increasing, they may require a lower degree of adjustment com-
pared to the case in which the one is monotonously increasing
and the second monotonously decreasing15. The complexity of

15For example, Figure 11d shows an iTFS and an UB2 with a very similar

iTFS(Planning(Planning(Planning(1(2(n(.(.(.(1(1(2(2(2(p(p(…(…(…(2(p(1(2(p(1(2(p(1(2(p(1(2(p(1(.(.(.(.(.(.(eTFS(Evalua2on(Selected(plans(by(EPOS(Possible(plans(Disaggregated(base(load(.(.(.(.(.(.(.(.(.(.(.(.(.(.(.(.(.(.(1(p((1)$(2)$(3)$(4)$������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������the signals in each dataset is shown in the ﬁgures of Section 7.2.
The highest volatility error of 40.37% is observed in SIM and the
lowest one of 18.82% in PNW-EVENING.

Figure 5d illustrates the response and savings under the four
diﬀerent regulatory scenarios. The minimum entropy scenario
has the highest response of 44.14%, whereas generation fail-
ure has the lowest response of 31.05%. The maximum entropy
has the highest savings of 40.22%, in contrast to the generation
failure scenario with the lowest savings of 17.51%. The highest
volatility error is 31.61% for maximum entropy and the lowest
one is 23.55% for generation failure.

Figure 6 visualizes the agent selections under the genera-
tion failure scenario for the PNW-MORNING dataset. Figure 6a-c
provide qualitative comparisons about the selection made with
MIN-RMSE-UB2 and MIN-COST using the generation scheme of SHUF-
FLE. Agents adopting the SHUFFLE generation scheme under the
MIN-RMSE-UB2 and MIN-COST selections functions make 50.91%
diﬀerent selections. Figure 6d-f show selections made with
MIN-RMSE-UB2, though using the generation schemes SWAP(15) and
SWAP(30). Agents adopting the MIN-RMSE-UB2 selection function
under the SWAP(15) and SWAP30 generation schemes make 67%
diﬀerent selections. Finally, Figure 6g-i show selections made
with MIN-COST, though using the generation schemes SWAP(15) and
SWAP(30). Agents adopting the MIN-COST selection function under
the SWAP(15) and SWAP30 generation schemes make 64.59% dif-
ferent selections.

Given the performance results of response, savings and
volatility error, a plausible question that arises is if these met-
rics are correlated in practice. Intuitively, a high response can
be incentivized via reducing the demand cost. Similarly, high
savings require a signiﬁcant response. Finally a high response
can originate from adjustment in demand volatility. How cor-
related are these metrics in the empirical ﬁndings illustrated?
Which system parameter can be used to make trade-oﬀs be-
tween response and savings, while minimizing volatility error?
The total number of experiments performed are a popula-
tion on which the correlation between response-savings, error-
response and error-savings can be measured. In this case, the
correlation coeﬃcient is 0.3, 0.44 and -0.08. However, not all
experiments vary the same parameter. Four diﬀerent aspects as
studied as shown in Figure 5. For this reason, it is meaningful
to restrict the correlation measurements for each studied aspect.
Figure 7 illustrates the correlation coeﬃcient for each stud-
ied aspect of the self-regulatory framework. The three metrics
appear highly correlated when measurements are performed for
the experiments that vary the generation scheme and regula-
tory scenario. For example, the correlation range [0.69,0.93]
indicates that response, savings and volatility error are likely to
increase or decrease simultaneously by only changing the gen-
eration scheme. This is a desired property of the framework
as the choice of the generation scheme and regulatory scenario
should not govern the dynamics between the three metrics. Un-
der diﬀerent datasets, response-savings have a correlation of
0.56, error-response have a correlation of 0.29 and error-savings

complexity.

9

have a negative correlation of -0.33. Finally, under diﬀerent se-
lection functions, response-savings have a correlation of -0.44,
error-response have a correlation of 0.45 and error-savings have
a signiﬁcant negative correlation of -0.995.

The correlation results under diﬀerent selection functions
have two striking implications. The ﬁrst implication is that
the design of selection functions is empirically validated: MIN-
COST maximizes the savings while MIN-RMSE-UB1 and MIN-RMSE-
UB2 maximize the response. Trade-oﬀs between response and
savings can be performed by choosing the respective selection
In practice, these trade-oﬀs can be incentivized by
function.
system operators or policy makers [39, 40, 41]: each consumer
of the supplied resources may change its selection function in
exchange of a monetary payoﬀ. The second implication is that
when the volatility error should remain strictly minimal, it is
more likely for the self-regulatory system to increase the sav-
ings rather than the response.

7.2. Signals with maximum response

This section illustrates the resulting eTFS signals with the
maximum response in each dataset and regulatory scenario.
The eTFS signal is compared to iTFS and UB2.

Figure 8 illustrates the ramp down scenario. The maximum
response is 96.61%, 55.98%, 59.38% and 60.73% for SIM, EDF,
PNW-MORNING and PNW-EVENING respectively. It is shown that dur-
ing the period [40, 80] in which the cost generation is maxi-
mized, the majority of the values in the eTFS signals is decreased
compared to the respective values of the iTFS signal. Figure 8d
shows a signiﬁcant match of the eTFS signal with UB2. In the
case of Figure 8a and 8d that maximum response is achieved
with SHIFT(20), a signiﬁcantly lower volatility error of 9.14% and
3.3% is observed.

Figure 9 illustrates the generation failure scenario. The max-
imum response is 61.68%, 58.03%, 55.57% and 65.27% for
SIM, EDF, PNW-MORNING and PNW-EVENING respectively. Similarly
to the ramp down scenario, the majority of the values in the eTFS
signals during the period [60, 80] is decreased compared to the
respective values of the iTFS signal.

Figure 10 illustrates the maximum entropy scenario. The
maximum response is 65.49%, 66.47%, 95.72% and 74.28%
for SIM, EDF, PNW-MORNING and PNW-EVENING respectively. A re-
sponse with a higher demand at the beginning and at the end of
the eTFS signal is achieved during which generation cost is low.
Figure 11 illustrates the minimum entropy scenario. The
maximum response is 99.11%, 67.57%, 61.8% and 122.57%
for SIM, EDF, PNW-MORNING and PNW-EVENING respectively. The
maximum response in SIM is achieved with MIN-COST that re-
sults in a low volatility error of 16.58% conﬁrming the sig-
niﬁcant negative correlation between error-savings as shown
in Figure 7. Note that in Figure 11d, the iTFS signal and the
UB2 signal have a very similar trend with a volatility error of
31.29%. Given that response and savings are relative measure-
ments, low diﬀerences result in signiﬁcant changes in the mag-
nitude of response and savings. This explains the more extreme
values computed with the PNW-EVENING dataset.

(a) SHUFFLE, MIN-RMSE-UB2

(b) SHUFFLE, MIN-COST

(c) SHUFFLE, MIN-RMSE-UB2 vs. MIN-COST

(d) SWAP(15), MIN-RMSE-UB2

(e) SWAP(30), MIN-RMSE-UB2

(f) SWAP(15) vs. SWAP(30), MIN-RMSE-UB2

(g) SWAP(15), MIN-COST

(h) SWAP(30), MIN-COST

(i) SWAP(15) vs. SWAP(30), MIN-COST

Figure 6: Agent selections under the generation failure scenario for the PNW-MORNING dataset.

8. Discussion and Conclusion

and applicability in Smart City applications.

This paper illustrates extensive experimental ﬁndings using
data from real-world operational supply-demand systems that
conﬁrm the feasibility of a new type of bottom-up, online self-
regulation using Internet of Things technologies.
In contrast
to earlier work, this paper contributes a generic self-regulatory
framework shaped around standardized concepts and imple-
mented Internet of Things technologies for an easier adoption

An evaluation methodology, integrated within this frame-
work, allows the systematic assessment of optimality and sys-
tem constraints, resulting in more informative and meaningful
comparisons of diﬀerent self-regulatory settings with an im-
pact on how system operators can design controllability strate-
gies for self-regulating supply-demand systems. For exam-
ple, the comparison of diﬀerent agent selections by measuring

10

SelectedPlan1234SelectedPlan1234DifferentSelectionSameSelectionSelectedPlan1234SelectedPlan1234DifferentSelectionSameSelectionSelectedPlan1234SelectedPlan1234DifferentSelectionSameSelectionFigure 7: Correlation coeﬃcient between response, savings and volatility error
for each studied aspect of the self-regulatory framework.

(a) SIM, SHUFFLE, MIN-RMSE-UB2

(b) EDF, SHUFFLE, MIN-RMSE-
UB2

(a) SIM, SHIFT(20), MIN-COST

(b) EDF, SHUFFLE, MIN-RMSE-
UB2

PNW-MORNING,

(c)
MIN-RMSE-UB2

SHUFFLE,

PNW-EVENING,

(d)
MIN-COST

SHIFT(20),

Figure 8: eTFS signals with maximum response under the ramp down scenario.
For comparison, the iTFS and UB2 signals are shown.

response, savings and volatility error shows that purely cost-
based metrics, such as savings, on which earlier work mainly
relies on, cannot adequately quantify the dynamics and capa-
bilities of regulatory mechanisms to adjust demand.
Instead,
comparisons between response and savings suggest trade-oﬀs
that open up new pathways to evaluate multiple dimensions and
engineer multi-objective self-regulatory systems. The correla-
tion results of the three metrics empirically validate the eﬀec-
tiveness of the selection functions for which they are designed,
i.e. maximize savings vs. maximize response vs. minimize
volatility error. Minimizing the volatility error comes in hand
with maximizing savings, rather than maximizing response.

A higher informational diversity in the options of agents,

11

PNW-MORNING,

(c)
MIN-RMSE-UB2

SHUFFLE,

PNW-EVENING,

(d)
MIN-RMSE-UB2

SHUFFLE,

Figure 9: eTFS signals with maximum response under the generation failure
scenario. For comparison, the iTFS and UB2 signals are shown.

from which selections are made, results in higher performance
as shown for the evaluated plan generation schemes. Acquir-
ing informational diversity requires application-speciﬁc knowl-
edge that can create new innovative opportunities for self-
regulation in domains such as natural ecosystems [42], shar-
ing economies [43, 35] or even participatory policies for sci-
ence [44].

References

References

[1] A. C. Brown, J. Stern, B. W. Tenenbaum, D. Gencer, Handbook for eval-
uating infrastructure regulatory systems, World Bank Publications, 2006.
[2] J. Gubbi, R. Buyya, S. Marusic, M. Palaniswami, Internet of Things
(IoT): A vision, architectural elements, and future directions, Future Gen-
eration Computer Systems 29 (7) (2013) 1645 – 1660.

[3] A. A. Obizhaeva, J. Wang, Optimal trading strategy and supply/demand
dynamics, Journal of Financial Markets 16 (1) (2013) 1 – 32, ISSN 1386-
4181.

[4] A.-H. Mohsenian-Rad, A. Leon-Garcia, Optimal Residential Load Con-
trol With Price Prediction in Real-Time Electricity Pricing Environments,
Smart Grid, IEEE Transactions on 1 (2) (2010) 120–133, ISSN 1949-
3053.

[5] A. Conejo, J. Morales, L. Baringo, Real-Time Demand Response Model,
Smart Grid, IEEE Transactions on 1 (3) (2010) 236–242, ISSN 1949-
3053.

[6] P. Samadi, A.-H. Mohsenian-Rad, R. Schober, V. Wong, J. Jatskevich,
Optimal Real-Time Pricing Algorithm Based on Utility Maximization for
Smart Grid, in: Smart Grid Communications (SmartGridComm), 2010
First IEEE International Conference on, 415–420, 2010.

������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������(a) SIM, SHUFFLE, MIN-RMSE-UB2

(b) EDF, SHUFFLE, MIN-RMSE-
UB2

(a) SIM, SHIFT(20), MIN-COST

(b) EDF, SHUFFLE, MIN-RMSE-
UB1

PNW-MORNING,

(c)
MIN-RMSE-UB1

SHUFFLE,

PNW-EVENING,

(d)
MIN-COST

SHUFFLE,

PNW-MORNING,

(c)
MIN-COST

SHUFFLE,

PNW-EVENING,

(d)
MIN-COST

SHUFFLE,

Figure 10: eTFS signals with maximum response under the maximum entropy
scenario. For comparison, the iTFS and UB2 signals are shown.

Figure 11: eTFS signals with maximum response under the minimum entropy
scenario. For comparison, the iTFS and UB2 signals are shown.

[7] N. Hopper, C. Goldman, R. Bharvirkar, B. Neenan, Customer response
to day-ahead market hourly pricing: Choices and performance, Utilities
Policy 14 (2) (2006) 126–134.

[8] C. Akasiadis, G. Chalkiadakis, Decentralized Large-Scale Electricity
Consumption Shifting by Prosumer Cooperatives, in: ECAI 2016: 22nd
European Conference on Artiﬁcial Intelligence, 29 August-2 September
2016, The Hague, The Netherlands-Including Prestigious Applications of
Artiﬁcial Intelligence (PAIS 2016), vol. 285, IOS Press, 175, 2016.
[9] J. Bewersdorﬀ, Luck, logic, and white lies : the mathematics of games,

A.K. Peters, Wellesley, Mass, ISBN 9781568812106, 2005.

[10] T. Sandholm, F. Ygge, Constructing speculative demand functions in
equilibrium markets, Wash. Univ. in St Louis CS Tech Reports 99 (26)
(1999) 1–48.

[11] E. M. Azevedo, J. D. Leshno, A supply and demand framework for two-

sided matching markets, Available at SSRN 2260567 .

[12] D. Gale, L. S. Shapley, College admissions and the stability of marriage,

American mathematical monthly (1962) 9–15.

[13] W. Saad, Z. Han, H. Poor, T. Basar, Game-Theoretic Methods for the
Smart Grid: An Overview of Microgrid Systems, Demand-Side Man-
agement, and Smart Grid Communications, Signal Processing Magazine,
IEEE 29 (5) (2012) 86–105, ISSN 1053-5888.

[14] D. Callaway, I. Hiskens, Achieving Controllability of Electric Loads, Pro-

ceedings of the IEEE 99 (1) (2011) 184–199, ISSN 0018-9219.

[15] S. Adam, An Inquiry into the Nature and Causes of the Wealth of Nations,

Edwin Cannan’s annotated edition .

[16] V. P. Veetil, R. E. Wagner, Treating Macro Theory as Systems Theory:

How Might it Matter?, chap. 11, 119–143, 2015.

[17] P. Carlsson, A. Andersson, A ﬂexible model for tree-structured multi-
commodity markets, in: E-Commerce Technology, 2005. CEC 2005. Sev-
enth IEEE International Conference on, 50–57, 2005.

[18] A. Andersson, F. Ygge, Managing large scale computational markets, in:
Proceedings of the Thirty-First Hawaii International Conference on Sys-
tem Sciences, vol. 7, IEEE, 4–13, 1998.

[19] F. Ygge, Market-oriented programming and its application to power load

management, Ph.D. thesis, Lund University, 1998.

[20] M. Jacyno, S. Bullock, N. Geard, T. R. Payne, M. Luck, Self-organizing
agent communities for autonomic resource management, Adaptive Be-
havior 21 (1) (2013) 3–28.

[21] J. Gao, Y. Xiao, J. Liu, W. Liang, C. P. Chen, A survey of communi-
cation/networking in smart grids, Future Generation Computer Systems
28 (2) (2012) 391–404.

[22] P. Huang, J. Kalagnanam, R. Natarajan, M. Sharma, R. Ambrosio,
D. Hammerstrom, R. Melton, Analytics and Transactive Control Design
for the Paciﬁc Northwest Smart Grid Demonstration Project, in: The 1st
IEEE International Conference on Smart Grid Communications (Smart-
GridComm), 449–454, 2010.

[23] K. Subbarao, J. Fuller, K. Kalsi, A. Somani, R. Pratt, S. Widergren,
D. Chassin, Transactive control and coordination of distributed assets
for ancillary services, Tech. Rep., Paciﬁc Northwest National Laboratory
(PNNL), Richland, WA (US), 2013.

[24] P. Joskow, J. Tirole, Reliability and Competitive Electricity Markets, The

RAND Journal of Economics 38 (1) (2007) 60–84.

[25] A. Timmermann, C. W. Granger, Eﬃcient market hypothesis and fore-
casting, International Journal of Forecasting 20 (1) (2004) 15 – 27, ISSN
0169-2070.

[26] R. Carbonneau, K. Laframboise, R. Vahidov, Application of machine
learning techniques for supply chain demand forecasting, European Jour-
nal of Operational Research 184 (3) (2008) 1140 – 1154, ISSN 0377-
2217.

[27] D. Kirschen, G. Strbac, P. Cumperayot, D. de Paiva Mendes, Factoring the
elasticity of demand in electricity prices, Power Systems, IEEE Transac-
tions on 15 (2) (2000) 612–617, ISSN 0885-8950.

[28] G. Koutitas, Control of Flexible Smart Devices in the Smart Grid, Smart

Grid, IEEE Transactions on 3 (3) (2012) 1333–1343, ISSN 1949-3053.

[29] S. D. Ramchurn, P. Vytelingum, A. Rogers, N. Jennings, Agent-based
Control for Decentralised Demand Side Management in the Smart Grid,

12

�������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������in: The 10th International Conference on Autonomous Agents and Mul-
tiagent Systems - Volume 1, AAMAS ’11, International Foundation for
Autonomous Agents and Multiagent Systems, Richland, SC, ISBN 0-
9826571-5-3, 978-0-9826571-5-7, 5–12, 2011.

[30] C. Brandst¨att, G. Brunekreeft, K. Jahnke, How to deal with negative
power price spikes? Flexible voluntary curtailment agreements for large-
scale integration of wind, Energy Policy 39 (6) (2011) 3732–3740.
[31] E. Pournaras, M. Warnier, F. M. T. Brazier, Local Agent-based Self-
stabilisation in Global Resource Utilisation, International Journal of Au-
tonomic Computing 1 (4) (2010) 350 – 373.

[32] E. Pournaras, M. Vasirani, R. Kooij, K. Aberer, Decentralized Planning
of Energy Demand for the Management of Robustness and Discomfort,
Industrial Informatics, IEEE Transactions on 10 (4) (2014) 2280–2289,
ISSN 1551-3203.

[33] E. Pournaras, M. Vasirani, R. Kooij, K. Aberer, Measuring and controlling
unfairness in decentralized planning of energy demand, in: Energy Con-
ference (ENERGYCON), 2014 IEEE International, 1255–1262, 2014.

[34] E. Pournaras, M. Warnier, F. M. T. Brazier, Adaptive Self-organization in
Distributed Tree Topologies, International Journal of Distributed Systems
and Technologies 5 (3).

[35] P. Pilgerstorfer, E. Pournaras, Self-adaptive Learning in Decentralized
Combinatorial Optimization–A Design Paradigm for Sharing Economies,
in: Proceedings of the 12th International Symposium on Software Engi-
neering for Adaptive and Self-managing Systems (SEAMS 2017), IEEE,
2017.

[36] C. Hinrichs, S. Lehnhoﬀ, M. Sonnenschein, COHDA: A Combinatorial
Optimization Heuristic for Distributed Agents, in: International Confer-
ence on Agents and Artiﬁcial Intelligence, Springer, 23–39, 2013.
[37] A. Hoke, A. Brissette, S. Chandler, A. Pratt, D. Maksimovizc, Look-
ahead economic dispatch of microgrids with energy storage, using linear
programming, in: Technologies for Sustainability (SusTech), 2013 1st
IEEE Conference on, 154–161, 2013.

[38] E. Jaynes, On the rationale of maximum-entropy methods, Proceedings

of the IEEE 70 (9) (1982) 939–952, ISSN 0018-9219.

[39] G. Strbac, Demand side management: Beneﬁts and challenges, Energy

Policy 36 (12) (2008) 4419–4426.

[40] I. Giannoccaro, P. Pontrandolfo, Negotiation of the revenue sharing con-
tract: An agent-based systems approach, International Journal of Produc-
tion Economics 122 (2) (2009) 558–566.

[41] S. Raghunathan, Impact of demand correlation on the value of and in-
centives for information sharing in a supply chain, European Journal of
Operational Research 146 (3) (2003) 634 – 649, ISSN 0377-2217.
[42] B. Burkhard, F. Kroll, S. Nedkov, F. Mller, Mapping ecosystem service
supply, demand and budgets, Ecological Indicators 21 (2012) 17 – 29,
ISSN 1470-160X.

[43] P. Santi, G. Resta, M. Szell, S. Sobolevsky, S. H. Strogatz, C. Ratti, Quan-
tifying the beneﬁts of vehicle pooling with shareability networks, Pro-
ceedings of the National Academy of Sciences 111 (37) (2014) 13290–
13294.

[44] D. Sarewitz, R. A. P. Jr., The neglected heart of science policy: reconcil-
ing supply of and demand for science, Environmental Science and Policy
10 (1) (2007) 5 – 16, ISSN 1462-9011.

Appendix A. Mathematical Symbols

Table A.1 outlines all mathematical symbols used in this pa-

per in the order they appear.

Appendix B. Normalization of a Reﬂection

Normalization aims at increasing the negative values to 0 so
that sTIS,t ∈ R>0 and at the same time reducing the positive val-
ues so that the total reduction equals the total increase resulting
in the same average price in the two signals. The reduction of
the positive prices is distributed proportionally to their level so
that none of the price reductions results in new negative prices.

13

Table A.1: An overview of the mathematical symbols

Symbol
t
T
TS
S TS
sTS,t
TIS
TFS
iTFS
eTFS
UB
R
P
r(t, S TS)
µ(S TS)
σ(S TS)
n(t, S TS)
(cid:15)µ, (cid:15)σ
i
j
p
Di
di, j
di, j,t
s
n
ˆt=d(t)
Ci
ci, j
ci, j,t
Ai
ai, j
ai, j,t
u
k
b(A1, ..., Ak)
ϑ
α
ε
min(S TS)
max(S TS)
x

Interpretation
Time index
Planning horizon
Index indicating a type of transactive signal
A transactive signal of type TS
The value of a transactive signal TS at time t
Transactive Incentive Signal
Transactive Feedback Signal
Inelastic TFS signal
Elastic TFS signal
An upper bound eTFS signal
The response metric
The savings payoﬀ metric
The value of the reﬂected signal TS at time t
The mean value of a transactive signal TS
The volatility value of a transactive signal TS
The value of the normalized signal TS at time t
The mean and volatility error
Agent index
Plan index
Number of possible plans
The possible plans of an agent i
The possible plan j of an agent i
The value of a possible plan j at time t
The index of the selected plan
Number of agents
Diversiﬁcation function of a generation scheme
The combinational plans of an agent i
The combinational plan j of an agent i
The value of a combinational plan j at time t
The aggregate plans of an agent i
The aggregate plan j of an agent i
The value of an aggregate plan j at time t
The ﬁrst child of a parent agent i
The number of children that a parent agent has
Brute force over k sequences of aggregates plans
Average price reduction
Average negative prices
Heterogeneity parameter for disaggregation
The minimum value of a transactive signal TS
The maximum value of a transactive signal TS
Random number in [0, 1)

Mathematically, normalization of a TIS reﬂection is expressed
as follows:

n(t, S TIS) =


r(t, S TIS) + r(t,S TIS)∗α


0

ϑ

, if r(t, S TIS) ≥ 0
, if r(t, S TIS) < 0

(B.1)

where α is the average price reduction of the positive prices and
ϑ is the average value of the negative prices. α is measured by
summing the absolute values of the negative prices and dividing
by the number of positive prices. It should hold that α > |ϑ|.

Figure B.12: Normalization of a TIS reﬂection with negative price values to
a TIS signal with positive price values. The average price of the two signals
remains the same.

Figure B.12 illustrates an example of the normalization per-
formed in the TIS reﬂection for the generation failure scenario.
This normalization is used for the computation of the UB1.

Appendix C. Disaggregation

Given that the availability of real-time power demand data
at the household level is still limited due to privacy and busi-
ness concerns, disaggregation is performed in the SIM and EDF
datasets for the evaluation illustrated in Section 5. Two disag-
gregation approaches are followed in each case.

The iTFS signals of the SIM dataset are disaggregated as il-
lustrated in Algorithm 1. The algorithm distributes the load
uniformly among the agents (line 5 of Algorithm 1), however,
it introduces some heterogeneity controlled by the parameter ε
(line 6 and 7 of Algorithm1).

The iTFS signals of the EDF datasets are disaggregated by dis-
tributing each daily demand time series to a diﬀerent agent. In
other words, the daily variability of demand of a single house-
hold is transformed to variability of demand among diﬀerent
households. This approach results in disaggregated demand
data for two groups of 724 agents that correspond to approx-
imately 365 days for a period of 4 years.

Appendix D. Performance Results in Detail

Figure D.13 and D.14 illustrate the measurements of re-
sponse, savings and volatility error in detail. Results are il-
lustrated for each of the studied aspects: generation scheme,
selection function, dataset and regulatory scenario.

14

Algorithm 1 Disaggregation of the iTFS signal S iTFS to n agents.
Require: S iTFS, n, ε

1: for all siTFS,t ∈ S iTFS do
2:

x = siTFS,t
for all i ∈ {1, ..., n} do
if i = n is false then

µ(S eTFS) = x/(n − i + 1))
min(S eTFS) = µ(S eTFS) − ε ∗ µ(S eTFS)
max(S eTFS) = µ(S eTFS) + ε ∗ µ(S eTFS)
x = rand[0, 1)
di,1,t = min(x, µ(S eTFS) − min(S eTFS) ∗ x + max(S eTFS) ∗ x)
if di,1,t < 0.0 then
di,1,t = 0.0

end if

else

di,1,t = x

end if
x = x − di,1,t
di,1 = di,1 ∪ di,1,t

3:

4:

5:

6:

7:

8:

9:

10:

11:

12:

13:

14:

15:

16:

17:

end for

18:
19: end for
Ensure: di,1, ∀i ∈ {1, ..., n}

�����������������������������������������������������������������������������������������������������������������(a) Ramp down

(b) Generation failure

(c) Maximum entropy

(d) Minimum entropy

Figure D.13: Response of EPOS under diﬀerent generation schemes and selection functions.
15

�����������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������(a) Ramp down

(b) Generation failure

(c) Maximum entropy

(d) Minimum entropy

Figure D.14: Savings of EPOS under diﬀerent generation schemes and selection functions.
16

����������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������(a) Ramp down

(b) Generation failure

(c) Maximum entropy

(d) Minimum entropy

Figure D.15: Volatility error of EPOS under diﬀerent generation schemes and selection functions.
17

����������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������������