0
2
0
2

y
a
M
2

]

O
R
.
s
c
[

1
v
5
2
8
0
0
.
5
0
0
2
:
v
i
X
r
a

SIGVERSE: A CLOUD-BASED VR PLATFORM FOR RESEARCH
ON SOCIAL AND EMBODIED HUMAN-ROBOT INTERACTION

A PREPRINT

Tetsunari Inamura∗
National Institute of Informatics
The Gradutate University for Advanced Studies, SOKENDAI
Tokyo, Japan
inamura@nii.ac.jp

Yoshiaki Mizuchi
National Institute of Informatics
Tokyo, Japan
mizuchi@nii.ac.jp

May 5, 2020

ABSTRACT

Common sense and social interaction related to daily-life environments are considerably important
for autonomous robots, which support human activities. One of the practical approaches for acquiring
such social interaction skills and semantic information as common sense in human activity is the
application of recent machine learning techniques. Although recent machine learning techniques
have been successful in realizing automatic manipulation and driving tasks, it is difﬁcult to use these
techniques in applications that require human-robot interaction experience. Humans have to perform
several times over a long term to show embodied and social interaction behaviors to robots or learning
systems. To address this problem, we propose a cloud-based immersive virtual reality (VR) platform
which enables virtual human-robot interaction to collect the social and embodied knowledge of human
activities in a variety of situations. To realize the ﬂexible and reusable system, we develop a real-time
bridging mechanism between ROS and Unity, which is one of the standard platforms for developing
VR applications. We apply the proposed system to a robot competition ﬁeld named RoboCup@Home
to conﬁrm the feasibility of the system in a realistic human-robot interaction scenario. Through
demonstration experiments at the competition, we show the usefulness and potential of the system for
the development and evaluation of social intelligence through human-robot interaction. The proposed
VR platform enables robot systems to collect social experiences with several users in a short time.
The platform also contributes in providing a dataset of social behaviors, which would be a key aspect
for intelligent service robots to acquire social interaction skills based on machine learning techniques.

Keywords Human-Robot Interaction · Virtual Reality · Imitation Learning · Social and Embodied Intelligence ·
Dataset of Interaction

1

Introduction

Various physical functions of intelligent robots, such as learning strategies for grasping objects [28], manipulating ﬂexi-
ble objects such as cloth [55], and automatic driving [13], have been signiﬁcantly improved by the recent development of
machine learning technology. The common assumption of these robot learning techniques is that they prepare a sample
of body movements and decisions in the form of data sets. Some methods, such as Yang’s system [55], require only a
few tens of data. However, the more complex is the problem, the larger is the number of data required, and the number
of data is in the order of thousands to tens of thousands. This quantity of data is not practical in real environments.
If we can create an environment in which robots can repeat the object manipulation actions, autonomous learning is
possible. However, if the target of the learning changes to the interaction behavior with humans, the situation differs.

∗Use footnote for providing further information about author (webpage, alternative address)—not for acknowledging funding

agencies.

 
 
 
 
 
 
A PREPRINT - MAY 5, 2020

Research on Human-Robot Interaction (HRI) is one of the most active research topics in robotics and intelligent systems.
As the HRI system is complex, there are several difﬁculties in the research activity. One difﬁculty is the collection of a
dataset for machine learning in HRI [1] toward learning and modeling human activity. A typical strategy to measure
the human activity in the interaction with robots is the use of a video severance system, including motion capture
systems. For example, Kanda [21] had developed a massive sensor network system for observing the human activity in
a shopping mall environment. The observations were performed for 25 days. Another application of the interaction
between a robot and children in an elementary school required approximately two months to collect the interaction
dataset [20]. The signiﬁcant cost for such an observation is one of the bottlenecks in HRI research.

One of the simplest strategies for reducing data collection costs is the use of simulator systems. Although the gap
between a real environment and a simulated environment is often discussed as a common concern, a keyword named
sim2real has been recently improved to close the gap. A simulation of HRI also seems to be an attractive solution for
accelerating the learning; however, another problem is that the real and natural behavior of test subjects cannot be
modeled as a simulated agent in a simulation environment.

To address these problems, we propose a concept of a cloud-based VR system for HRI shown in Fig.1. The system
allows test subjects to participate in HRI experiments, which is set up in the VR environment, via the Internet, without
actually inviting them to the real laboratory or experimental ﬁeld. If the test subject can log in to an avatar with the VR
device and have face-to-face interaction with the virtual robot from the ﬁrst-person’s view, most of the HRI experiments
that have been conducted so far can be realized in the VR environment. The time burden on the subjects can also
be distributed through crowd-sourcing, based on the invitation of more test subjects. The purpose of this paper is to
summarize the technical infrastructure required for the realization of such a system and present a system conﬁguration
of the prototype platform named SIGVerse. We also present some case studies that show the effectiveness and feasibility
of the platform and discuss the future of HRI in the VR environment.

Figure 1: Concept of the SIGVerse system. Arbitrary client users can participate in the HRI experiment via the Internet
using VR devices.

2

2 Related Works

A PREPRINT - MAY 5, 2020

Bazzano et al. have developed a virtual reality (VR) system for service robots [3]. This system provides a virtual ofﬁce
environment and immersive VR interface to test the interaction between virtual robots and real humans. Since the
software of a service robot should be developed in C# script on the Unity system, compatibility among real robots is
low.

Lemaignan et al. have proposed SPARK, which enables social robots to assess the situation of human-robot interaction
and plan proper behavior based on a spatio-temporal representation with three-dimensional (3D) geometric reconstruc-
tion from robot sensors [27]. They also expanded the system to share the representation among a group of service
robots as UNDERWORLDS [26]. Since the main contribution of both systems is to establish the internal representation
of the world for social robots, the systems do not support a user interface to share the representation with humans.
Simulation of the social interaction behavior between robot systems and real humans is an important function of service
robots; however, the systems require real robots for the assessment and planning of social interactions. Real-time human
participation in the virtual HRI scenario is our motivation.

From the viewpoint of platforms, several open source platforms for artiﬁcial intelligence (AI) agent in indoor environ-
ments, such as Malmo [19], MINOS [46], AI2THOR [24], have been proposed. The projects provide a free and open
software platform that enables general users to participate in the research and development of intelligent agent systems,
in which the difﬁculty in building robot agent and 3D environment models is removed. Since the concept of the systems
is the easy development of an autonomous agent system, the control of AI agents is limited to send simple commands
by script, without using Robot Operating System (ROS). Additionally, the systems do not support real-time interaction
between real users and AI agents because the main target is the interaction between AI agents and the environments.

Another related keyword is the digital twin [9], which creates a digital replica of the real world, including humans, robot
agents, and the environment. One of the applications of the digital twin in HRI is the investigation and optimization
of the interaction/interface system and design of the robot systems. The ﬁeld of manufacturing engineering recently
focuses on this technology, and several software systems are proposed [25, 5]. However, the main focus of these
attempts is the real-time replication of the physical world. The real-time participation of humans in the virtual world is
not well discussed and developed.

In terms of the datasets, various multimodal behavioral datasets have been proposed toward HRI datasets. KIT
motion dataset [41] provides a combination of the modality of motion pattern and natural language description. Movie
datasets [44, 47] of human activity in the daily life environment have been proposed. In terms of the conversation,
collection of the utterance and evaluation of the communication in navigation task have introduced [30, 50, 31].
Although it is useful for the evaluation of behavior recognition and expansion to collaboration with research on
natural language processing, the range of combinations of modality has a limitation. Since it also requires dedicated
experimental environments and equipments to add more data, growing the open dataset in the research community is
difﬁcult.

We direct our motivation to the realization of an open platform to collect and leverage multimodal-interaction-experience
data that were collected in daily-life environments that require embodied social interaction.

3

A PREPRINT - MAY 5, 2020

Table 1: Functions and limitations of related systems

Platform

Graphics

Physics/
dynamics
ODE, Bullet,
Simbody, DART

3D model format

SDF/URDF, STL,
OBJ, Collada

OGRE

Ready-made
model/environment
40+ robot models,
7 competitions
5+ robot modes,
RoboCup Rescue,
RoboCup Soccer

Robotic
middleware

Immersion
of human

ROS

Not supported

Player,
ROS

Not supported

30+ robot models

ROS

Not supported

Unreal Engine 2

Unknown

OpenGL

OpenGL

Bullet ,ODE,
Vortex, Newton

AIST engine,
ODE, Bullet,
PhysX

OBJ, STL, DXF,
3DS, Collada,
URDF

Body, VRML

A few robot models

OpenRTM Not supported

Java3D

ODE, Bullet

VRML

A few robot models

OpenRTM Not supported

Webots
[32]

WREN
(OpenGL)

ODE

Coin3D,
OpenSceneGraph

ODE, Bullet

WBT, VRML,
X3D

XML, VRML,
OBJ, Collada

WebGL

N/A

Unknown

50+ robot models,
500+ objects,
6 environments

10+ robot models

SUNCG,
Matterport3D

Minecraft

Unknown

MARLÖ competition

Unity

Unity

FBX, Collada,
3DS, DXF,
OBJ, . . .
FBX, Collada,
3DS, DXF,
OBJ, . . .

200+ environments,
2600+ objects

6 environments,
350+ object models,
Knowledge base

ROS,
NaoQI

ROS,
YARP

N/A

N/A

Not supported

Not supported

Not supported

Not supported

N/A

Not supported

N/A

Not supported

Quake III Arena

Unknown

Several games

N/A

Not supported

MuJoCo, Atari, Box2D,
15+ simulation environments

Unknowna

Unknowna

N/Ab

Not supported

N/A

N/A

1 robot model

YARP

Not supported

OGRE

ODE

X3D, VRML

A few robot model

N/A

Supported

Gazebo
[23]

USARSim
[29]

V-REP
[45]

Choreonoid
[36]

Open-HRP
[22]

OpenRAVE
[8]
MINOS
[46]
Project Malmo
[19]

AI2THOR
[24]

VirtualHome
[42]

DeepMind Lab
[4]
OpenAI Gym
[6]
iCub-HRI
[11]
SIGVerse (Ver.2)
[17]

SIGVerse (Ver.3)

Unity

FBX, Collada,
3DS, DXF,
OBJ, . . .

5+ robot models,
200+ objects,
40+ environments

ROS

Supported

a It depends on the used simulation environment.
b ROS is supported only in a third-party environment gym-gazebo.

3 SIGVerse: a cloud-based VR platform

In this section, we introduce the concept of a could-based VR system to accelerate the data collection in HRI applications.

For example, collaborative cooking tasks and dialogue-management systems dealing that address vague utterances and
gestures, and gazing behaviors are assumed to be target situations that involve HRI scenarios. In these situations, a
robot must observe and learn social behaviors of the humans with which it interacts and solve ambiguities that are based
on past interaction experience. In these complex environments, the robot should collect the following multimodal data:

1. Physical motion/gestures during interaction (including gaze information)

2. Visual information (i.e., image viewed by the agents)

4

A PREPRINT - MAY 5, 2020

3. Spatial information (i.e., positions of agents and objects)
4. Voice interaction (i.e., utterance of agents)

Additionally, the following functions must be provided:

(i) Users are able to login to avatars in the VR environment from anywhere
(ii) Multiple-users are able to simultaneously login to the same VR scene via the Internet
(iii) Recording and replaying time-series multimodal interaction data
(iv) Attaching control programs of real robots to virtual robots

The functions (i) to (iii) are based on the real-time participation of humans in the virtual environment, which was not
discussed in conventional robot simulators. The function (iv) is required for the efﬁcient development of robot software,
which could be used in both real and virtual environments. Thus, the support of robotic middleware is essential. The
function (iii) requires good quality of graphics function and computational power for the physic simulation. The
reusability of the ready-made 3D model of the robot and daily life environment is also essential to construct a variety of
virtual environments for HRI experiments. Since we have several types of data format for the robot model, compatibility
is another important function for efﬁcient development. Table.1 shows the performance of existing related systems from
the viewpoint of these required functions.

Our previous system (SIGVerse ver.2) [17] has been utilized for studies such as analysis of human behavior [43],
learning of spatial concepts [48], and VR-based rehabilitation [16]. These studies employed multimodal data (1) to
(4) and functions (i) to (iii); however, the re-usability of conventional SIGVerse is restricted due to its application
programming interface (API). Therefore, the system needs to keep functions (i) to (iii) and realize function (iv). The
next subsections present the software architecture that realizes these functions.

3.1 Architecture of the SIGVerse

The detailed architecture of SIGVerse (ver.3), including a participant and a robot, is shown in Fig. 2. SIGVerse is a
server/client system that is based on a third-party networking technology (i.e., Photon Realtime). The server and clients
have the same scene, which is composed of 3D object models such as avatars, robots, and furniture. By communicating
information of registered objects via the Internet, the events in each scene can be synchronized.

The participant can login to an avatar via VR devices such as head-mounted displays (HMDs), hand-tracking controllers,
audio devices, and motion capture devices. According to the input from these VR devices, behavior of the participant
is reﬂected on the avatar by Unity scripts. Perceptual information such as perspective visual feedback is provided to
the participant. Thus, the participant can interact with the virtual environment in a manner that is similar to a real
environment.

The proposed VR simulation system has a bridging mechanism between ROS and Unity. Software for virtual robot
control can be reused in real robots without modiﬁcation, and vice versa.

The information for reproducing multimodal interaction experiences is stored on a cloud server as a large-scale dataset
of embodied and social information. By sharing this information, users can reproduce and analyze the multimodal
interaction after the experiment.

3.2 Mechanism for connecting ROS and Unity

To control a robot in a VR environment, sensory feedback and robot commands should be passed between Unity scripts
and ROS nodes. The most important factor in realizing the integration of ROS and Unity is the communication protocol
between them. Software systems for bridging ROS and Unity have been proposed by Hu et al. [14] and Downey et
al. [7]. For these systems, motor commands and sensor information are transferred using rosbridge. However, if users
attempt to send a massive amount of sensor information, such as camera images, from Unity, a bottleneck on the transfer
speed is created. Previous works [14, 7] did not discuss how to transfer camera images in realtime; accordingly, a new
technique for realizing real-time transfer based on the binary JavaScript object notation (BSON) format using a TCP/IP
connection is proposed in the following section.

As a ROS functionality, a rosbridge framework provides a JavaScript object notation (JSON) API and a WebSocket
server for communicating between a ROS program and an external non-ROS program. JSON is a text-based data
exchange format that represents pairs of keywords and values. Although the rosbridge protocol covers sending and
receiving ROS messages, its performance for parsing large JSON data, such as images, is insufﬁcient for satisfying
real-time sensor feedback. For this reason, a speciﬁc server (sigverse_rosbridge_server) for communicating large data

5

A PREPRINT - MAY 5, 2020

Figure 2: Software architecture of the SIGVerse system

Table 2: Frequencies of virtual RGB-D data depending on protocols

WebSocket with JSON TCP/IP with BSON
(sigverse_rosbridge)
(Conventional rosbridge)
57.60 [fps]
0.55 [fps]

volumes was implemented. For speeding up communication, the BSON format was employed instead of JSON. BSON
is a binary-encoded serialization with a JSON-like format. The use of BSON offers the following advantages: the
communication data size is reduced to less than that of text-based data; a conversion process between text and binary is
not required; and data are represented as key-value pairs that are compatible with ROS messages. When ROS messages
are advertised by Unity scripts, the main thread of the sigverse_rosbridge_server generates a new thread for each topic
as a ROS node. Each thread receives ROS messages from the Unity scripts and publishes them in the ROS nodes of the
robot controller as ROS topic messages.

Siemens and the ROS community has proposed the software module ROS# to support the communication between
ROS and Unity2. Since the ROS# employs the WebSocket to send and receive a control command and status of the
robot, realizing the real-time data transfer is difﬁcult by the ROS#.

We evaluated the data transfer performance [33] to compare the proposed method and conventional JSON based method.
An experimental condition shown in Fig.3 was used for the investigation where a mobile robot tracks walking person
using an RGB-D sensor. The PC with Xeon E5-2687W CPU and GeForce GTX TITAN X GPU was used in this
evaluation. The size of a raw RGB-D frame was 1.5 MB. The averages of frequency of RGB-D data are listed in
Table 2. The JSON communication was insufﬁcient for satisfying the real-time requirement for HRI, even if a high-end
computer was employed.

3.3 Conﬁguration of the cloud-based VR space for HRI

To enable general users to participate in an HRI experiment from an arbitrary location, we developed a cloud-based
VR function on SIGVerse. Each user logs in to an avatar by a client computer, which has a Unity process for the VR
devices. The computer for a user connects to another computer, which has another Unity process to control the behavior
of the target robot. The internal state of all VR scenes are synchronized via the Internet based on Photon Realtime,

2https://github.com/siemens/ros-sharp

6

A PREPRINT - MAY 5, 2020

Figure 3: Virtual RGB image and depth data communicated from Unity to ROS. The top ﬁgure shows a VR scene,
including a robot with an RGB-D sensor, and the bottom ﬁgure shows an RGB image and the depth data received in
ROS.

which is a universal software module to integrate different game engines. For the simple use case, each computer (Unity
process) connects to a cloud server provided by Photon inc.

Fig. 2 also depicts the cloud conﬁguration employed in SIGVerse. One computer (Unity process) is assigned to each
user/robot to realize the complex interaction between multi-robots and multi-users. A mixed environment consists of
virtual and real environments that are based on Augmented Reality (AR) devices, such as HoloLens and real motion
capturing systems. This usage is one of the future possibilities of the SIGVerse platform.

We measured the latency between a local avatar and other avatars, whose motion are synchronized using a local
Photon server. The conﬁguration of the latency evaluation is shown in Fig.4. A motion player software (Axis Neuron)
broadcasted pre-recorded motion data via TCP/IP connection. As all the clients were located in the same place, the
motion difference among local avatars is negligible. The poses of the non-local avatars were synchronized with the
poses of the corresponding avatars in each client. The position and rotation of 56 joints, including the ﬁngers, were
synchronized for each avatar. The latency was evaluated in 2-client, 4-client, and 8-client cases.

The z-position of the right hand in each case is plotted in Fig. 5. Although the motions of non-local avatars were slightly
disturbed and delayed, their motions were synchronized. The latency of synchronized motions was approximately 70 ms
regardless of the number of clients. This latency is sufﬁciently low to allow multimodal interaction and cooperative
tasks among multiple robots and avatars in the cloud-based VR space.

3.4 Database subsystem for the record of Human-Robot Interaction

The SIGVerse system has a database subsystem to record multimodal HRI behavior. The targets of the recording consist
of physical and cognitive interaction. As the physical interaction, the system records action of the robot and avatar
(time-series data of joint angles and positions of the robot and avatar), and time-series data of the status of objects
that are manipulated by the robot and the avatar. As the cognitive interaction, the system records verbal conversation

7

A PREPRINT - MAY 5, 2020

Figure 4: Conﬁguration of the latency evaluation.

Figure 5: Motions of local avatar and synchronized avatars, (A) is motions in 2-clients case, (B) is motions in 4-clients
case, and (C) is motions of 8-clients case.

between the robot and avatar. Since the recorded data could be stored in the MySQL server, a client can reproduce the
physical and cognitive interaction in the VR environment from anywhere via the Internet.

Although measured sensor signals by the robot is useful information as the HRI record, the database subsystem does
not record the sensor signals because the computational load for simulating and recording the sensors high. SIGVerse
provides a function for reproducing the sensor signals from the record of the behavior of the robot, avatar, and objects,
instead of the direct recording of the sensor signals.

4 Case studies

4.1 Robot competition

One of the better and effective methods for evaluating the performance of HRI is a robot competition, such as
RoboCup@Home [18]. Since the organization of a robot competition requires a considerable amount of time and
human resources, simulation technologies were often employed to reduce the cost. Even though RoboCup Soccer and
RoboCup Rescue have simulation leagues, only RoboCup@Home does not have the simulation league. One of the
reasons and difﬁculties for realizing the RoboCup@Home simulation is the necessity of interaction between real users
and virtual robots. This problem could be solved by SIGVerse.

8

A PREPRINT - MAY 5, 2020

Since changing the rulebook and the competition design of RoboCup is difﬁcult, we organized a VR-based HRI
competition in the World Robot Summit, Service Category, Partner Robot Challenge3 that was held in October 2018 in
Tokyo [37]. The following subsections present two representing tasks in the competition based on the proposed system.

4.1.1 Task 1: Interactive Cleanup

Gesture recognition is a basic function of understanding human behavior. Since the image data set [51] and competi-
tion [10] has an important role in this area from the past several decades. The gesture recognition functions that are
required for intelligent robots that work with people include not only label recognition but also following a moving
human and observation of the gesture from an easy-to-view angle. Furthermore, recognizing the pointing target object
from the spatial relationship between the object that exists in the environment and the human.

Figure 6: Screenshot of the Interactive CleanUp task

4.1.2 Task 2: Human Navigation

We focus on a task named ’Human Navigation’[15] in which the robot has to generate friendly and simple natural
language expressions to guide people to achieve several tasks in a daily environment, for evaluation of HRI in the VR
environment. The roles of the robot and the user are opposite to the roles of those in the conventional task, such as
understanding and achieving a request given by users. The robot has to provide natural language instructions to tell a
person to carry a certain target object to a certain destination, such as, “Please take the cup on the table in front of you
to the second drawer in the kitchen.” A person (test subject) logs in to an avatar in a VR space to follow the instructions.
The test subject attempts to pick up the target object and take it to the destination using virtual reality devices following
the instructions from the robot. The required time to complete the object transportation is measured and applied to
calculate points. The team that generates the easiest and most natural instructions for a person to follow will receive
more points.

Although the competition participants do not need to learn about the VR system, they should concentrate on the software
development on the ROS framework. The outcome of the developed robot software could be easily applied to a real
robot system.
According to the rulebook4 of this competition, we evaluated the reaction of the test subjects regarding how to address
the utterance of the robot. Basic analysis of the effectiveness of the interaction is performed by the required time. If the

3World Robot Summit, Service Category, Partner Robot Challenge http://worldrobotsummit.org/en/wrc2018/service/
4http://worldrobotsummit.org/download/rulebook-en/rulebook-simulation_league_partner_robot_

challnege.pdf

9

instruction of the robot is not friendly, the test subjects tend to be confused and exhaust a substatial amount of time to
complete the task.

A PREPRINT - MAY 5, 2020

Figure 7: Screenshot of the Human Navigation task. Written informed consent was obtained from the test subject for
the publication of any potentially identiﬁable images or data included in this article.

Figure 8: Room layouts

4.2 Modeling of subjective evaluation of HRI ability

The interaction ability of mobile robots in the Human Navigation task is mainly evaluated by the required time to
achieve the task. However, other factors would be the target of evaluation such as the number of used words, frequency

10

A PREPRINT - MAY 5, 2020

of the pointing gesture, and length of the trajectory of the avatar’s behavior. Designing objective and fair criteria for the
evaluation is difﬁcult because a substantial number of factors are evaluated subjectively in a daily life environment.
Although the best evaluation method is to ask several referees to score the performance in several trials, the human
navigation was evaluated by a certain regulation, such as a positive point for ’desirable behavior’ and a negative point
for ’unfriendly behavior’, which is described in the rulebook from a subjective viewpoint. We have cleared this problem
to extract a dominant factor for the evaluation of the interaction behavior in the HRI dataset [35].

Not only motion and utterance by the robot but also social and embodied behavior of the avatar is recorded in the dataset,
such as confused behavior when the avatar receives strange guidance and meaningless behavior by misunderstanding the
guidance. Even if the evaluation method in the competition failed to focus on a certain important factor, the evaluation
system can analyze the missing parameter by reproducing the interaction behavior in the VR environment, for example,
an image sensor observed by the robot in a past competition.

After recording the human-robot interaction behavior, we asked the third person, who was not concerned with the
competition, to evaluate the quality of the interaction. Since the HRI behavior was played back in the VR system, the
test subjects could check the detailed behavior by changing the viewpoint, rewinding the past behavior, and repeating
the important scene, similar to the recent technology named Video Assistant Referee, which is used in football games.
A 5-point Likert scale questionnaire is utilized for the evaluation. We collected evaluation data in 196 sessions using 16
test subjects. To estimate the evaluation results as the objective variable, we selected 10 parameters as the explanatory
variable, such as the required time to complete the task, number of utterances from the robot and accumulated angle
of the change in the gaze direction. We conducted multiple regression analysis to estimate the evaluation by the third
person’s assessment.

The results showed that the subjective evaluation result can be estimated by the objective parameter, which is related to
the physical and social interaction between humans and robots. We compared the quality of the evaluation criterion
between the result of regression analysis and the rulebook, which was used in the robot competition. The ranking
determined by the evaluation criterion, which was calculated by our method, differed from the ranking determined by
the rulebook and resembled the ranking determined by a third party. Since the parameters are easily measured in the VR
environment, an automatic evaluation of the HRI behavior in the robot competition becomes easier without a subjective
assessment by the referee. Since recording the behavior in the real robot competition is too difﬁcult, the proposed VR
system would be one of the key technologies for evaluating the performance of the social robot in the real environment.

4.3 Motion learning by demonstration

Another advantage of the proposed system is the ease of behavior collection for robot learning. Motion learning by
demonstration is one of the major applications in robot learning that requires human motion and an interaction process
between a human and the environment.

Bates et al. have proposed a virtual experimental environment for learning the dish washing behavior [2] based on
the SIGVerse system. The test subjects logged into the VR environment and operated dishes and a sponge by hand
devices, such as Oculus Touch. The motion patterns and state transition history of the related objects are recorded; and
a semantic representation was learnt from the collected data. Finally, a robot imitates the dish washing behavior in the
real world with reference to the semantic representation even if the robot never observes human behavior in the real
world.

Vasco et al also proposed a motion learning method based on our system [49]. They aimed to make the robot system
learn the motion concept, which includes not only motion patterns but also related information, such as operated tools
and objects by the motion and location information where the motion is performed. Our system was used to collect the
motion data in a variety of situations in a short time.

In both applications, the target of the learning is not only the motion patterns but the interaction process between the
environments and objects, and the effect on the environment by the performance is the focus. The virtual environment
provides an easy recording function of motion patterns and the state transition process of virtual environments and
objects. Although the motion capture system and object tracking functions are available in the real world, the cost to
build the real ﬁeld environment is still expensive for researchers.

Since our motivation is an extension of the opportunity to collect the target behavior, the system has an observation
function for behavior, which is not performed by real users. Behaviors performed by a virtual robot was transferred to
another robot via SIGVerse in [43]. This ﬂexibility is another advantage of the SIGVerse system.

11

A PREPRINT - MAY 5, 2020

4.4 VR based neurorehabilitation

Recent VR technology is employed in several rehabilitation therapies, such as mirror therapy and imitation therapy.
Mirror therapy is one of the famous therapies for phantom limb pain that arises in patients who lost a limb in an
accident. Conventional mirror therapy employs a physical mirror to display the intact limb for the patients, whereas VR
rehabilitation systems display the intact limb as a virtual avatar instead of using a mirror.

The limitation of a conventional VR system for mirror therapy is that addressing the phenomenon referred to as
“telescoping” is difﬁcult. Patients often feel an usual length or shape of a limb, such as short/long limb, bended limb,
limb and sunk into body. In this case, mirror therapy does not work well because the appearance of a limb on the VR
avatar differs from the phantom limb representation in the brain. Thus, we design the customized limb based on the
subjective feeling of the telescoped limb shown in Fig.9.

Figure 9: Patient avatar in the neurorehabilitation for telescoping phantom limb.

One of the difﬁculties in neurorehabilitation is the evaluation of the therapy method with the collecting of a large
amount of reaction data from patients. Our system has the potential to be applied to the clinical ﬁeld in which patients
are unable to go to the hospital frequently. Even if patients stay in their homes, our system enables therapists to deliver
an appropriate rehabilitation program via the Internet and VR devices and collect the reaction behaviors of patients
via the cloud system [16]. Originally, our system is designed to collect datasets in HRI experiments; however, almost
the same framework is employed in therapist-patient interaction. From the viewpoint of a cloud-based system, this
framework has the potential to realize a home rehabilitation system.

5 Discussion

5.1 Limitation

Since a physics simulation is performed in the Unity system, a complex simulation is one of the limitations, such as
friction force, manipulation of soft materials, and ﬂuid dynamics. Additionally, a standard 3D shape model of the robot,
such as the URDF utilized in Gazebo, is not easily imported to the SIGVerse system due to the format of the mechanism
description. Currently, we need to modify the URDF format for use in SIGVerse by manual work.

Design of software modules to control the virtual robot is another limitation. The controller modules in robot simulators,
such as Gazebo, are often provided by the manufacturer of the robot, which is executed as a process on Ubuntu.
However, we have to port the robot controller into C#, which should be executed on Unity. The cost for the porting
should be discussed when general users employ SIGVerse system. Four types of robot: HSR [54], Turtlebot2, Turtlebot3,
PR2 [52] and TIAGo [38] are currently provided by the developer team.

The advantage of SIGVerse is that the test subject can easily participate in experiments in the VR environment. However,
an autonomous agent module that acts in the VR environment without real test subject/users is not realized. A future
research direction is to construct an autonomous agent module that is based on the analysis of a HRI dataset. The original
dataset captured in the HRI experiments and augmented datasets, which could be generated in the VR environment,
should be employed in the construction process based on machine learning techniques [12].

12

A PREPRINT - MAY 5, 2020

The gap between the real world and the virtual environment often becomes a target of discussion. The robot motion that
is controlled in the virtual simulator is one of the frequent arguments in robotics research. Furthermore, the cognitive
behavior of test subjects is another argument. We have investigated the difference in human behavior that is derived
from the condition of the ﬁeld of view (FOV) of HMD [34]. Distance perception in the VR environment [40] will
be another problem for evaluating the HRI in the VR. Thus the appropriate design of the VR environment should be
discussed, in which test subjects can behave in the same way as they will in the real world.

5.2 Future direction of the VR platform

The current SIGVerse platform operates only in a VR environment; however, by using the AR function, virtual robot
agents could expand to the situation where they interact with humans in the real world. The Human Navigation task
described in Section 4.1.2 is an example where the AR system can apply for the improvement in the intelligence of
service robots in the real world. This function will be addressed as a future task since an extensive range of applications
can be expected by adjusting the boundary between the virtual environment and the real-world environment according
to the situation and tasks.

In the ﬁeld of image processing such as MNIST and ImageNet, many datasets exist for object recognition using machine
learning, and a platform that can fairly and objectively evaluate the performance of the algorithm proposed by each
researcher is provided. We can use several datasets related to human activities. Video clips [39] and motion capture
data [53] for human movements, natural language sentences to describe the movements [41], and conversational data
to guide the user to the destination [50] can be employed. However, no dataset in the HRI ﬁeld contains conversation
to manipulate the object and navigate in a complicated daily life environment. These datasets are indispensable for
promoting the research of interactive intelligent robots in the future, and the VR platform described in this paper has the
position as the foundation.

6 Conclusion

We developed a software platform to accelerate HRI research based on an integration of the ROS and Unity framework.
Due to the exclusive ROS bridging mechanism, which is based on BSON communication, real-time interaction among
virtual robots controlled by ROS and real humans who use an application on Unity is realized. We also introduced
and showed the feasibility of the platform in four applications: robot competition, evaluation of HRI, motion learning
by demonstration and neurorehabilitation. In these applications, we conﬁrmed that the data collection did not take
substantial amount of time, and effective experiments were available in the VR environment.

As we mentioned in the introduction, future intelligent robots require the ability to deepen social behavior in a complex
real world. For this purpose, the dataset applied for social behavior learning and performance evaluation should be
established. A simulation environment that allows autonomous robots and real humans to interact with each other in
real-time is important for both the preparation of these datasets and the establishment of an objective evaluation of
HRI. The proposed system, which combines a VR system and a robot simulation, becomes an important approach for
realizing this HRI dataset.

Acknowledgments

The authors would like to thank Hiroki Yamada to support the development of the cloud-based VR platform as a
software technician.

References

[1] Amershi, S., Cakmak, M., Knox, W. B., and Kulesza, T. (2014). Power to the People : Interactive Machine

Learning. AI Magazine , 105–120

[2] Bates, T., Ramirez-Amaro, K., Inamura, T., and Cheng, G. (2017). On-line simultaneous learning and recognition
of everyday activities from virtual reality performances. In 2017 IEEE/RSJ International Conference on Intelligent
Robots and Systems (IROS). 3510–3515

[3] Bazzano, F., Gentilini, F., Lamberti, F., Sanna, A., Paravati, G., Gatteschi, V., et al. (2016). Immersive Virtual
Reality-Based Simulation to Support the Design of Natural Human-Robot Interfaces for Service Robotic Applica-
tions. In International Conference on Augmented Reality, Virtual Reality and Computer Graphics. Lecture Notes
in Computer Science, 33–51.

13

A PREPRINT - MAY 5, 2020

[4] Beattie, C., Leibo, J. Z., Teplyashin, D., Ward, T., Wainwright, M., Lefrancq, A., et al. (2016). DeepMind Lab.

arXiv , 1–11

[5] Bilberg, A. and Malik, A. A. (2019). Digital twin driven human-robot collaborative assembly. CIRP Annals 68,

499–502

[6] Brockman, G., Cheung, V., Pettersson, L., Schneider, J., Schulman, J., Tang, J., et al. (2016). OpenAI Gym. arXiv

[7] Codd-Downey, R., Forooshani, P. M., Speers, A., Wang, H., and Jenkin, M. (2014). From ROS to unity: Leveraging
robot and virtual environment middleware for immersive teleoperation. In 2014 IEEE International Conference
on Information and Automation (ICIA). 932–936

[8] Diankov, R. and Kuffner, J. (2008). OpenRAVE: A Planning Architecture for Autonomous Robotics. Robotics

Institute, Pittsburgh, PA, Tech. Rep. CMU-RI-TR-08-34 79

[9] El Saddik, A. (2018). Digital Twins: The Convergence of Multimedia Technologies. IEEE Multimedia 25, 87–92

[10] Escalera, S., Gonzàlez, J., Baró, X., Reyes, M., Lopes, O., Guyon, I., et al. (2013). Multi-modal gesture
In Proceedings of the ACM International Conference on

recognition challenge 2013: Dataset and results.
Multimodal Interaction (ICMI). 445–452

[11] Fischer, T., Puigbò, J.-Y., Camilleri, D., Nguyen, P. D. H., Moulin-Frier, C., Lallée, S., et al. (2018). iCub-HRI: A
Software Framework for Complex Human-Robot Interaction Scenarios on the iCub Humanoid Robot. Frontiers
in Robotics and AI 5, 22

[12] Gotsu, Y. and Inamura, T. (2019). How Can a Human Motion Dataset Be Collected Effectively? - Roadmap for

Human Motion Data Augmentation -. In Proc. of the SICE Annual Conference

[13] Grigorescu, S., Trasnea, B., Cocias, T., and Macesanu, G. (2019). A survey of deep learning techniques for

autonomous driving. Journal of Field Robotics , rob.21918

[14] Hu, Y. and Meng, W. (2016). ROSUnitySim: Development and experimentation of a real-time simulator for

multi-unmanned aerial vehicle local planning. SIMULATION 92, 931–944

[15] Inamura, T. and Mizuchi, Y. (2017). Competition design to evaluate cognitive functions in human-robot interaction
based on immersive VR. In RoboCup 2017: Robot World Cup XXI, Lecture Notes in Artiﬁcial Intelligence. vol.
11175, 84–94

[16] Inamura, T., Unenaka, S., Shibuya, S., Ohki, Y., Oouchida, Y., and Izumi, S.-i. (2017). Development of VR
platform for cloud-based neurorehabilitation and its application to research on sense of agency and ownership.
Advanced Robotics 31, 97–106

[17] Inamura, T. et.al. (2010). Simulator platform that enables social interaction simulation -SIGVerse: SocioIntelliGe-

nesis simulator-. In 2010 IEEE/SICE International Symposium on System Integration. 212–217

[18] Iocchi, L., Holz, D., Ruiz-del Solar, J., Sugiura, K., and van der Zant, T. (2015). RoboCup@Home : Analysis and

results of evolving competitions for domestic and service robots. Artiﬁcial Intelligence 229, 258–281

[19] Johnson, M., Hofmann, K., Hutton, T., and Bignell, D. (2016). The Malmo platform for artiﬁcial intelligence

experimentation. In IJCAI International Joint Conference on Artiﬁcial Intelligence. 4246–4247

[20] Kanda, T., Sato, R., Saiwaki, N., and Ishiguro, H. (2007). A Two-Month Field Trial in an Elementary School for

Long-Term Human-Robot Interaction. IEEE Transactions on Robotics 23, 962–971

[21] Kanda, T., Shiomi, M., Miyashita, Z., Ishiguro, H., and Hagita, N. (2010). A Communication Robot in a Shopping

Mall. IEEE Transactions on Robotics 26, 897–913

[22] Kanehiro, F., Hirukawa, H., and Kajita, S. (2004). OpenHRP: Open Architecture Humanoid Robotics Platform.

The International Journal of Robotics Research 23, 155–165

[23] Koenig, N. and Howard, A. (2004). Design and Use Paradigms for Gazebo, An Open-Source Multi-Robot
Simulator. In IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS). 2149–2154

[24] Kolve, E., Mottaghi, R., Gordon, D., Zhu, Y., Gupta, A., and Farhadi, A. (2017). AI2-THOR: An Interactive 3D

Environment for Visual AI. arXiv

[25] Kuts, V., Otto, T., Tähemaa, T., and Bondarenko, Y. (2019). Digital twin based synchronised control and simulation

of the industrial robotic cell using virtual reality. Journal of Machine Engineering 19, 128–145

[26] Lemaignan, S., Sallami, Y., Wallhridge, C., Clodic, A., Belpaeme, T., and Alami, R. (2018). UNDERWORLDS:
Cascading Situation Assessment for Robots. In IEEE International Conference on Intelligent Robots and Systems.
7750–7757

14

A PREPRINT - MAY 5, 2020

[27] Lemaignan, S., Warnier, M., Sisbot, E. A., Clodic, A., and Alami, R. (2017). Artiﬁcial cognition for social

human-robot interaction: An implementation. Artiﬁcial Intelligence 247, 45–69

[28] Levine, S., Pastor, P., Krizhevsky, A., Ibarz, J., and Quillen, D. (2018). Learning hand-eye coordination for robotic
grasping with deep learning and large-scale data collection. The International Journal of Robotics Research 37,
421–436

[29] Lewis, M., Wang, J., and Hughes, S. (2007). USARSim : Simulation for the Study of Human- Robot Interaction.

Journal of Cognitive Engineering and Decision Making 1, 98–120

[30] MacMahon, M., Stankiewicz, B., and Kuipers, B. (2006). Walk the talk: Connecting language, knowledge, and

action in route instructions. AAAI , 1475–1482

[31] Mei, H., Bansal, M., and Walter, M. R. (2016). Listen, Attend, and Walk: Neural Mapping of Navigational
Instructions to Action Sequences. In Proceedings of the Thirtieth AAAI Conference on Artiﬁcial Intelligence.
2772–2778

[32] Michel, O. (2004). Cyberbotics Ltd. Webots TM: Professional Mobile Robot Simulation. International Journal of

Advanced Robotic Systems 1, 5

[33] Mizuchi, Y. and Inamura, T. (2017). Cloud-based multimodal human-robot interaction simulator utilizing ROS
and unity frameworks. In 2017 IEEE/SICE International Symposium on System Integration (SII). 948–955

[34] Mizuchi, Y. and Inamura, T. (2018). Evaluation of Human Behavior Difference with Restricted Field of View
in Real and VR Environments. In 2018 27th IEEE International Symposium on Robot and Human Interactive
Communication (RO-MAN). 196–201

[35] Mizuchi, Y. and Inamura, T. (2020). Optimization of criterion for objective evaluation of HRI performance that

approximates subjective evaluation: a case study in robot competition. Advanced Robotics 34, 142–156

[36] Nakaoka, S. (2012). Choreonoid: Extensible virtual robot environment built on an integrated GUI framework. In

2012 IEEE/SICE International Symposium on System Integration (SII). 79–85

[37] Okada, H., Inamura, T., and Wada, K. (2019). What competitions were conducted in the service categories of the

World Robot Summit? Advanced Robotics 33, 900–910

[38] Pages, J., Marchionni, L., and Ferro, F. (2016). Tiago: the modular robot that adapts to different research needs.

In International Workshop on Robot Modularity in IROS2016

[39] Patron-Perez, A., Marszalek, M., Reid, I., and Zisserman, A. (2012). Structured Learning of Human Interactions

in TV Shows. IEEE Transactions on Pattern Analysis and Machine Intelligence 34, 2441–2453

[40] Phillips, L., Ries, B., Kaedi, M., and Interrante, V. (2010). Avatar self-embodiment enhances distance perception
accuracy in non-photorealistic immersive virtual environments. In 2010 IEEE Virtual Reality Conference (VR).
115–1148

[41] Plappert, M., Mandery, C., and Asfour, T. (2016). The KIT Motion-Language Dataset. Big Data 4, 236–252

[42] Puig, X., Ra, K., Boben, M., Li, J., Wang, T., Fidler, S., et al. (2018). VirtualHome: Simulating Household
Activities via Programs. In The IEEE Conference on Computer Vision and Pattern Recognition (CVPR). 8494–8502

[43] Ramirez-Amaro, K., Inamura, T., Dean-Leon, E., Beetz, M., and Cheng, G. (2014). Bootstrapping humanoid
robot skills by extracting semantic representations of human-like activities from virtual reality. In 2014 IEEE-RAS
International Conference on Humanoid Robots. 438–443

[44] Regneri, M., Rohrbach, M., Wetzel, D., Thater, S., Schiele, B., and Pinkal, M. (2013). Grounding Action

Descriptions in Videos. Transactions of the Association for Computational Linguistics 1, 25–36

[45] Rohmer, E., Singh, S. P. N., and Freese, M. (2013). V-REP: A versatile and scalable robot simulation framework.

In IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS). 1321 – 1326

[46] Savva, M., Chang, A. X., Dosovitskiy, A., Funkhouser, T., and Koltun, V. (2017). MINOS: Multimodal Indoor

Simulator for Navigation in Complex Environments. arXiv

[47] Sigurdsson, G. A., Varol, G., Wang, X., Farhadi, A., Laptev, I., and Gupta, A. (2016). Hollywood in homes:
Crowdsourcing data collection for activity understanding. Lecture Notes in Computer Science (including subseries
Lecture Notes in Artiﬁcial Intelligence and Lecture Notes in Bioinformatics) 9905 LNCS, 510–526

[48] Taniguchi, A., Taniguchi, T., and Inamura, T. (2016). Spatial Concept Acquisition for a Mobile Robot that
Integrates Self-Localization and Unsupervised Word Discovery from Spoken Sentences. IEEE Transactions on
Cognitive and Developmental Systems 8, 285–297.

15

A PREPRINT - MAY 5, 2020

[49] Vasco, M., Melo, F. S., de Matos, D. M., Paiva, A., and Inamura, T. (2019). Learning multimodal representations
for sample-efﬁcient recognition of human actions. In IEEE/RSJ International Conference on Intelligent Robots
and Systems (IROS). 4288–4293

[50] Vries, H. D., Shuster, K., Batra, D., Parikh, D., Weston, J., and Kiela, D. (2018). Talk the Walk: Navigating Grids

in New York City Through Grounded Dialogue. arXiv , 1–23

[51] Wan, J., Li, S. Z., Zhao, Y., Zhou, S., Guyon, I., and Escalera, S. (2016). ChaLearn Looking at People RGB-D
Isolated and Continuous Datasets for Gesture Recognition. In IEEE Computer Society Conference on Computer
Vision and Pattern Recognition Workshops. 761–769

[52] Wyrobek, K. A., Berger, E. H., Van der Loos, H. M., and Salisbury, J. K. (2008). Towards a personal robotics
development platform: Rationale and design of an intrinsically safe personal robot. In 2008 IEEE International
Conference on Robotics and Automation. 2165–2170

[53] Xia, S., Gao, L., Lai, Y.-K., Yuan, M.-Z., and Chai, J. (2017). A Survey on Human Performance Capture and

Animation. Journal of Computer Science and Technology 32, 536–554

[54] Yamamoto, T., Terada, K., Ochiai, A., Saito, F., Asahara, Y., and Murase, K. (2018). Development of the Research
Platform of a Domestic Mobile Manipulator Utilized for International Competition and Field Test. In 2018
IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS). 7675–7682

[55] Yang, P.-C., Sasaki, K., Suzuki, K., Kase, K., Sugano, S., and Ogata, T. (2017). Repeatable Folding Task by

Humanoid Robot Worker Using Deep Learning. IEEE Robotics and Automation Letters 2, 397–403.

16

