Rescan: Inductive Instance Segmentation for Indoor RGBD Scans

Maciej Halber

Yifei Shi

Kai Xu

Thomas Funkhouser

Princeton University

9
1
0
2

p
e
S
5
2

]

V
C
.
s
c
[

1
v
8
6
2
1
1
.
9
0
9
1
:
v
i
X
r
a

Figure 1: The proposed method estimates a persistent, temporally-aware scene model Mi from a series of scene observations
Si, captured at sparse time intervals. Mi−1 is used to estimate an arrangement of objects in each novel observation Si. The
estimated arrangement is used to estimate the instance segmentation of Si, which is then used to update the model Mi.

Abstract

In depth-sensing applications

ranging from home
robotics to AR/VR, it will be common to acquire 3D scans
of interior spaces repeatedly at sparse time intervals (e.g.,
as part of regular daily use). We propose an algorithm that
analyzes these “rescans” to infer a temporal model of a
scene with semantic instance information. Our algorithm
operates inductively by using the temporal model resulting
from past observations to infer an instance segmentation
of a new scan, which is then used to update the tempo-
ral model. The model contains object instance associations
across time and thus can be used to track individual objects,
even though there are only sparse observations. During ex-
periments with a new benchmark for the new task, our al-
gorithm outperforms alternate approaches based on state-
of-the-art networks for semantic instance segmentation.

1. Introduction

With the proliferation of RGBD cameras, 3D data is now
more widely available than ever before [10, 25, 8]. As depth
capturing devices become smaller and more affordable, and
as they operate in everyday applications (AR/VR, home
robotics, autonomous navigation, etc.), it is plausible to
expect that 3D scans of most environments will be acquired
on a daily basis. We can expect that 3D reconstructions of
many spaces, visited at different times and captured from

different viewpoints, will be available in the future, just like
photographs are today.

In this paper, we investigate how repeated, infrequent
scans captured with handheld RGBD cameras can be used
to build a spatio-temporal model of an interior environment,
complete with object instance semantics and associations
across time. The challenges are that: 1) each RGBD scan
captures the environment from different viewpoints, possi-
bly with noisy data; and 2) scans separated by long time
intervals (once per day, every Tuesday, etc.) can have large
differences due to object motion, entry, or removal. Thus
simple algorithms that perform object detection individu-
ally for each scan and/or simply cluster object detections
and poses in space-time will not solve the problem. More-
over, since large training sets are not available for this task,
it is not practical to train a neural network to solve it.

We propose an inductive algorithm that infers informa-
tion about new RGBD capture of a scene Si from a temporal
model Mi−1 obtained from previous observations of S (ﬁg.
1). The input to the algorithm is the model Mi−1, represent-
ing all previous scans and a novel scene scan Si. The output
is an updated model Mi that describes the set of objects O
appearing in the scene and an arrangement A of those ob-
jects at each time step, including the most recent. At every
iteration, our algorithm optimizes for the arrangement Ai
of objects in Si, and then uses Ai to infer the semantic in-
stance segmentation of Si. Segmentation of Si is then used
to update object set O (see ﬁg. 2).

 
 
 
 
 
 
Figure 2: A single inductive step of the proposed method. Given a novel scene observation Si and a model from the past
Mi−1, our goal is to create an updated model Mi. We ﬁrst perform Pose Proposal, where we search for a set of potential
locations for each object in Mi−1 . Then, we perform Arrangement Optimization, where we search for the selection and
arrangement of objects to minimize an objective function. Then, we perform Segmentation Transfer, in which Si is annotated
with semantic instance labels from Mi−1. Finally, geometry from segments in Si is fused with Mi−1 to create an updated
model Mi.

To evaluate our algorithm we present a novel benchmark
dataset that contains temporally consistent ground-truth se-
mantic instance labels, describing object associations across
time within each scene. Experiments with this benchmark
suggest that our proposed optimization strategy is superior
to alternative approaches based on deep learning for seman-
tic and instance segmentation tasks.

Overall, the contributions of the paper are three-fold:

• A system for building a spatio-temporal model for
an indoor environment from infrequent scans acquired
with hand-held RGBD cameras,

• An inductive algorithm that jointly infers the shapes,
placements, and associations of objects from infre-
quent RGBD scans by utilizing data from past scans,
• A benchmark dataset with rescans of 13 scenes ac-
quired at 45 time-steps in total, along with ground-
truth annotations for object instances and associations
across time.

2. Related Work

Most work in computer vision on RGBD scanning of dy-
namic scenes has focused on tracking [43] and reconstruc-
tion [36]. For example, Newcombe et al. [36] showcases
a system where multiple observations of a deforming ob-
ject are fused into a single consistent reconstruction. Yan
et al. [48] scan moving articulated shapes by tracking parts
as they are deformed over time. These methods differ from
ours as they require observation of motions as they occur.

For sparse temporal observations, early work in robotics
focuses on the analysis of 2D maps created from 1D laser
range sensors [3, 5, 19]. For example, Biswas [5] used 1D
laser data to detect objects within a scene and associate
their method relies upon
them across time. However,

2D algorithms and assumes that object instances cannot
overlap across time, which makes it inapplicable in our
setting. More recently, image based techniques for sparse
observations were proposed — Shin [42] extends SfM to
also predict poses of moving objects.

Other work has aimed at life-long scene understanding
using data captured with actively controlled sensors [15,
29, 39, 49]. For example, several algorithms proposed in
the STRANDS project [23] process the scenes observed
from a repeated set of views [2, 6, 41]. Others focus on
controlling camera trajectories to acquire the best views
for object modeling [13, 15] and/or change detection [1].
These problems are different than ours, as we focus on
analyzing previously acquired RGBD data captured without
a speciﬁcally tailored robotic platform and active control.

Some work in computer vision has focused on change
detection and segmentation of dynamic objects in RGBD
scans [16, 31, 47]. For example, Fehr et al. [16] showcases
a system for using multiple scene observations to classify
surface elements as dynamic or static. Wang et al.[46]
detect moving objects so that they can be removed from a
SLAM optimization. Lee et al. [31] propose a probabilistic
model to isolate temporally varying surface patches to
improve camera localization. While operating on RGBD
captures from handheld devices,
these methods do not
produce instance-level semantic segmentations, nor do they
generate associations between objects across time.

More recent work has focused on automatic clustering of
3D points into clusters across space and time [17, 24]. For
example, Herbst et al. [24] jointly segments multiple RGBD
scans with a joint MRF formulation. Finman et al.
[17]
detects clusters of points from pairwise scene differencing
and associates new detections with previous observations.
Although similar in spirit to our formulation, these methods

operate only on clusters of points, without semantics, and
thus are not suited for applications that require semantic
understanding of how objects move across space-time.

Finally, many projects have considered temporal model-
ing of environments in speciﬁc application domains. For
example, several systems in civil engineering track changes
to a Building Information Model (BIM) by alignment to 3D
scans acquired at sparse temporal intervals [20, 26, 37, 45].
They generally start with a speciﬁc building design model
[22], construction schedule [44], and/or object-level CAD
models [7], and thus are not as general as our approach. The
Scene Chronology project [35] and others [34, 40] build
temporal models of cities from image collections – how-
ever, they do not recover a full 3D model with temporal
associations of object instances as we do.

3. Algorithm

3.1. Scene Representation

Our system represents a scene at time ti with a tem-
poral model Mi comprising a tuple {O, A}, where O =
{o0, . . . , on} is a list of n object instances that have ap-
peared within this or any prior observation Sj for j ∈ [0, i],
and A = {A0, . . . , Ai} is a list of object arrangements es-
timated for each observation Sj. Each object instance ok
is represented by {uk, Gk, ck}, where uk is unique instance
id, Gk is the object’s geometry, and ck is the semantic class.
Each arrangement Ai is a list of poses {a0
i }, where
aj
i = {uj, Tj, sj}. uj is the unique id of j-th object and
function Ω(uj) returns index k to O. Tj is a transforma-
tion that moves geometry Gk into correct location within
the scene Si. Lastly sj is a matching score quantifying how
well TjGk matches the geometry of Si.

i , . . . , am

3.2. Overview

Our algorithm updates the temporal model in an induc-
tive fashion. Given the previous model Mi−1 and a new
scan Si, we predict a new model Mi (see ﬁg. 2) by exe-
cuting four consecutive steps. The ﬁrst proposes potential
poses for objects in O (sec. 3.3). The second performs a
combinatorial optimization to ﬁnd the arrangement Ai that
maximizes a new objective function jointly accounting for
geometric ﬁt and temporal coherence (sec. 3.4). The third
step uses O and Ai to infer an instance-level semantic seg-
mentation of Si. The fourth step updates the geometry Gk
of each object ∈ Ai by aggregating its respective segment
from Si. The following four subsections offer the details on
how each of these steps is implemented.

3.3. Object Pose Proposal

The ﬁrst step of our pipeline is to ﬁnd a set of potential
placements for each object ok ∈ O, creating a search
space for the Arrangement Optimization stage (sec. 3.4).

Formally, the input to this stage is a set of objects O and
a scan Si. The output is a set P of scored pose lists
Pk = {p0
k, . . . , px
k} for each object ok. A scored pose
pl
k, sl
k is a tuple {Tl
k is the proposed rigid-
body transformation and sl
k is a geometric matching score
describing how well pose Tl
k aligns Gk to the geometry of
Si.

k}, where Tl

Finding transformations that align surfaces A and B is a
longstanding problem in computer graphics and vision [38].
In our setting, we wish to ﬁnd a set of poses for the sur-
face A with good alignment with surface B, where A = ok
and B = Si. Prior work usually attempts to solve similar
problems by employing feature-based methods. Such meth-
ods sub-sample the two surfaces to obtain a set of meaning-
ful keypoints and then match them to produce a plausible
pose (e.g., using Point-Pair Feature matching[12]). How-
ever, as it has been noted in other domains, keypoints may
limit the amount of information a method considers, with
dense matching methods leading to less failures [14].

Following this intuition, we propose a dense matching
procedure, where we slide each of the objects ok across
the scene, perform an ICP optimization at each of the
discrete locations and compute a matching score based on
the traditional point-to-plane distance metric [32].

This approach might seem counter-intuitive, as a naive
implementation of such grid-search would lead to a pro-
hibitive run-time performance. We ﬁnd however that such
an approach can be made acceptably fast while leading to
much better recovery of correct poses. To speed-up the
run-time performance of our method we make use of the
multi-resolution approach. We compute a four-level hier-
archy for the input point cloud (the geometries Gk), with
minimum distance between any two points at a level equal
to {0.01m, 0.02m, 0.04m, 0.08m} respectively. To com-
pute this representation we follow an algorithm described
in [9]. Multi-resolution representation allows us to perform
the dense search only on the coarsest level of the hierarchy,
and return a subset of poses with sufﬁciently high scores
to be veriﬁed at higher levels, leading to signiﬁcant perfor-
mance gains. Additionally, we make a simplifying, but rea-
sonable assumption that objects in our scenes move on the
ground plane and rotate around the gravity direction.

With this approach we are able to produce a set P of
pose lists Pk for each object ok in O. The advantage of this
dense grid-search method is that it produces sets of poses
that contain most of the true candidate locations, even if
the local geometry of Si might be different from Gk due
to reconstruction errors. We showcase the comparison to
keypoint based methods [12, 4] in ﬁgure 3.

3.4. Arrangement Optimization

In the second step our algorithm selects a subset of
poses from the previous step to form an object arrange-

i) = |Vs(j)∧VA(j)|

i. To compute Oc(Si, A(cid:48)

be explained by some object in A(cid:48)
i.
Oc(Si, A(cid:48)
i) takes as input a scene Si and the candidate ar-
rangement A(cid:48)
i) we voxelize both
the scene Si and the objects in A(cid:48)
i, resulting in two 3D grids
VS and VA. The Oc(Si, A(cid:48)
i) is calculated as the number of
cells that are equal in both grids, over the number of cells
in VS - Oc(Si, A(cid:48)
. For this formula to be
|Vs(j)|
accurate we need to ensure however that we only voxelize
the dynamic parts of the scene Si. As such we deactivate
any cells in VS that belong to the static parts of the scene,
like walls and ﬂoor, which can easily be detected with a
method like RANSAC [18]. The inset ﬁgure above show-
cases a visualization of both grids VS (blue cells) and VA
(white cells). As seen there, the VS covers the non-static
parts of the scene only, leading to Oc being a good estimate
of the coverage.

The Geometry term is a measure of the geometrical agree-
ment between the scene Si and objects in the candidate ar-
rangement A(cid:48)
i. We include this term to guide the objective
function to select objects that best match the geometry of
the scene at a speciﬁc location. This value is simply com-
puted as an average of scores sl
k from the procedure de-
, where g(aj
scribed in section 3.3. Og(Si, A(cid:48)
i )
i) =
returns the geometrical score ﬁt for placement of object oj.

k g(aj
i )
|A(cid:48)
i|

(cid:80)

The Intersection term aims to
estimate how much a pair of ob-
jects in the arrangement A(cid:48)
i inter-
penetrate. Intuitively, such inter-
penetration would mean that two
objects occupy the same physi-
cal location, which implies an impossible conﬁguration.
In our approach, we compute a coarse approximation of
this term. First, we compute a covariance matrix Σk of
each Gk. Covariances for each object allow us to com-
pute a symmetric Mahalanobis distance SDM between
objects to approximately quantify how close they are to
each other. SDM (Or, oj) = 0.5(DM (mij, Tici, Σi) +
DM (mij, Tjcj, Σj)), where Tici,Tjcj are transformed
centroids of Gi, Gk, the midpoint between them is mij,
and function DM is the Mahalanobis distance. With SDM
computed for all pairs of objects ok, the value Or(A(cid:48)
i)
is 1−||{exp( −SD2
)}||∞.
The rationale behind the use of the inﬁnity norm is to gen-
erate a high penalty if just a single pair of objects exhibits
a low score interpenetration. The inset ﬁgure above show-
cases a visualization of SDM for two intersecting objects.
The point at which we evaluate the SDM is marked with
red, showcasing high values in regions where either or both
objects are present, and low values in the free space. It is
also clear that the value of SDM would be higher if the
objects interpenetrated even more.

), . . . , exp( −SD2

M (o0,o1)
2σ2

M (on−1,on)

2σ2

Figure 3: Comparison of the precision/recall scores ob-
tained for all scenes in our database, comparing PPF match-
ing [4] to our method. In our experiments a pose of an ob-
ject ok is considered a true positive if the distance between
object centers is less than 0.2m and object’s classes agree.

ment. The input is a set of objects O, a set of pose lists
P = {P0, . . . , Pk} for each object ok, and the scan Si. The
output is an arrangement Ai that describes a global conﬁg-
uration of objects which maximizes the objective.

This problem statement leads to a discrete, combinatorial
optimization. First reason for choosing this approach is that
the number of objects within the scene Si is not known
a priori. A combinatorial approach allows us to propose
arrangements Ai of variable lengths, that will adapt to the
contents of Si. A second reason is that ﬁnding the optimum
requires global optimization – the placement of one object
can greatly affect the placement of another. Additionally,
deep learning is hard to apply in this instance due to the
lack of the training data, as well as the non-linearity of the
proposed objective function.

3.4.1 Objective Function

To quantify the quality of the candidate arrangement A(cid:48)
i we
use the objective function that is a linear combination of the
following four terms:

O(Si, A(cid:48)

i, A) = wcOc(Si, A(cid:48)
i)
+ wgOg(Si, A(cid:48)
i)
+ wiOr(A(cid:48)
i)
+ whOh(A(cid:48)
i, A)

Coverage Term

Geometry Term

Intersection Term

Hysteresis Term

Each term Ox produces a scalar value ∈ [0, 1] that describes
the quality of A(cid:48)
i w.r.t. that speciﬁc term. We use grid search
to ﬁnd good values for the weights w = {2.0, 0.3, 1.0, 1.8},
which express the relative importance of each term.
The Coverage term measures the
percentage of the scene that is cov-
ered by objects in A(cid:48)
i. The intu-
ition behind this term is that ev-
ery part of the scene should ideally

The Hysteresis term informs how well
the current arrangement estimate A(cid:48)
i re-
sembles a previously observed arrange-
ments from the set A.
In addition it
expresses our preference for a minimal
relative motion. Each object in A(cid:48)
i is
assigned a score, with the value based
on whether uk is a novel instance, or
has been observed in the past.
In the
former case, we assign a novel object
constant score h = 0.4 (found manu-
ally). In the latter, the score is h + (1 −
h)exp( −||T (ck,i)−T (ck,j)||2
). T (cl, j)
is a function that applies the appropriate
transformation to centroid cl at time tj.
As a result, novel objects will be always
preferred, unless they have undergone
a signiﬁcant transformation. In such a
case, we would like Oh to express that
novel object appearances have similar
probability. The value of Oh(Ai, A) is
computed as an average of the above
scores. The inset ﬁgure above illustrates an arrangement
at ti−1 and two possible arrangement estimates at ti. The
form of Oh(A(cid:48)
i, A) encourages the selection of middle ar-
rangement as it does not contain signiﬁcant motion the sofa
and chairs.

2σ2

segmentation transfer, as we have semantic class ck and
instance id uk associated with each object in O. Using
the estimated pose pl
k for each of the objects ok in Ai,
we transform its geometry Gk to align with Si. We
then perform a nearest neighbor lookup (with a maximum
threshold d = 5cm to account for outliers) and use the
associations to copy both the instance and semantic labels
from objects in Ai to Si. Since there is no guarantee that
all points in Si will have a neighbor within the threshold
d, we follow-up the lookup with label smoothing based on
multi-label graph-cut [11].

3.6. Geometry Fusion

The ﬁnal step of the algorithm is to update the object
geometries Gk for objects in O. To do so for each object
ok ∈ Ai, we extract the sub point clouds from Si that
were assigned instance label uk in the previous step, and
then we concatenate them with Gk to generate new point
cloud G(cid:48)
k. In the idealized case, the two surfaces would be
identical, as they represent the same object. However, due
to partial observation, reconstruction, and alignment errors,
we cannot expect that in practice. As such, we solve for a
mean surface ˜Gk that minimizes the distance to all points in
the G(cid:48)
k, using Poisson Surface Reconstruction [27]. After
this process, we uniformly sample points on the resulting
surface ˜Gk to get a new estimate of Gk that will be used for
matching when a new scene Si+1 needs to be processed.

3.4.2 Optimization

4. Evaluation

i

O(Si, A(cid:48)

To ﬁnd arrangement Ai = arg maxA(cid:48)
i, A), we
employ a combination of greedy initialization and simulated
annealing. We begin by greedily selecting an object ok
at a pose pl
k which improves objective the most. This
process of addition is continued until the objective function
starts decreasing. After this stage, we perform simulated
annealing optimization. We run the simulated annealing
for 25k iterations, using a linear cooling schedule with
a random restarts (0.5% probability to return to the best
scoring state). To explore the search space we use the
following actions with a randomly selected object ok:
• Add Object - We add ok at a random pose pl
• Remove Object - We remove ok from A(cid:48)
i.
• Move Object - We select ok from A(cid:48)

i and assign it new

k to A(cid:48)
i.

pose pm
k .

• Swap Objects - We swap the location of ok and ol,
another randomly selected object of the same semantic
class.

3.5. Segmentation Transfer

The third step of the algorithm transfers the semantic
and instance labels from Ai to scan Si. The estimated
arrangement from the previous step can be used to perform

Evaluation of the proposed algorithm is not straightfor-
ward, as there is little to no prior work directly addressing
instance segmentation transfer between 3D scans.

Dataset: To evaluate the proposed approach, we have cre-
ated a dataset of temporally varying scenes. Our dataset
contains 13 distinct scenes, with total of 45 separate re-
constructions. Each scene contains between 3 to 5 scans,
where objects within each catpure were moved to simulate
changes occuring across long time periods. Along with the
captured data, we also provide manually-curated semantic
category and instance labels for every object in every scene.
The instance labels are stable across time, providing associ-
ations between object instances in different scans, which we
can use to evaluate our algorithms. Additionally, we pro-
vide permutations of instance assignments for each scene
to account for cases where objects’ motion is ambiguous
and multiple arrangements can be considered correct. More
details about the dataset are included in the supplemental
material.

Metrics: We evaluate our approach using three metrics.
The ﬁrst is the Semantic Label metric that measures the
correctness of class labels – it is implemented in the same
way as the semantic segmentation task in the ScanNet

Figure 4: Inductive instance segmentation results. Given a segmentation at time t0, our method is able to iteratively transfer
instance labels to future times, even when the number of the objects in the scene changes.

Benchmark [10] and is reported as mean class IoU. The
second is the Semantic Instance metric that measures the
correctness of the object instance separations – it again
comes from the ScanNet Benchmark [10] and is reported
as mean Average Precision (IoU=0.5). Third, we propose a
novel Instance Transfer metric, which speciﬁcally requires
an agreement of instance indices across time. This metric is
reported as mean IoU, where we count the number of points
in both ground truth and prediction that share equivalent
instance id. The Instance Transfer metric is much more
challenging, as it requires associating objects with speciﬁc
instance ids in different scans.

Baseline: Given the success of the recent deep models
for the scene understanding (as shown on the leaderboard
of [10]), it is interesting to compare the results of our al-
gorithm to the best available method based on deep neu-
ral networks. One of the best available methods for 3D
instance segmentation is MASC [33], which is based on
semantic segmentation with SparseConvNet [21]. To test
these methods on our tasks, we pre-trained the SparseC-
onvNet and MASC models on ScanNet’s training set. We
performed ﬁne-tuning of MASC with the ground-truth la-
bels of ﬁrst observation (time t0) of each scene S0 in our
database. This ﬁne-tuned model provides instance segmen-
tation, which can be combined with the Hungarian method
[30] to estimate instance associations across time. This se-
quence of steps provides a very strong baseline combining
state-of-the-art methods for instance segmentation with an
established algorithm for assignment.

4.1. Quantitative Results

Evaluation and comparison: Since we solve an inductive
task (predict the answer at ti, given an answer at ti−1), it
is not obvious how to initialize the system for our experi-
ments. As our aim is to evaluate the inductive step alone,
we chose to initialize time t0 with a correct instance seg-

Method

Semantic
Label

Semantic
Instance

Instance
Transfer

SparseConvNet
MASC
MASC (ﬁne-tuned)

Rescan

0.203
0.310
0.737

0.859

-
0.291
0.562

0.837

-
0.175
0.345

0.650

Table 1: Comparison of our method to SparseConvNet [21]
and MASC [33]. SparseConvNet does not produce instance
labels, hence we omit reporting on the Semantic Instance
and Instance Transfer task, and only ﬁne-tune MASC.

mentation. That choice avoids confounding problems with
de novo instance segmentation at t0 with the main objective
of the experiment. We have each algorithm in the experi-
ment transfer the instance segmentation from t0 to t1, then
transfer the result to t2, and so on.

We ran this experiment for our method in direct compar-
ison to the baseline. Results for all three evaluation metrics
are shown in Table 1. They show that our algorithm signif-
icantly outperforms competing methods. As expected, we
see that the deep neural networks trained on the ScanNet
training set [10] do not perform very well on our data with-
out ﬁne-tuning. After ﬁne-tuning on the data in S0, they
do much better. Fine-tuning allows for a fair comparison,
as both their and our methods have access to the same in-
formation from S0 to predict labels for Si; i > 0. Despite
this, instance segmentation on later time steps still performs
worse than our algorithm, and instance associations across
time are poor. We attribute the difference to the fact that
our method is instance-centric, where the segmentation is
inferred from the estimated objects’ arrangement. This is
in stark opposition to methods like MASC, where the in-
stances are inferred from a semantic segmentation.
Ablation studies: Second, we present the results of abla-

Figure 5: Qualitative comparison on the semantic segmentation task. Proposed method is able to provide high quality
semantic labels as a result of instance segmentation transfer. Compared to competing methods, ours is able to produce better
per object labels and does not confuse object classes.

tion studies that showcase the inﬂuence of various terms in
our objective function on the results in a speciﬁc task. As
seen in table 2, by far the most important term of our pro-
posed objective is the Coverage Term. Without it, the ob-
jective function is discouraged from adding more objects.
The optimization simply ﬁnishes with a single object added
to the scene - as adding any more would lead to a decrease
in other terms.

The second most important term, especially for the In-
stance Transfer task, is the Hysteresis Term. It is intuitive
that lacking this term, the objective function is not encour-
aged to ﬁnd an arrangement that will be consistent with
previous object conﬁgurations. We note that when omit-
ting this term, the semantic segmentation task achieves a
slightly better result. The reason is that to prevent addition
of superﬂuous objects the novel objects are assigned rela-
tively low score (sec. 3.4.1). Without the Hysteresis Term,
the proposed objective is free to insert additional objects -
however their conﬁguration is often not correct, leading to
lower scores for other two tasks. This result suggests that
there exists a better formulation of the hysteresis function -
an interesting direction for future research.

The presence of the Intersection Term is important for
the Semantic Instance and Instance Transfer tasks.
Intu-
itively, the semantic segmentation score is unaffected as it
is often the case that intersecting objects share the semantic
class. The Geometry Term has the least inﬂuence on the re-
sults. This is not surprising, as the poses that survived the
pose proposal stage (see sec. 3.3) were high scoring ones.

Method

Semantic
Label

Semantic
Instance

Instance
Transfer

0.061
No Coverage Term
No Geometry Term
0.853
No Intersection Term 0.859
0.870
No Hysteresis Term

Full Method

0.859

0.058
0.825
0.781
0.818

0.837

0.048
0.617
0.584
0.226

0.650

Table 2: Ablation study showcasing the inﬂuence of objec-
tive function terms on each of the proposed tasks.

4.2. Qualitative Results

Inductive segmentation transfer: We showcase qualita-
tive results for the Instance Transfer task using our method
in ﬁgure 4. Again, in this task we use the ground-truth seg-
mentation provided by the user at t0 and transfer it to all
other observations sequentially. The results of such seg-
mentation transfer offer stable and well-localized instances.
Even over multiple time-steps, our method is able to keep
track of objects identities, providing us with information on
their location and motion. Additionally, thanks to the fact
that the objective function prefers minimal change, we are
able to deal with challenging conﬁgurations. For example
in 4a our method is able to correctly recover three coffee ta-
bles at time t3, despite their proximity and visual similarity.
Semantic segmentation: Figure 5 showcases qualitative

Figure 6: Model completion results. The left column shows
two scans of a scene with moving objects. The right column
shows our reconstruction of the scene using objects and
locations from the temporal model M .

comparisons between our method and DNN-based methods
[33, 21]. Without ﬁne-tuning,
the segmentation issues
are obvious. Learned methods confuse labels like sofa
and chair, which explains low scores in table 1. Fine-
tuning helps reduce these effects - however we also see
some overﬁtting errors. Our method is able to recover
high quality semantic segmentation, where due to the fact
that our approach is instance-centric, a single instance
can not have more than a single semantic class. Our
method’s success is however dependent on the overlap
between current and previous observations of S. When
lots of novel objects appear, the Hysteresis Term might
discouraging addition of all of them, as it aims to produce
arrangement similar to previously observed ones (ﬁg. 5a).

Model completion results: Our method for aggregating the
observations of moving objects from multiple time steps al-
lows it to produce more complete surface reconstructions
than would be possible otherwise. Many other systems ex-
plicitly remove moving objects before creating a surface
model (to avoid ghosting) [28]. Our approach uses the es-
timated object segmentations and transformations to aggre-
gate points associated with each object ok to form a Gk that
is generally more complete than could be obtained from any
one scan. Composing the aggregated Gk using transforma-
tions Tk in each object arrangement Ai provides a model
completion result (ﬁg. 6).

Failures: We identify three main failure modes of our
approach (ﬁg. 7). The ﬁrst issue arises due to the geometry
focused nature of our approach.
If the objects are only
partially scanned, the pose proposal stage will not be able
to recover highly scored poses. As such, these objects will
simply not be added to the space of possible conﬁgurations
that the optimization can choose from. The second is caused
by the limited contribution of small objects to the scene

Figure 7: Failure modes of the proposed method. (a) Partial
scanning prevents the pose proposal stage from generating
plausible poses.
(b) Small objects contribute little to the
coverage term. If such objects undergo signiﬁcant motion
our algorithm might miss them. (c) When similar, partially
scanned objects are considered, our method might not
produce the correct permutation.

coverage score. Combined with a small Hysteresis Term
value under signiﬁcant motion, the objective function might
prefer not adding these objects. Lastly, in cases like the one
in ﬁgure 7c, an incorrect permutation of objects might have
a higher objective value than the ground truth one. This
effect is a combination of Geometry Term providing noisy
scores for partial scans of visually similar objects (like the
chairs around the table), and their relative spatial proximity,
which makes the Hysteresis Term a poor discriminator.

5. Conclusion

This paper presents an algorithm for estimating the se-
mantic instance segmentation for an RGBD scan of an in-
door environment. The proposed algorithms is inductive –
using a temporal scene model which subsumes previous ob-
servations, an instance segmentation of the novel observa-
tion is inferred and used to update the temporal model. Our
experiments show better performance on a novel bench-
mark dataset in comparison to a strong baseline. Interest-
ing directions for future work include inferring the segmen-
tation at t0, investigating RNN architectures (when larger
datasets become available), and replacing terms of the ob-
jective function with learned alternatives.

Acknowledgments

We would like to thank Angel X. Chang and Manolis
Savva for insightful discussions. We also thank Graham
et al. [21] and Liu et al. [33] for the comparison codes,
and Dai et al. for the ScanNet data [10]. The project was
partially supported by funding from the NSF (CRI 1729971
and VEC 1539014/1539099).

References

[1] Rares Ambrus, Johan Ekekrantz, John Folkesson, and Patric
Jensfelt. Unsupervised learning of spatial-temporal models
of objects in a long-term autonomy scenario. In Intelligent
Robots and Systems (IROS), 2015 IEEE/RSJ International
Conference on, pages 5678–5685. IEEE, 2015. 2

[2] R. Ambru, N. Bore, J. Folkesson, and P. Jensfelt. Meta-
rooms: Building and maintaining long term spatial models
in a dynamic world. In 2014 IEEE/RSJ International Con-
ference on Intelligent Robots and Systems, pages 1854–1861,
Sept 2014. 2

[3] Dragomir Anguelov, Rahul Biswas, Daphne Koller, Benson
Limketkai, and Sebastian Thrun.
Learning hierarchical
object maps of non-stationary environments with mobile
In Proceedings of the Eighteenth conference on
robots.
Uncertainty in artiﬁcial intelligence, pages 10–17. Morgan
Kaufmann Publishers Inc., 2002. 2

[4] T. Birdal and S. Ilic. Point pair features based object de-
tection and pose estimation revisited. In 2015 International
Conference on 3D Vision, pages 527–535, Oct 2015. 3, 4
[5] Rahul Biswas, Benson Limketkai, Scott Sanner, and Sebas-
tian Thrun. Towards object mapping in non-stationary en-
In Intelligent Robots and
vironments with mobile robots.
Systems, 2002. IEEE/RSJ International Conference on, vol-
ume 1, pages 1014–1019. IEEE, 2002. 2

[6] Nils Bore, Johan Ekekrantz, Patric Jensfelt, and John
Folkesson. Detection and tracking of general movable ob-
jects in large 3d maps. arXiv preprint arXiv:1712.08409,
2017. 2

[7] Frederic Bosche, Carl T Haas, and Burcu Akinci. Automated
recognition of 3d cad objects in site laser scans for project
3d status visualization and performance control. Journal of
Computing in Civil Engineering, 23(6):311–318, 2009. 3
[8] Angel Chang, Angela Dai, Thomas Funkhouser, Maciej
Halber, Matthias Niessner, Manolis Savva, Shuran Song,
Andy Zeng, and Yinda Zhang. Matterport3D: Learning
International
from RGB-D data in indoor environments.
Conference on 3D Vision (3DV), 2017. 1

[9] M. Corsini, P. Cignoni, and R. Scopigno. Efﬁcient and
ﬂexible sampling with blue noise properties of triangular
meshes. IEEE Transactions on Visualization and Computer
Graphics, 18(6):914–924, June 2012. 3

[10] Angela Dai, Angel X. Chang, Manolis Savva, Maciej Hal-
ber, Thomas Funkhouser, and Matthias Nießner. Scannet:
In
Richly-annotated 3d reconstructions of indoor scenes.
Proc. Computer Vision and Pattern Recognition (CVPR),
IEEE, 2017. 1, 5, 6, 8

[11] Andrew Delong, Anton Osokin, Hossam N. Isack, and Yuri
Boykov. Fast approximate energy minimization with label
International Journal of Computer Vision, 96(1):1–
costs.
27, Jan 2012. 5

[12] B. Drost, M. Ulrich, N. Navab, and S. Ilic. Model globally,
match locally: Efﬁcient and robust 3d object recognition.
In 2010 IEEE Computer Society Conference on Computer
Vision and Pattern Recognition, pages 998–1005, June 2010.
3

[13] Johan Ekekrantz, Nils Bore, Rares Ambrus, John Folkesson,
and Patric Jensfelt. Towards an adaptive system for lifelong
object modelling. ICRA Workshop: AI for Long-term Auton-
omy, 2016. 2

[14] J. Engel, T. Sch¨ops, and D. Cremers. LSD-SLAM: Large-
scale direct monocular SLAM. In European Conference on
Computer Vision (ECCV), September 2014. 3

[15] Thomas F¨aulhammer, Rares¸ Ambrus¸, Chris Burbridge,
Michael Zillich, John Folkesson, Nick Hawes, Patric Jens-
felt, and Markus Vincze. Autonomous learning of object
models on a mobile robot. IEEE Robotics and Automation
Letters, 2(1):26–33, 2017. 2

[16] Marius Fehr, Fadri Furrer, Ivan Dryanovski, J¨urgen Sturm,
Igor Gilitschenski, Roland Siegwart, and Cesar Cadena.
Tsdf-based change detection for consistent long-term dense
In Robotics
reconstruction and dynamic object discovery.
and Automation (ICRA), 2017 IEEE International Confer-
ence on, pages 5237–5244. IEEE, 2017. 2

[17] Ross Finman, Thomas Whelan, Liam Paull, and John J
Leonard. Physical words for place recognition in dense rgb-
d maps. In ICRA workshop on visual place recognition in
changing environments, 2014. 2

[18] Martin A. Fischler and Robert C. Bolles. Random sample
consensus: A paradigm for model ﬁtting with applications to
image analysis and automated cartography. Commun. ACM,
24(6):381–395, June 1981. 4

[19] Garratt Gallagher, Siddhartha S Srinivasa, J Andrew Bagnell,
and Dave Ferguson. Gatmo: A generalized approach to
tracking movable objects. In Robotics and Automation, 2009.
ICRA’09. IEEE International Conference on, pages 2043–
2048. IEEE, 2009. 2

[20] Mani Golparvar-Fard, Feniosky Pena-Mora, and Silvio
Savarese. Automated progress monitoring using unordered
daily construction photographs and ifc-based building infor-
mation models. Journal of Computing in Civil Engineering,
29(1):04014025, 2012. 3

[21] Benjamin Graham, Martin Engelcke, and Laurens van der
Maaten. 3d semantic segmentation with submanifold sparse
convolutional networks. CVPR, 2018. 6, 8
[22] Kevin Han and Mani Golparvar-Fard.

Bim-assisted
structure-from-motion for analyzing and visualizing con-
struction progress deviations through daily site images and
bim. In Congress on Computing in Civil Engineering, Pro-
ceedings, volume 2015, pages 596–603, 06 2015. 3

[23] N. Hawes, C. Burbridge, F. Jovan, L. Kunze, B. Lacerda, L.
Mudrova, J. Young, J. Wyatt, D. Hebesberger, T. Kortner, R.
Ambrus, N. Bore, J. Folkesson, P. Jensfelt, L. Beyer, A. Her-
mans, B. Leibe, A. Aldoma, T. Faulhammer, M. Zillich, M.
Vincze, E. Chinellato, M. Al-Omari, P. Duckworth, Y. Gat-
soulis, D. C. Hogg, A. G. Cohn, C. Dondrup, J. Pulido Fen-
tanes, T. Krajnik, J. M. Santos, T. Duckett, and M. Hanheide.
The strands project: Long-term autonomy in everyday envi-
ronments. IEEE Robotics Automation Magazine, 24(3):146–
156, Sep. 2017. 2

[24] Evan Herbst, Peter Henry, and Dieter Fox. Toward online
In Robotics and
3-d object segmentation and mapping.
Automation (ICRA), 2014 IEEE International Conference
on, pages 3193–3200. IEEE, 2014. 2

on Computer Vision and Pattern Recognition, pages 1–7,
June 2007. 3

[41] Dirk Schulz and Wolfram Burgard. Probabilistic state es-
timation of dynamic objects with a moving mobile robot.
Robotics and Autonomous Systems, 34(2-3):107–115, 2001.
2

[42] Young Min Shin, Minsu Cho, and Kyoung Mu Lee. Multi-
object reconstruction from dynamic scenes: An object-
centered approach. Comput. Vis. Image Underst., 117(11),
Nov. 2013. 2

[43] Shuran Song and Jianxiong Xiao. Tracking revisited using
rgbd camera: Uniﬁed benchmark and baselines. In Proceed-
ings of the IEEE international conference on computer vi-
sion, pages 233–240, 2013. 2

[44] Yelda Turkan, Frederic Bosche, Carl T Haas, and Ralph
Haas. Automated progress tracking using 4d schedule and 3d
sensing technologies. Automation in Construction, 22:414–
421, 2012. 3

[45] Sebastian Tuttas, Alexander Braun, Andr´e Borrmann, and
Uwe Stilla. Acquisition and consecutive registration of pho-
togrammetric point clouds for construction progress moni-
toring using a 4d bim. PFG–Journal of Photogrammetry,
Remote Sensing and Geoinformation Science, 85(1):3–15,
2017. 3

[46] Chieh-Chih Wang and Chuck Thorpe. Simultaneous local-
ization and mapping with detection and tracking of mov-
In Robotics and Automation, 2002. Proceed-
ing objects.
ings. ICRA’02. IEEE International Conference on, volume 3,
pages 2918–2924. IEEE, 2002. 2

[47] Chieh-Chih Wang, Charles Thorpe, and Sebastian Thrun.
Online simultaneous localization and mapping with detec-
tion and tracking of moving objects: Theory and results from
a ground vehicle in crowded urban areas. In Robotics and Au-
tomation, 2003. Proceedings. ICRA’03. IEEE International
Conference on, volume 1, pages 842–849. IEEE, 2003. 2
[48] Feilong Yan, Andrei Sharf, Wenzhen Lin, Hui Huang, and
Baoquan Chen. Proactive 3d scanning of inaccessible parts.
ACM Trans. Graph., 33(4):157:1–157:8, July 2014. 2
[49] Jay Young, Valerio Basile, Markus Suchi, Lars Kunze, Nick
Hawes, Markus Vincze, and Barbara Caputo. Making sense
of indoor spaces using semantic web mining and situated
In European Semantic Web Conference,
robot perception.
pages 299–313. Springer, 2017. 2

[25] Binh-Son Hua, Quang-Hieu Pham, Duc Thanh Nguyen,
Minh-Khoi Tran, Lap-Fai Yu, and Sai-Kit Yeung. Scenenn:
A scene meshes dataset with annotations. In International
Conference on 3D Vision (3DV), 2016. 1

[26] Kevin Karsch, Mani Golparvar-Fard, and David Forsyth.
Constructaide: analyzing and visualizing construction sites
through photographs and building models. ACM Transac-
tions on Graphics (TOG), 33(6):176, 2014. 3

[27] Michael Kazhdan, Matthew Bolitho, and Hugues Hoppe.
Poisson surface reconstruction. In Proceedings of the Fourth
Eurographics Symposium on Geometry Processing, SGP
’06, pages 61–70, Aire-la-Ville, Switzerland, Switzerland,
2006. Eurographics Association. 5

[28] Maik Keller, Damien Leﬂoch, Martin Lambers, Shahram
Izadi, Tim Weyrich, and Andreas Kolb. Real-time 3d
reconstruction in dynamic scenes using point-based fusion.
In Proceedings of Joint 3DIM/3DPVT Conference (3DV),
page 8, 06 2013. 8

[29] Tom´aˇs Krajn´ık, Jaime P Fentanes, Joao M Santos, and
Tom Duckett. Fremen: Frequency map enhancement for
long-term mobile robot autonomy in changing environments.
IEEE Transactions on Robotics, 33(4):964–977, 2017. 2
[30] Harold W Kuhn. The hungarian method for the assignment
problem. Naval research logistics quarterly, 2(1-2):83–97,
1955. 6

[31] Minhaeng Lee and Charless C. Fowlkes. Space-time local-
ization and mapping. In The IEEE International Conference
on Computer Vision (ICCV), pages 3932–3941, 10 2017. 2

[32] Kok lim Low. Linear least-squares optimization for point-
toplane icp surface registration. Technical report, University
of North Carolina at Chapel Hill, 2004. 3

[33] Chen Liu and Yasutaka Furukawa. Masc: Multi-scale afﬁnity
with sparse convolution for 3d instance segmentation, 2019.
6, 8

[34] Ricardo Martin-Brualla, David Gallup, and Steven M Seitz.
Time-lapse mining from internet photos. ACM Transactions
on Graphics (TOG), 34(4):62, 2015. 3

[35] Kevin Matzen and Noah Snavely. Scene chronology. In Proc.
European Conf. on Computer Vision (ECCV), 2014. 3
[36] Richard Newcombe, Dieter Fox, and Steve Seitz. Dynam-
icfusion: Reconstruction and tracking of non-rigid scenes in
real-time. In Proc. Computer Vision and Pattern Recognition
(CVPR), IEEE, 2015. 2

[37] Danijel Rebolj, Zoran Puˇcko, Nenad ˇCuˇs Babiˇc, Marko Biz-
jak, and Domen Mongus. Point cloud quality requirements
for scan-vs-bim based automated construction progress mon-
itoring. Automation in Construction, 84:323–334, 2017. 3

[38] S. Rusinkiewicz and M. Levoy. Efﬁcient variants of the icp
In Proceedings Third International Conference
algorithm.
on 3-D Digital Imaging and Modeling, pages 145–152, May
2001. 3

[39] Jo˜ao Machado Santos, Tom´aˇs Krajn´ık, and Tom Duckett.
Spatio-temporal exploration strategies for long-term auton-
omy of mobile robots. Robotics and Autonomous Systems,
88:116–126, 2017. 2

[40] G. Schindler, F. Dellaert, and S. B. Kang. Inferring temporal
order of images from 3d structure. In 2007 IEEE Conference

