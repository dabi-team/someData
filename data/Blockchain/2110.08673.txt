1
2
0
2

t
c
O
6
1

]

R
C
.
s
c
[

1
v
3
7
6
8
0
.
0
1
1
2
:
v
i
X
r
a

Scaling Blockchains: Can Elected Committees Help?

Alon Benhaim, Brett Hemenway Falk, Gerry Tsoukalas∗

October 7, 2021

Abstract

In the high-stakes race to develop more scalable blockchains, some platforms (Cosmos, EOS, TRON,

etc.) have adopted committee-based consensus protocols, whereby the blockchain’s record-keeping rights

are entrusted to a committee of elected block producers. In theory, the smaller the committee, the faster

the blockchain can reach consensus and the more it can scale. What’s less clear, is whether this mech-

anism ensures that honest committees can be consistently elected, given voters typically have limited

information. Using EOS’ Delegated Proof of Stake (DPoS) protocol as a backdrop, we show that

identifying the optimal voting strategy is complex and practically out of reach. We empirically char-

acterize some simpler (suboptimal) voting strategies that token holders resort to in practice and show

that these nonetheless converge to optimality, exponentially quickly. This yields eﬃciency gains over

other PoS protocols that rely on randomized block producer selection. Our results suggest that (elected)

committee-based consensus, as implemented in DPoS, can be robust and eﬃcient, despite its complexity.

Keywords: Approval Voting, Blockchain Consensus Protocols, Blockchain Economics, Token Vot-

ing, Committee-Based Consensus, Delegated Proof of Stake, DPoS, Stake-Weighted Voting.

1 Introduction

Permissionless blockchains face a challenging problem: How can anonymous/untrusted decentral-

ized agents all agree on a sequence of events, e.g., transactions, or more general state updates? The

Bitcoin Whitepaper (Nakamoto 2008) introduced a new Consensus Protocol that allows partici-

pants to reach agreement, even in the absence of stable identities, paving the way to a new form of

decentralized money (and a lot more). The core idea behind Nakamoto’s consensus is that partic-

ipants can continuously establish trust by expending veriﬁable computational eﬀort (e.g. wasting

electricity), that is, by showing “Proof of Work” (PoW).

∗Benhaim: UPenn, Dept. of Mathematics, alonb@sas.upenn.edu; Falk: UPenn, Computer and Information Science

Dept., fbrett@cis.upenn.edu; Tsoukalas: Boston University, Questrom School of Business & The Luohan Academy;

gerryt@bu.edu

 
 
 
 
 
 
Since Bitcoin’s inception, there’s been a high-stakes race to replace the PoW protocol that

underlies not just its own blockchain, but hundreds of others like it. Although PoW-based consensus

has proven to be relatively safe for more than a decade now, it is wasteful and has been unable to

generate the throughput necessary to handle the global demand for transaction processing. Finding

a better alternative may determine not only the winners and losers of the ongoing cryptocurrency

arms race, but also the long-term disruptive potential that blockchain technology, as a whole, will

have on the global economy.

Dozens if not hundreds of competing consensus protocols have been proposed and implemented.

At the moment, the most promising and widely used alternatives rely on the concept of Proof of

Stake (PoS), where agents stake their existing wealth for a chance to be selected as the next “block

leader”, via stake-weighted lottery. Winning the draw gives them to right to record transactions

on the next blockchain block and reap any rewards that come with it.

While PoS systems are more scalable than PoW (e.g., see John et al. (2020)), one drawback of

selecting block producers via lottery is that malicious producers can try to fork the chain, and will

(occasionally) be selected. Thus these types of consensus protocols require an additional method

to identify the “canonical” branch when a fork occurs.1

One alternative method, that can avoid forks,2 is a form of “committee-based consensus,” where

the rights to produce and certify blocks are delegated to a small committee. Several prominent

blockchains including Cosmos, Algorand, EOS3 and TRON use this approach, though they diﬀer

in how they select the committee members: Algorand committees are selected randomly, Cosmos

committees are selected by a single-vote election, and committees in EOS and TRON are based on

Delegated Proof of Stake (DPoS), which uses a form of “approval voting”. Approval voting encom-

passes single-choice voting (as in Cosmos), and there is no election strategy in random selection (as

in Algorand), thus approval voting will be our focus for much of the paper.

It’s worth noting that DPoS Blockchains have had their fair share of criticism, both in terms of

their technical design (The Interchain Foundation 2017, Xu et al. 2018) and some of their business

behavior (Copeland 2020, Rubin 2021, Hui 2020), but these criticisms do not undermine the core

1PoW systems naturally disincentivize forking since producing a block is costly, and when forking occurs, most

systems use a “longest chain rule,” where the chain with the most hash power is the “correct” branch. Since block

production in PoS systems is essentially free, several PoS systems (e.g. Ethereum 2.0, Cosmos) employ “slashing”

where producers are economically penalized for creating two blocks. See Saleh (2021) for an economic analysis.

2Most PoW blockchains (e.g. Bitcoin and Ethereum) achieve “eventual ﬁnality,” by contrast systems like Cosmos,

Algorand, EOS and TRON achieve “instant ﬁnality”.

3EOS raised a record-breaking $4 billion in its Initial Coin Oﬀering, in 2017.

2

ideas of committee-based consensus, as evidenced by the fact that more prominent blockchains (like

Cosmos) rely on it as well.

At its core, (elected) committee-based consensus is rather simple: users continuously vote to

elect their preferred block producers to the committee. Keeping the committee size small improves

eﬃciency: increasing throughput, decreasing latency and allowing for member specialization. Un-

fortunately, a small number of malicious committee members can also undermine the security of

the entire blockchain, thus there is a fundamental tension between performance and robustness –

a small committee is extremely eﬃcient but may compromise security.

Several interrelated questions follow: First, how should agents vote for their preferred candidates

given they only have partial information? Second: How small can the committee be without

undermining security? Third: How does committee-based consensus with approval voting compare

to other PoS protocols?

Summary of Model

To answer these questions, we develop a simple voting model using EOS’ Delegated Proof of Stake

(DPoS) protocol as a backdrop. Block producers have two types, either “honest” or “dishonest,”

and the vote is successful if a 2/3rds majority of the elected committee is honest.

Token holders have limited information: they receive private signals on the block producer types

and vote strategically to try and maximize the probability of electing an honest committee. The

election process is based on a variation of approval voting, whereby voters approve of a collection

of candidates, and the candidates with the most approvals are elected to the committee (Brams

and Fishburn 2007). As we will discuss later, this is fundamentally diﬀerent from traditional voting

schemes, where voting for more than one candidate means splitting your vote.

Assuming the block producer committee uses a traditional consensus protocol to certify blocks,

such as Practical Byzantine Fault Tolerance (Castro and Liskov 1999), this imposes a strict thresh-

old eﬀect on the committee:

if fewer than 1/3rd of the committee members are dishonest, they

cannot disrupt the consensus protocol, but once more than 1/3rd of the committee members are

dishonest, they can completely subvert the committee (which can result in halting transactions, or

executing double-spend attacks).

We seek to characterize agent optimal voting strategies and the pure-strategy Bayesian Nash

equilibria obtainable under these conditions. Further, guided by some stylized facts emerging from

our basic empirical observations, we also consider a restriction of the voting strategy space to

two simple and intuitive classes: “threshold voting,” where voters vote for all candidates whose

3

(conditional) probability of being honest is above a certain threshold (Deﬁnition 5), and “cardinal

voting,” where voters vote for their top k candidates (Deﬁnition 6).

Summary of Results

Even with this relatively simply model, computing the probability of electing an honest committee

turns out to be extremely challenging. In Theorem 1, we derive this probability in the most general

terms, allowing for specialization to various voting strategy classes. We then proceed to examine

the equilibrium for the two intuitive voting strategy classes we consider.

We ﬁrst analyze a special case where there is only a single voter, and show that it is (mathemati-

cally) equivalent to a setting in which all voters can credibly (and costlessly) pool their information.

Pooling of information is often regarded as a pure hypothetical exercise, but it is worth studying in

our setting because voter incentives are aligned, and there is no obvious downside to sharing one’s

information with others. Under these conditions, we show that the cardinal voting strategy is in

fact the optimal strategy (Proposition 3). But this result breaks down when there is more than

one voter, if signals cannot be shared (Proposition 6).

Proposition 1 gives a closed-form solution for the the probability of electing an honest committee

when voters follow the threshold strategy. But threshold voting can be suboptimal even when there

is just a single voter (Proposition 4).

Despite the general suboptimality of these simple strategies (other than in the special pooling

case), we show that the system is asymptotically stable. More speciﬁcally, regardless of the strategy

considered, and under very weak assumptions, the probability of electing an honest committee

tends to one, exponentially fast, as the number of voters increases (Theorem 3). Thus, although

the optimal voting strategy may be too complex to be realistically achievable in practice, simple,

intuitive voting strategies, that token holders tend to use in practice, exhibit very strong robustness.

Finally, we compare the approval-voting mechanism for committee selection to another popular

mechanism used by many PoS blockchains: the random assignments protocol. We ﬁnd that approval

voting typically requires much smaller committee sizes (1 to 2 orders of magnitude) to attain the

same levels of failure tolerance.

Overall, our results suggest that for most practical purposes, committee-based consensus, of

the type implemented in DPoS blockchains, is theoretically eﬃcient and robust to the complexity

it introduces on the agent strategy space (some limitations are discussed in Section 7).

Below, in Section 2, we discuss some of the basics of blockchain consensus protocols and the

approval voting mechanism that we model. Readers already familiar with these concepts can skip

4

the section, or its relevant parts, without loss.

2 Blockchain Consensus Protocols & Committee Elections

The core problem facing all cryptocurrencies (and decentralized databases of all kinds), is how to

provide a single, universally accepted ordering of transactions (or state updates). Most modern

cryptocurrencies are based on the notion of a hash chain, where blocks of data are chained together

using cryptographic hash functions. Hash chains are an append-only data structure, meaning that

new blocks (containing transactions) can be appended to the end of the chain, while internal blocks

of the chain cannot be modiﬁed or re-ordered (without modifying all subsequent blocks). Since

anyone can easily append new blocks to the end of a hash chain, decentralized systems need a

method for deciding how and when new blocks can be added to the chain.

Most cryptocurrencies use a form of leader election, where a leader is elected at regular intervals.

This leader, or “block producer,” is given the right to produce a single block. There is an inherent

value in becoming a block producer, as block producers have the power to insert, re-order and censor

transactions (Daian et al. 2020).4 In addition, most cryptocurrencies provide direct incentives for

block production in the form of transaction fees and block rewards. Transaction fees are paid by the

users to incentivize the block producer to include speciﬁc transactions in a block. Block rewards

are new coins that are minted and paid directly to block producers. For example, in Bitcoin,

block rewards are currently set to 6.25 BTC. In many cryptocurrencies, block rewards are the

only mechanism by which new coins are generated. For reference, in July 2021, Ethereum miners

received about 18% of their direct compensation from transaction fees and 82% from block rewards

(The Block 2021).

Block producers also have the ability to harm the platform itself. Block producers can censor

transactions within the block they produce. Lazy or inept block producers can reduce the total

transaction throughput of the system by failing to include enough transactions in a block or failing

to produce a block altogether. Malicious block producers can “fork” the chain by appending two

blocks at the same block height. This type of behavior can lead to “double-spending attacks” and

can destabilize the entire blockchain.

Block producers’ power to harm the ecosystem, means that the selection mechanism must ensure

that only “honest” producers are elected. When block producer candidates have stable identities,

4The value that can be extracted by inserting, re-ordering and censoring transactions is termed “Maximum

Extractable Value” (MEV), and is worth hundreds of millions of dollars on blockchains like Ethereum (Flashbots

2021).

5

classical consensus protocols (e.g. Lamport et al. (1982), Castro and Liskov (1999)) provide eﬃcient

and robust mechanisms for leader election. In a permissionless setting, however, where the set of

block producer candidates is anonymous and dynamic, classical consensus protocols fail, and other

leader-election methods must be devised.

Proof of Work (PoW)

As mentioned earlier, the Bitcoin whitepaper Nakamoto (2008) introduced a novel leader-election

protocol whereby block-producing candidates (“miners”) expend eﬀort in the form of computing

cryptographic hashes on random values, and their chance of becoming block leader is proportional

to the amount of eﬀort they exert. This Proof of Work consensus, is used by many of the leading

cryptocurrencies (by market cap), including Bitcoin, Ethereum, Dogecoin and Litecoin.

Although PoW-based consensus has proven stable and secure, it has several drawbacks, most

notably its societal cost, and its low transaction throughput. Currently, block producer candidates

on Bitcoin expend about as much electricity as the country of Finland in an eﬀort to be chosen as

block producers (Cambridge University 2021).

Proof-of-Work based consensus, also has limitations on how frequently block producers can be

chosen, and this directly aﬀects the blockchain’s transaction throughput. Currently, the leading

PoW-based blockchains, Bitcoin and Ethereum, can handle less than tens of transactions per second.

By contrast Visa handles thousands of transactions per second (Binance Academy 2021).

Proof of Stake (PoS)

The aforementioned drawbacks of PoW have pushed the blockchain community to explore alterna-

tives, and in this quest, Proof of Stake (PoS) has aruably emerged as the current frontrunner. The

Ethereum blockchain, for instance, which supports the world’s second largest cryptocurrency ETH,

originally launched with a PoW protocol but has been gradually trying to transition to a form of

PoS for several years (InsideTheSimulation 2021).

In PoS, block producers are elected in proportion to their token balance (“stake”) on the

blockchain, rather than their computational eﬀort. Similar to PoW systems, where candidates

signal their support of the platform by expending computing resources, in PoS systems, candidates

signal their support of the system by acquiring and holding native tokens on the blockchain.

There are many variants of the PoS protocol, but a common feature of almost all PoS systems

is that block producers are elected with probability proportional to their “staked” tokens (as in

Ethereum 2.0) or their passive token balances (as in Algorand).

6

Committee-based Consensus & Delegated Proof of Stake

Although under PoS, block producers can earn signiﬁcant returns, being an eﬃcient block producer

usually requires powerful computing equipment, a dedicated internet connection, and a robust

software conﬁguration. In some blockchains, a nontrivial minimum amount of tokens is also required

to be eligible to participate. Many regular token holders are thus ineligible (or simply unwilling) to

take on this type of role. To address this problem, most PoS systems support some type of delegation

mechanism, whereby token holders can delegate their stake to professional block producers (usually

in exchange for some sort of proﬁt sharing).

Committee-based consensus takes this separation between token holders and block producers

to the extreme. In most traditional PoW systems, block producers are selected in a lottery-like

procedure according to their (proportional) hash power. Several PoS systems (e.g. Tezos, Algorand,

Cardano) adapted this idea to elect leaders randomly with probability equal to their proportional

token stake.5 As an alternative to this lottery-based leader election, several blockchains allow users

to cast (stake-weighted) votes for block producers and the ones with the highest number of votes

become producers for some ﬁxed duration of time.

This type of voting is most often associated with Delegated Proof of Stake systems. In these

systems, a small committee (k = 21 in EOS or 27 in TRON) of block producers is elected by a

stake-weighted vote, and is responsible for producing and validating blocks.6 Other PoS systems,

like most platforms in the Cosmos ecosystem, also employ committee-based consensus.

In committee-based consensus, the elected committee typically runs a traditional consensus al-

gorithm — Practical Byzantine Fault Tolerance (Castro and Liskov 1999) or Tendermint (Buchman

2016) — to certify the next block.

Some Advantages of Committee-based Consensus

Committee-based consensus has several perceived advantages over other commonly used consensus

protocols. First, the committee can check each other’s actions, and prevent malicious behavior.

For example, using a traditional consensus protocol, 1/3 of the committee can behave maliciously

without adversely aﬀecting the system.

Second, the voting process takes a nonzero amount of time, so electing a batch of producers at

5In fact, the core technical contribution in systems like Algorand and Cardano is a decentralized, veriﬁable lottery

mechanism.

6Although almost all PoS systems support some form of delegation, the term “Delegated Proof of Stake” is usually

reserved for the speciﬁc type of committee-based consensus protocols used by systems like EOS and TRON.

7

once increases eﬃciency.

Third, it allows the chain to achieve instant ﬁnality – when the committee certiﬁes a block, that

block is immediately ﬁnalized. This is in contrast to PoW blockchains that only achieve eventual

ﬁnality. Bitcoin wallets, for instance, typically wait until a transaction is buried 6 blocks deep in

the chain before considering it “ﬁnalized” (Bitcoin Wiki 2021).

Fourth, it can eliminate the need for “slashing” penalties. In many traditional PoS systems

(e.g. Ethereum 2.0), block producer candidates need to stake their tokens by locking them in a

smart contract, and this stake is held as a bond against misbehavior. If a block producer engages in

(provable) misbehavior, their stake can be conﬁscated (“slashed”). In committee-based consensus,

if a small minority of the committee misbehaves, they cannot adversely aﬀect the system, and

voters (having noticed this misbehavior) will not elect them again. For this reason, DPoS systems

(like EOS and TRON) do not have slashing penalties. On the other hand, Cosmos, which uses

committee-based consensus does include slashing penalties.

Finally, having a distinct separation between stakeholders and block producers allows special-

ization, and thus block producers in systems using committee-based consensus, may have better

hardware and software infrastructure which would lead to lower latency and faster block times.

Of course, these advantages hinge on the system’s ability to consistently elect an honest majority

of committee members. This then raises the need to dive into the committee election mechanism.

Approval Voting

Committee-based consensus protocols can vary on several dimensions, but we focus on how the

committee is selected. The selection process is independent of many other features of the blockchain,

e.g. the actual consensus protocol employed by the elected committee, or how data is stored and

processed on the blockchain.

In this work, we focus on approval voting, which is the selection

mechanism employed by most DPoS systems (including EOS and TRON).

In approval voting, voters “approve” of a collection of candidates, and the candidates with the

most approvals are elected to the committee (Brams and Fishburn 2007). This is fundamentally

diﬀerent from traditional voting schemes, where voting for two candidates means splitting your

vote.

In approval voting, if a voter votes for two (or more) candidates, each receives the same

“approval” as if the voter only voted for one candidate.

For example, the Cosmos blockchain uses a traditional (single-vote) mechanism to elect a com-

mittee of 125 block producers (Cosmos 2021). By contrast, EOS uses approval voting to elect a

committee of 21 block producers. Although Cosmos and EOS vary on several other dimensions

8

(The Interchain Foundation 2017), the committee selection mechanism is essentially independent of

all these other variables. Since Cosmos could be modiﬁed to use approval voting, and EOS could be

modiﬁed to use a single-vote mechanism, designing the most eﬃcient committee-based consensus

protocols requires analyzing the characteristics of these mechanisms in the blockchain setting.

3 Literature Review

Committee-based consensus is widely used in the blockchain space (Kogias et al. 2016, Meng et al.

2018a, Gleehokie et al. 2018, TRON 2018, Cosmos 2021), but the academic literature is arguably

still lagging behind. Of the few studies we could ﬁnd, Meng et al. (2018b), Yang et al. (2019), Hu

et al. (2021) examine related topics, but they focus mostly on hypothetical tweaks that could be

added to improve existing systems. In contrast, we seek to formally analyze and understand whether

the existing systems themselves are robust and eﬃcient, given voters have limited information.

Approval voting was introduced into the blockchain space in Delegated Proof of Stake (DPoS),

and the ﬁrst literature on DPoS started with practitioners, where it was often asserted that DPoS

consensus is a more eﬃcient and democratic version of the standard PoS mechanism (Binance 2020,

Cryptopedia 2021). The approval voting mechanism underlying DPoS is described in the original

whitepaper, Bitshares (2021), but there is little attempt to assess potential agent voting behavior

and what could go wrong with it.

Approval voting has been widely studied in the context of political elections (Brams and Fish-

burn 2007), and we highlight here some facts about the known dynamics of approval voting in

general. In a k-winner election system, it is desirable to have the property that if a candidate is

ranked ﬁrst by at least n/k of the voters, then that candidate should be elected to the committee.

Unfortunately, this property does not hold under approval voting (Elkind et al. 2017).

Similarly, an approval voting scheme can end up electing candidates that would lose a majority

of pairwise contests against the other candidates, i.e., an approval voting scheme may elect a

“Condorcet loser” (Niemi 1984).

One of the most interesting features of approval voting schemes is that voters typically have

multiple honest strategies (Niemi 1984). For example, consider an up-to-2, 2-winner system with

two voters (n = 2), and four candidates (m = 4),

=

c1, c2, c3, c4}

{

C

. If the two voters’ preference

orders are (c2; c3; c4; c1) for voter 1 and (c1; c3; c4; c2) for voter 2 then the candidate c3 will be in the

elected committee for any t

≥

2, so both c1 and c2 cannot be in the elected committee. Should voter

1 vote for c2 only, or c2 and c3? These are both honest strategies, and thus even honest players

9

must think strategically. This feature makes the analysis of approval voting systems complex.

DPoS consensus, being based on approval voting, inherits these aforementioned properties, but

it diﬀers from traditional approval voting in several ways that we describe in the model section.

The most signiﬁcant departure is perhaps that extant studies (outside of the blockchain literature)

assume voters have competing interests, and usually have perfect information about the candidates

themselves. By contrast, in the DPoS setting, most voters’ interests are aligned. All voters wish to

elect an honest committee, but they have limited information about the candidates. This completely

changes the nature of the analysis.

Though we are not aware of any studies considering strategic agent voting behavior in committee-

based protocols, numerous studies have looked at strategic agent behavior in other Blockchain

protocols. Saleh (2021), Ro¸su and Saleh (2021), Fanti et al. (2019) are some of the ﬁrst studies

looking at the economics of PoS systems. Leonardos et al. (2020) study weighted voting in validator

committees in PoS protocols. There is also a relatively large computer science literature blending

strategic considerations and technical design elements of PoS, such as Gaˇzi et al. (2019), Chen and

Micali (2016), Bentov et al. (2016), Kiayias et al. (2017).

Beyond PoS, Alsabah and Capponi (2020), Biais et al. (2019), Cong et al. (2021), Garratt and

van Oordt (2020) focus on the economics of PoW, and the underlying mining mechanism. Several

other studies focus more speciﬁcally on Bitcoin, such as Nakamoto (2008), Easley et al. (2019),

Huberman et al. (2021), Pagnotta (2021), Prat and Walter (2021).

Finally, on a broader note, our work is related to the literature studying security guarantees for

diﬀerent types of blockchain protocols, e.g., Lewis-Pye and Roughgarden (2020, 2021), though we

are not aware of any prior work focused speciﬁcally on committee-based consensus. More generally,

our work also has implications for the literature studying the economics of token systems, see e.g.,

Cong et al. (2021), Tsoukalas and Falk (2020), Gan et al. (2021a,b).

To the best of our knowledge, ours is the ﬁrst paper to analyze the eﬃciency of committee

elections in committee-based consensus protocols, with private information and strategic agents.

4 Preliminaries and Empirical Observations

4.1 Deﬁnitions

Approval voting is a system where each voter may select (“approve”) any number of candidates,

and the winners are the candidates approved by the largest number of voters (see Kilgour (2010)

for a survey on approval voting). Formally:

10

Deﬁnition 1 (k-winner Approval Voting). A set of voters
n def=

. Voter v chooses a subset of candidates

, and m def=

votes on a set of candidates,

. Let

C

V

they wish to vote for. For

|C|
, the score of candidate c, that is, the number of votes the candidate receives,

Cv ⊆ C

|V|

each candidate c

is deﬁned to be

∈ C

The elected committee is determined to be the k candidates with the highest scores.

score(c) def=

v
|{

|

c

∈ Cv}|

.

(1)

In DPoS protocols, stake-holders vote for a set of “block-producers” modifying the k-winner

Approval Voting system to include a cap on the number of candidates. Formally:

Deﬁnition 2 (up-to-t-vote, k-winner Approval Voting). With notation as in deﬁnition 1, we limit

the maximum number of candidates t each voter can vote for, so that voter v chooses a subset of

candidates

Cv ⊆ C

restricted to

|Cv| ≤

t(

≤

the k candidates with the highest scores.

m). As before, the elected committee is determined to be

We will assume throughout that there are at least k candidates, m

k. In general, there may

≥

be less than k candidates in the elected committee if less than k candidates received any votes.

Alternatively, there may be more than k candidates if there are ties. We specify how we handle

these cases in Deﬁnition 3.

4.2 Empirical Observations: Approval Voting on EOS

Block Producers on EOS are elected by token holders according to a up-to-30-vote, 21-winner

approval voting system (see Deﬁnition 2, with t = 30 and k = 21). The 21 winning candidates

form the block producer committee. Elections are held continuously, and each committee of block

producers remains in control of the chain for 126 seconds (EOS 2018).

EOS voters are not directly rewarded for staking (although this has been proposed as in NY

(2019)), instead voters are assumed to beneﬁt indirectly from the stability and performance of the

platform. In EOS and other DPoS systems, votes are weighted by stake, and voters are allowed to

“proxy” their votes, i.e., delegate their voting power to a diﬀerent voter.

To understand real-world voting strategies, we gathered voting data from EOS. As the EOS

blockchain is extremely large (over 8TB) and the majority of transactions are unrelated to voting,

we gathered daily voting snapshots from EOS Authority (a block producer) and we used these to

analyze voter behavior during the period 2021-08-20 - 2021-08-30. Each snapshot contained the

current votes of the nearly 1 million accounts that have ever voted.

11

Figure 1 shows the number of votes cast by individual voters (left panel), and stake-weighted

votes (right panel), on a typical day. Although EOS votes are stake-weighted, and the unweighted

votes do not directly aﬀect the elected committee, we include them in our data be cause they

illustrate the strategy pursued by the majority of voters.

Figure 1: The number of producers that each token holder voted for, during the period 2021-08-20 - 2021-

08-30. Left panel: unweighted voting. Right panel: stake-weighted voting. Key Takeaway: most voters

follow a “cardinal voting” strategy.

As can be seen from Figure 1, when votes are weighted by stake, most stake is proxied, and

most voters vote for either 21 or 30 producers.

Figure 2 shows a diﬀerent view of the same data: the left panel shows the breakdown (in %) of

unweighted voting and the right panel shows the breakdown (in %) for stake-weighted voting.

Figure 2: The percentage breakdown of votes during the period 2021-08-20 - 2021-08-30. The left-hand

plot shows unweighted voting. The right-hand plot shows stake-weighted votes.

12

010000020000030000040000050000060000070000080000090000012130NumberofvotersNumberofproducersNumberofvotes2021-08-20-2021-08-30NoVoteProxyDirect05×1071×1081.5×1082×1082.5×10812130VoterStakeNumberofproducersNumberofvotes2021-08-20-2021-08-30NoVoteProxyDirectDirectProxyNoVote2.6%0.9%96.4%DirectProxyNoVote2.5%58.9%38.6%Note, both ﬁgures represent a week’s worth of voting data on EOS, but these patterns are

consistent and exhibit relatively little variability, over diﬀerent/longer time windows.

The key observation is that most voters follow a “cardinal voting strategy” where they vote for

a ﬁxed number of block producers. A formal deﬁnition is given in Deﬁnition 6.

We rely on these basic empirical observations to inform our model in Section 5. In Section 6,

we explore how optimal these types of voting strategies can be.

5 Model

5.1 Voting with Limited Information

We lay out a simple model, where the blockchain’s token holders vote according to an up-to-t,

k-winner approval voting system, to elect a committee of block producers. There is a pool of m

producers to choose from, c1, . . . , cm, and n strategic voters on the platform, v1, . . . , vn. Every

producer has an unknown type, either “honest”, H, or “malicious”, M . The goal of each voter is

to maximize the probability that a supermajority (e.g. a 2/3 majority) of the elected committee is

honest. We discuss some possible alternative objectives in Appendix D.

Deﬁnition 3 (Honest Committee). Suppose the k producers with highest number of votes are

elected to be on the block-producer committee, T. If there are less than k candidates with non-zero
score, then the committee is ﬁlled adversarially (i.e., in a worst-case fashion), and if there are ties

between the candidates such that there are more than k producers with highest score, then they are

broken adversarially (between the ones with least score). Since most Byzantine Agreement protocols
require at least (cid:6) 2k
(cid:7) of
3

(cid:7) honest members, we say the committee T is honest, T = H, if at least (cid:6) 2k

3

the elected block producers are honest.

Suppose the a priori probability that producer j is honest is Pr[cj = H] = pj. Also, suppose

voter vi receives a private noisy signal vector, s∗i = (s∗ij)m

j=1 about producer’s cj honesty,






s∗ij =

ph + (cid:15)ij if Producer j is honest

pm + (cid:15)ij if Producer j is malicious,

(2)

where (cid:15)ij is a normally distributed noise term with E[(cid:15)ij] = 0 and Var[(cid:15)ij] = σ2

(0, σ2

j
ij),
∀

N
producer j is honest, and s∗ij ∼ N

∈ {

}

1, . . . , m

. It follows that signals are normally distributed with s∗ij ∼ N

(pm, σ2

ij) if producer j is malicious.

When voter i receives a signal, s∗ij, regarding producer j, the voter can compute the posterior
probability that producer j is honest conditioned on s∗ij. We call this conditional probability sij:

13

ij, i.e., (cid:15)ij ∼
(ph, σ2
ij) if

def= Pr (cid:2) producer j is honest

sij

(cid:12)
(cid:12) s∗ij

(cid:3) .

(3)

The map sij ↔

s∗ij is a bijective function, and we calculate it explicitly in Lemma 2 in Ap-

pendix A.1. The result is given below in (4).

sij =

1 + 1

pj

−
pj

e

(s∗
ij

1
−ph)2−(s∗
ij
2
2σij

.

−pm)2

(4)

Our core model assumes all voters are strategic (fully rational), and we seek to characterize the

pure-strategy Bayesian Nash equilibria of the game.7 More speciﬁcally, each voter vi maximizes

the success probability — the probability that the elected committee T is honest, conditioned on
the private signal vector they receive, si, given the platform voting system in Deﬁnition 2.

We assume that (pj)1

≤
serve others’ private signals.

j
≤

max
vi ⊆C
C
m, (σij)1

Pr [T = H

si}

| {

n
i=1].

(5)

n,1

i
≤

≤

m, ph, pm, are publicly visible, but voters cannot ob-

≤

j
≤

Deﬁnition 4 (Voting Strategy). A voting strategy is an algorithm A (in the class S) used by all vot-
ers, that takes as input the parameters the voter has access to si = (sij)m

j=1, (σij)m
j=1, (pj)m
j=1, ph, pm
. We denote the committee

and outputs a subset of candidates the voter wishes to vote for

Cv ⊆ C

elected by exerting algorithm A as TA.

After observing their private signal, voters simultaneously submit their “votes”

Cvi(si);
we consider any voting strategy in the class of voting strategies, represented by the letter S. With

Cvi =

Deﬁnition 4, we can interchangeably talk about the voters maximizing the success probability by

exerting a voting algorithm A

S and rewrite Equation 5 as:

∈

Pr [TA = H].

max
A
S
∈

(6)

We say that a strategy is optimal if it maximizes the success probability - the probability of

electing an honest committee, Equation 5 or 6. Table 1 summarizes the notation.

7Note, we also assume all voters in our model have equal weight. Although essentially all real-world platforms

rely on stake-weighted voting where voters can have diﬀerent stakes, our model still applies since we can view each

voter as encompassing the voting power of a single unit stake.

14

m Number of (candidate) block producers

n

pj

Number of voters

A priori probability block producer candidate j is honest

pm The base signal for a malicious candidate producer

ph

σij

k

The base signal for an honest candidate producer

Standard deviation of the noise, (cid:15)ij for voter i, and producer j

Elected Committee size

s∗
ij Voter i’s raw signal about producer j

sij

Producer j’s posterior probability of being honest, conditioned on s∗
ij.

Table 1: Notation

While voters’ optimization problem is well-deﬁned, computing the objective function Pr [TA = H]

is challenging. As a ﬁrst step, we need to deﬁne the types of voting strategies that are accessible

to agents. This is the goal of the next section.

5.2 Class of Voting Strategies

m is a possible voting strategy.

In principle, any function f : [0, 1]m

0, 1
}
however, that any reasonable strategy should be coordinate-wise non-decreasing, i.e., if s(cid:48)j > sj and
m, and if f (s1, . . . , sj
f (s1, . . . , sm) = (y1, . . . , ym)
1, s(cid:48)j, sj+1, . . . , sm) = (y(cid:48)1, . . . , y(cid:48)m) then
}
−
yj. In other words, if one candidate’s signal increases (while the other signals remain the
y(cid:48)j ≥
same) this cannot cause the voter to switch their vote away from the candidate. If we also assume

It seems clear,

→ {

⊂ {

0, 1

that, aside from the signals, the candidates are otherwise indistinguishable to each voter, then a

class of reasonable voting strategies would be to sort the candidates by their signal and vote for

the top t candidates. With this intuition we will now consider the reasonable strategies described

above as the class S.

Within this broad class, we also single out two particularly simple and intuitive strategies related

to our empirical observations, that users could follow: threshold voting (Deﬁnition 5) and cardinal

voting (Deﬁnition 6).

Deﬁnition 5 (Threshold Voting). Voter vi is said to follow the threshold voting strategy if (prior to
seeing the realization his or her signals), voter vi chooses a threshold zi ∈
all producers cj, with probability of being honest higher than the threshold sij = Pr

[0, 1] and voter vi votes for

(cid:104)
cj = H

>

(cid:105)

(cid:12)
(cid:12)
(cid:12) s∗ij

zi.

If we deﬁne pij

def= Pr [sij > zi], then pij is the probability that voter i votes for producer j

15

(assuming voter i is following the threshold voting strategy). Summing over all n voters, the

number of votes received by producer j is distributed as the sum of n Bernoulli random variables

with parameters p1j, . . . , pnj. If p1j =

· · ·

= pnj, then the number of votes received by producer

j is a binomial random variable. When the pij are distinct, then the number of votes received by

producer j is a Poisson Binomial Random Variable. See Appendix B for a review of known facts

about the Poisson Binomial Distribution.

This characterization of the distribution of votes when voters follow the threshold voting strategy

will be important as we study the dynamics of this strategy in Section 6.

Deﬁnition 6 (Cardinal Voting). Voter vi is said to follow the cardinal voting strategy if (prior
to seeing the realization his or her signals), voter vi creates a strategy zi ∈ {
orders producers according to their probability of being honest sij = Pr

, then voter vi
1, . . . , t
}
(cid:12)
(cid:105)
(cid:12)
(cid:12) s∗ij

(cid:104)
cj = H

and votes for

the top zi producers in the list.

When voters follow the cardinal voting strategy, the number of votes received by each producer is

still distributed as a Poisson Binomial random variable, but now the parameters pij (the probability

that voter i votes for candidate j) are much more diﬃcult to compute.

Connecting this back to the empirical voting strategies discussed in Section 4.2, Figure 1 shows

that EOS voters tend to follow the cardinal voting strategy with z = 1, 21 or 30.

6 Analysis

We begin our analysis by characterizing the probability of electing an honest committee in the

most general terms possible (Section 6.1) and unveiling some associated complexities (Section 6.2).

We then examine outcomes in a special single-voter/signal pooling case which helps build intuition

(Section 6.3), before looking at the general multi-voter case (Section 6.4). The results obtained

raise additional questions about asymptotic optimality (Section 6.5). We then compare DPoS to

other PoS-based mechanisms (Section 6.6).

6.1 The Probability of Electing an Honest Committee

The ﬁrst step in the analysis is to determine the objective function of the optimization, which is

the probability that an elected committee is honest.

Theorem 1 (Success Probability). Suppose there are m producers, and each producer is honest

independently with probability p. The probability that there are at least

2/3
(cid:100)

·

k

(cid:101)

honest producers

16

in a committee of size k, is given by:

Pr [T = H] =

m
(cid:88)

(cid:18)m
a

(cid:19)

pa(1

p)m

a +
−

−


(cid:100)


1/3

a=m

−(cid:100)
k
2/3
·
(cid:88)

(cid:101)−

1

k

+1
(cid:101)
·
(cid:19) (cid:18)(cid:16)
(cid:18)a
j

(cid:17)j (cid:16)

F h(x)

1

−

F h(x)

m

1/3
k
(cid:101)(cid:88)
−(cid:100)
·

2/3

k

·

a=
(cid:100)
(cid:17)a

j

−

(cid:101)
(cid:16)

−

(cid:19)

(cid:18)m
a

pa(1

−

p)m
−

a

(cid:34)

n
(cid:88)

x=0

F h(x) + f h(x)

(cid:17)j (cid:16)

1

−

F h(x)

−

(cid:17)a

−

f h(x)



j(cid:19)



j=0

k
1/3
·
(cid:100)
(cid:88)

(cid:101)−

1





j=0

(cid:19)

(cid:18)b
j

(1

−

F m(x) + f m(x))j (F m(x)

f m(x))b

j
−

−





(cid:35)
,

(7)

where f h, F h are the PDF and CDF of the number of votes received by an honest producer, and

f m, F m are the PDF and CDF of the number of votes received by a dishonest producer.

All proofs are in the Appendix. Theorem 1 is very general, in the sense that it gives the

expression for the probability of electing an honest committee under any type of voting strategy –

provided that the distribution of votes (f h, f m) can be computed.

Note, in Theorem 1 and for the rest of this section, we assume that producers are indistinguish-

able except for their type, meaning, the variance of the noise σij = σi, for 1
This implies there is a single pdf, f h(x) that denotes the probability an honest producer receives x

m in Equation 2.

≤

≤

j

votes. This simpliﬁcation is done purely for expositional purposes; to obtain the result for the more

general case, one would need to replace Theorem 9 (used in the proof of Theorem 1) by the more

general Bapat-Beg Theorem (Bapat and Beg 1989). The resulting expression remains closed-form,

but is too cumbersome for display.

Theorem 2 gives the general form of the distribution of votes (f h, f m) received by honest and

dishonest producers given the probability that voter i casts a vote for producer j.

Theorem 2 (Distribution of Votes). For a producer, j, let ph

i ) denote the probability
that voter i casts a vote for producer j conditioned on producer j being honest (resp. dishonest).

i (resp. pm

Then the probability distribution of the number of votes received for honest and dishonest producers

is given by

f h(x) =

(cid:88)

(cid:89)

f m(x) =

Fx
A
∈
(cid:88)

A
i1
∈
(cid:89)

A

Fx

∈

i1

A

∈

ph
i1

pm
i1

1

1

(cid:89)

Ac
i2
∈
(cid:89)

Ac

i2

∈

ph
i2

−

pm
i2 ,

−

(8)

(9)

where Fx is the set of all subsets of x integers that can be selected from

1, 2, 3, ..., n
{

.
}

17

Combining Theorems 1 and 2 gives a closed-form expression for the success probability whenever

i can be calculated. In Propositions 1 and 2, we show how to calculate those probabilities

i and pm
ph
for the two simple strategies we singled out.

Proposition 1 (Threshold voting). For a producer j, let ph

i (resp. pm

i ) denote the probability that

voter i casts a vote for producer j conditioned on producer j being honest (resp. dishonest).

When voters follow the threshold strategy (Deﬁnition 5) with threshold, zi,

ph
i = 1

Φ

−

(cid:18) h−

1(zi)
σi

(cid:19)

ph

,

−

pm
i = 1

Φ

−

(cid:18) h−

1(zi)
σi

(cid:19)

pm

,

−

where Φ is the density function of the standard normal distribution, and

1(q) def=

h−

p2
h −

is derived in Lemma 2.

(cid:16) p(1
(1

q)
−
p)q

(cid:17)

−

2σ2 log

p2
m −
2(ph −

pm)

(10)

(11)

Proposition 2 (Cardinal voting). With notation as in Proposition 1, when voters follow the car-

dinal strategy (Deﬁnition 6) with cardinal, zi, then

ph
i =

pm
i =

m
(cid:88)

a=0
m
(cid:88)

a=0

pa(1

pa(1

−

−

(cid:90)

∞

p)m
−

a

p)m

−

a

−∞

∞

(cid:90)

−∞

FYi(x)fsi|

H (x) dx,

FYi(x)fsi|

M (x) dx,

(12)

(13)

where

FYi(x) =

m
(cid:88)

l=zi
(cid:88)

(a!(m
zi!(m

a)!)2
zi)!
(cid:19)
(cid:0)Fsi|

−
−
(cid:20)(cid:18) zi
λ1

λ1

0
≤
λ2

≤

≤
m

zi

−

zi

≤

0

(cid:1)λ1 (cid:0)Fsi|

M

H

(cid:1)zi−

λ1

(cid:18)m

−
λ2

(cid:19)

zi

(cid:0)1

(cid:1)λ2 (cid:0)1

Fsi|

H

−

Fsi|

M

−

(cid:1)m

−

λ2

zi−

(cid:21) (14)

and fsi|

H , Fsi|

H , fsi|

M , Fsi|

M are derived in Lemma 2.

6.2 Complexity of the Optimal Voting Strategy

Combining Theorems 1 and 2 with Propositions 1 or 2, results in highly complex objective functions,

and this makes the voters’ general optimization problem in (6) challenging. To understand the origin

of this complexity, we visualize below the objective function, that is, the probability of electing an

honest committee, focusing on the case where voters follow a simple threshold voting strategy (the

more tractable of the two voting strategy classes).

18

As a ﬁrst step, we plug Proposition 1, into Theorems 1 and 2, which gives the exact probability

of success as a function of the threshold chosen. Figure 3 shows the success probability under

threshold voting, for small numbers of voters (n = 1 to n = 4). Although, in practice, systems

have many more voters, these graphs highlight the complex dynamics of approval voting.

Figure 3: Success probability as a function of threshold chosen, assuming small number of voters (n

). Key Takeway: The number of local optima increases with n.
1, 2, 3, 4
}
{

∈

The optimal thresholds tend to hover around 0.5

0.7, meaning that with these parameters,

−

voters should vote for any candidate, j, whose posterior probability, sij, is above this threshold and

not vote for any candidate below this threshold. The thinness of the peaks, however, indicates that

even small deviations from the optimal strategy can drastically reduce the success probability. In

addition, the number of local optima increases with n. These properties can make the optimization

problem intractable at relatively low or medium values of n (with the exception of n = 1, for which

the objective is unimodal).

Next, we examine the situation for a large number of voters n = 100, in Figure 4.

19

00.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5,n=1)ph=.55,n=100.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5,n=3)ph=.55,n=300.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5,n=2)ph=.55,n=200.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5,n=4)ph=.55,n=4Figure 4: Success probability as a function of threshold chosen, assuming large number of voters (n = 100).

Key Takeway: For large n, the probability of success goes to 100% across a wide range of thresholds, and

thus a wide range of voting strategies yields nearly optimal results.

Figure 4 shows that for large n, the previous issues fade: the local optima tend to merge, and

almost any reasonable threshold has an almost 100% probability of success.

Combining insights from Figures 3 and 4, we conclude that the voters’ problem behaves dras-

tically diﬀerently depending on low vs. high-number of voters, and hints that asymptotic analysis

may oﬀer more tractable results.

Next, we analytically characterize (to the extent possible) the optimality of voting strategies,

separating the n = 1 case from the general n > 1 case.

6.3 Special Cases: Single-Voter & Signal Pooling

In this section we consider the special case of a single voter (n = 1). Beyond letting us build

intuition, we show that the general n > 1 case, collapses to n = 1 when voters are allowed to

credibly (and costlessly) share their signals. This is more than a mere hypothetical exercise. Signal

pooling has no obvious downside in our setting given voter incentives are aligned, and thus could

be plausible in practice.

Single Voter

Before presenting the result, we introduce one intermediate technical lemma that will be useful

throughout the analysis.

Lemma 1. Suppose X is a Poisson Binomial random variable with k trials and let XP with

P =

pj1, . . . , pjk }

{

denote the Poisson Binomial with parameters (pj1, . . . , pjk ). Let m

k, and x

≥

20

00.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5,n=100)ph=.55,n=100be positive integers,

p1, . . . , pm} ⊆
{

[0, 1]m such that p1 ≥ · · · ≥

pm then

p1, . . . , pk}

{

.

argmax
p1,...,pm

⊆{

Pr[XP > x] =
}

P

To understand the implication of Lemma 1, consider a k-winner approval voting system in

which candidates have posterior probabilities of being honest s1, . . . , sm. Suppose the subset of

candidates elected to the committee is T =
.
sj1, . . . , sjk }
{
probability sjl then the number of honest candidates on the committee X is a Poisson Binomial

If we think about the realization of honesty of each candidate as a trial l with

so that their posterior probabilities are

cj1, . . . , cjk }

{

with parameters (sj1, . . . , sjk ). The success probability, e.g. the probability of an honest committee

is the probability that the number of honest candidates on the committee is at least 2/3k. Lemma

1 implies that the success probability is maximized when each of the posterior probabilities of the

diﬀerent candidates is as high as it can be.

Proposition 3 (Optimality of Cardinal voting when n = 1). Consider a k-winner approval voting

system with n = 1 voter and m

≥

strategy with z = k.

k candidates, then the globally optimal strategy is the cardinal

Proposition 3 follows from the fact that if there is only a single voter, that voter possesses

all relevant information about each producer’s type, and the voter can unilaterally decide the

committee. Thus the optimal strategy is to form the committee from the candidates that have the

highest (posterior) probability of being honest. In other words, the voter should vote for the top k

candidates (when sorted accorded to their posterior probability of being honest), and this strategy

is optimal across all possible strategies, not just cardinal or threshold voting.

Proposition 4 (Suboptimality of Threshold voting when n = 1). Consider a k-winner approval

voting system with n = 1 voter and m

≥

k candidates, then any threshold strategy is not optimal.

More speciﬁcally, when we say a strategy A

S is not optimal we mean that there is a non-

∈
zero probability event (realization of signals) in which the non-optimal strategy achieves a success

probability that is strictly smaller than would be achieved using a diﬀerent strategy B

Pr [TA = H

|

(si)n

i=1] < Pr [TB = H

|

(si)n

i=1] , for Pr[(si)n

i=1] > 0.

S.

∈

(15)

In particular, in the proof of Proposition 4 we show Equation (15) is true for n = 1 and A =

Threshold, B = Cardinal. In other words, we show that for n = 1 the threshold strategy gives a

strictly lower success probability than the cardinal strategy.

21

Signal Sharing/Pooling

If voters could credibly (and costlessly) share their private signals, then it is straightforward to

show that they eﬀectively act as a single voter.

As in the private signal setting, each voter can calculate the probability that a given producer

is honest, conditioned on the received signals. But now, we assume voters can condition on all the

signals. We calculate the resulting posterior probability in Lemma 3 in Appendix A.1.

Proposition 5 shows that when voters share their signal, the optimal strategy (out of all possible

strategies) is to follow the cardinal voting strategy with threshold z = k.

Proposition 5 (Optimality of Cardinal Voting with Shared Signals). Consider a k-winner approval

voting system with n > 0 voters, m

≥

k candidates and such that voters’ private signals are credibly

shared. Then the globally optimal strategy is the cardinal strategy with z = k where each voter vi is

ranking based on the shared sj instead of their private sij.

A natural question that follows is, whether cardinal voting persists to be the optimal strategy

in the general multi-voter case. We examine this in the next section.

6.4 General Case: Multiple Voters

Given we show in the previous Section 6.3 that the threshold strategy is already suboptimal for

n = 1, while the cardinal strategy is in fact optimal for n = 1, we focus our attention here on the

latter.

In the multi-voter setting (n > 1), the optimal cardinal strategy becomes extremely complex

and even computing the exact success probability for a ﬁxed strategy is diﬃcult. Despite this, we

can formally show that the cardinal strategy that was always optimal with n = 1 may become

suboptimal with n > 1.

Proposition 6 (Suboptimality of Cardinal voting when n > 1). Consider a k-winner Approval

Voting system with n > 1 voter and m

≥

k candidates, then the cardinal strategy can be suboptimal.

Intuitively, this result occurs because a vote for a candidate can actually bump other candidates

out of the committee. To dig deeper, consider a situation with two voters (voter 0 and voter
1), where voter 0 has better information than voter 1, (i.e., σ0j (cid:28)
if σ1j is large, voter 1’s signals convey information (a single voter who had access to the signals

σ1j for all j

[m]). Even

∈

(s01, . . . , s0m) and (s11, . . . , s1m) would do better than one with access to (s01, . . . , s0m) alone). The

problem is that voter 1 can only convey information about their signal through discrete votes, and

22

a vote for candidate j may be too strong an endorsement for that candidate given that the signal

s1j is only weakly informative.

As an extreme case, consider a situation where voter 0 is perfectly informed (i.e., voter 0 can

diﬀerentiate between honest and dishonest producers with probability 1), and voter 1 is perfectly

uninformed (i.e., from voter 1’s perspective, each candidate is honest independently with probability

p, in other words s1j = p for all j

∈

[m] ). In this case, it should be clear that voter 1 should not

cast any votes, while voter 0 should cast k votes.

The suboptimality of the cardinal voting strategy persists even if both voters have the same

information (i.e., (cid:15)0j = (cid:15)1j for j

∈

[m]). This is because the realized signals can convey diﬀerent

amounts of information. For example, suppose voter 0’s sorted signals are s0j0

1 ≥

s0j0

and voter 1’s sorted signals are s1j1

1 ≥ · · · ≥

s1j1

m

. Suppose as well that s0j0

2 ≥ · · · ≥
s0j0

k+1

k (cid:29)

s0j0

m

, but

k+1

k ≈

k−1 ≈

. In this case, voter 0 has high conﬁdence that the committee should consist

s1j1
s1j1
s1j1
of the candidates (cid:8)j0
The cardinality strategy with threshold k would force voter 1 to vote for j1
k

k+1.
k+1,
and this vote (based on little information) could displace committee members who would have been

(cid:9), but voter 1 is essentially indiﬀerent between candidates j1
k, j1
1, j1
k
−
k, but not j1

1 and j1
−

1 , . . . , j0
k

elected by voter 0 (whose signals were very informative).

6.5 Asymptotic Optimality

So far, we have established via Proposition 4, that the threshold strategy is suboptimal, and via

Proposition 6, that the cardinality strategy may be suboptimal. However, our basic numerical

study in Section 6.2 suggests that as the number of voters increases, this optimality gap becomes

less important.

Theorem 3 (Exponential Convergence). Let

M

denote the set of dishonest producers, and suppose

there exists a set of honest producers,

, with

∈H
pij + δ, where pij denotes the probability that voter i votes for producer j. Then

∈

H

|H| ≥

2/3k, and a δ > 0 such that mini

[n],j

maxi

[n],j

∈

∈M

Pr [T = H]

1

−

≥

2m2e−

δ2n/2.

pij ≥

(16)

Theorem 3 shows that as the number of voters, n, tends to inﬁnity, almost any reasonable

strategy has a very high chance of electing an honest committee. In particular, as long as signals

are not completely uninformative, that is, as long as there exists a δ > 0 gap pij > pij(cid:48) + δ when j

is honest and j(cid:48) is dishonest, the probability of an honest committee tends to one exponentially in

the number of voters n (assuming there are enough honest producers to ﬁll the committee). The

lower bound on the success probability decreases quadratically in the number of block producer

23

candidates m, because if there are too many block producers relative to the number of voters, no

single block producer can amass enough votes to make it onto the committee with high probability.

As long as there are not too many candidates, however, the exponential dependence on the number

of voters dominates the quadratic dependence on the number of producer candidates. Importantly,

this result holds across all voting strategy classes, and this leads to the following two corollaries.

Corollary 1. If ph > pm, and mp

(cid:29)

k, then the probability of an honest committee when all voters

follow the Threshold strategy converges to 1 as m, n

→ ∞

(assuming n

m).

(cid:29)

Corollary 2. If ph > pm, and mp

(cid:29)

k, then the probability of an honest committee when all voters

follow the Cardinality strategy converges to 1 as m, n

→ ∞

(assuming n

m).

(cid:29)

Figure 5 illustrates the exponential convergence result, assuming each voter follows a generally

suboptimal Threshold Voting strategy (Deﬁnition 5) with z = p. The ﬁgure shows that as long as
the signals are not completely uninformative (ph (cid:54)
to 100%.

= 0.5), the probability of success rapidly converges

Figure 5: Rate of Convergence to Optimality under the suboptimal threshold voting strategy. Key Take-

away: The success probability quickly goes to one, as n increases.

Note, convergence to optimality also holds (more trivially) for other asymptotics of interest,

such as if the signal informativeness ph−

pm
σ → ∞

or if the prior p

→

1. See Appendix E for an

illustration.

6.6 Eﬃciency Gains over Alternative Proof of Stake Protocols

Since most Proof of Stake systems support delegation, the main diﬀerence between Proof of Stake

and Delegated Proof of Stake comes down to how the block producers are elected – either by lottery

or by vote.

24

00.20.40.60.81510152025303540SuccessprobabilityPr[TA=H]Numberofvoters(n)Successprobability(m=200,pm=.5,p=.5)ph=.5ph=.51ph=.52ph=.55In DPoS, as discussed, each block is certiﬁed by a committee using a traditional consensus

mechanism (like PBFT), and this allows the blockchain to have immediate ﬁnality. This feature is

not restricted to DPoS, and PoS systems also use committees to run classical consensus mechanisms.

For example, Algorand uses (randomly selected) committees to certify each block.

Intuitively speaking, allowing users to vote, should increase the probability of electing an honest

committee, and thus reduce the size of the committee needed to ensure that it reaches the critical

(2/3rd) threshold of honest members. For example, Algorand suggests a target committee size of

about 1500, instead of 21 for EOS (Chen and Micali 2016)[Section 5.1].

In Figure 6, we plot the minimum committee size necessary to achieve a desired failure proba-

bility, when the committee is chosen randomly (as in Algorand) or according to an approval vote

(as in DPoS). Even when the voters have only minimal information (pm = .5, ph = .55 and σ = .1),

allowing users to vote for candidates drastically reduces the size of the committee necessary to

achieve a speciﬁc failure bound. Since the committee executes a Byzantine Agreement protocol

with communication cost that is quadratic in the committee size, k, minimizing the committee size

is critical for performance.

Figure 6: The minimum committee size required (y axis) to achieve a failure probability of 10−x, x

[3, 10],

∈

when the committee is chosen at random (as in Algorand) vs. when the committee is elected by voters (as

in DPoS). Key takeaway: DPoS consensus requires much smaller committee sizes for the same level of

security.

Note, Figure 6 was generated assuming the voters follow the threshold voting strategy with

z = p. Since we know this strategy is suboptimal, the ﬁgure can be viewed as a conservative

estimate. In other words, plotting a similar ﬁgure for the optimal election strategy would further

reinforce our key insight.

25

05010015020025030035040010−310−410−510−610−710−810−910−10MinimumCommitteeSizeFailureprobabilityCommitteesize(m=500,n=100,pm=0.50,ph=0.51,p=0.75)ElectedCommitteeRandomcommittee7 Discussion

Our results suggest that while voters in committee-based consensus seem to be following intuitive,

yet suboptimal strategies, these systems are nonetheless asymptotically robust and eﬃcient from

an election perspective. Beyond optimizing to reduce failure rates, however, our model does not

deal with other features that voters may care about (a discussion can be found in Appendix D).

These are outside the scope of this work, but could be of interest for future work.

For instance, one drawback of electing committees (as in Cosmos, EOS and TRON) as opposed

to selecting random committees (as in Algorand) is that elections seems to lead to stagnation,

especially early on in the blockchain life-cycle. EOS represents a rather extreme example: The

ﬁrst 89 million EOS blocks were mined by only 63 distinct producers Zheng et al. (2020b). By

comparison, the ﬁrst 655,000 Bitcoin blocks were mined by more than 275,000 distinct addresses,

and the ﬁrst 8 million Ethereum blocks were mined by over 5000 distinct addresses Zheng et al.

(2020a).

A small, static set of block producers reduces decentralization – a core tenet of almost all

cryptocurrencies. The idea that there should be a diversity of block producers is core to the open,

democratic ideals that spawned much of the blockchain ecosystem, and the idea that there should

be turnover in the set of block producers has been formalized in the notion of chain quality which

is a measure of fairness. Chain quality is a measure of whether (in suﬃciently long time windows)

the fraction of blocks contributed by each participant is proportional to their hash power or stake

Garay et al. (2015).

Chain quality is a diﬀerent metric by which we could measure diﬀerent election mechanisms,

and this could be an interesting direction for future research.

References

Agarwal M, Aggarwal V (2018) Regret bounds for stochastic combinatorial multi-armed bandits with linear

space complexity. arXiv preprint arXiv:1811.11925.

Alsabah H, Capponi A (2020) Pitfalls of bitcoin’s proof-of-work: R&d arms race and mining centralization.

Available at SSRN 3273982 .

Bapat R, Beg M (1989) Order statistics for nonidentically distributed variables and permanents. Sankhy¯a:

The Indian Journal of Statistics, Series A 79–93.

Bentov I, Pass R, Shi E (2016) Snow white: Provably secure proofs of stake. IACR Cryptol. ePrint Arch.

2016(919).

26

Biais B, Bisiere C, Bouvard M, Casamatta C (2019) The blockchain folk theorem. The Review of Financial

Studies 32(5):1662–1715.

Binance (2020) Delegated proof of stake explained. URL https://academy.binance.com/en/articles/

delegated-proof-of-stake-explained.

Binance Academy (2021) https://academy.binance.com/en/glossary/transactions-per-second-tps.

Bitcoin Wiki (2021) https://en.bitcoin.it/wiki/Confirmation.

Bitshares (2021) Delegated proof of stake (dpos). URL https://how.bitshares.works/en/master/

technology/dpos.html.

Brams S, Fishburn PC (2007) Approval Voting

(Springer), URL http://dx.doi.org/10.1007/

978-0-387-49896-6.

Buchman E (2016) Tendermint: Byzantine fault tolerance in the age of blockchains.

Cambridge University (2021) Cambridge bitcoin electricty consumption index. URL https://cbeci.org/.

Castro M, Liskov B (1999) Practical byzantine fault tolerance. Proceedings of the Third Symposium on

Operating Systems Design and Implementation, 173–186 (USENIX Association).

Cesa-Bianchi N, Lugosi G (2012) Combinatorial bandits. Journal of Computer and System Sciences

78(5):1404–1422.

Chen J, Micali S (2016) Algorand. ArXiv: abs/1607.01341.

Chen W, Hu W, Li F, Li J, Liu Y, Lu P (2016) Combinatorial multi-armed bandit with general reward

functions. Proceedings of the 30th International Conference on Neural Information Processing Systems,

1659–1667.

Chen W, Wang Y, Yuan Y (2013) Combinatorial multi-armed bandit: General framework and applications.

International Conference on Machine Learning, 151–159 (PMLR).

Combes R, Talebi MS, Proutiere A, Lelarge M (2015) Combinatorial bandits revisited. arXiv preprint

arXiv:1502.03475 .

Cong LW, He Z, Li J (2021) Decentralized mining in centralized pools. The Review of Financial Studies

34(3):1191–1235.

Copeland T (2020) Steem vs tron: The rebellion against a cryptocurrency empire. Decrypt .

Cosmos (2021) Validator FAQ. https://hub.cosmos.network/main/validators/validator-faq.html.

Cryptopedia (2021) What are proof of

stake

(PoS) and delegated proof of

stake

(DPoS)?

URL

https://www.gemini.com/cryptopedia/proof-of-stake-delegated-pos-dpos#

section-delegated-proof-of-stake.

Daian P, Goldfeder S, Kell T, Li Y, Zhao X, Bentov I, Breidenbach L, Juels A (2020) Flash boys 2.0:

Frontrunning in decentralized exchanges, miner extractable value, and consensus instability. 2020 IEEE

Symposium on Security and Privacy (SP), 910–927 (IEEE).

27

Dubhashi DP, Panconesi A (2009) Concentration of measure for the analysis of randomized algorithms

(Cambridge University Press).

Easley D, O’Hara M, Basu S (2019) From mining to markets: The evolution of bitcoin transaction fees.

Journal of Financial Economics 134(1):91–109.

Elkind E, Faliszewski P, Skowron P, Slinko A (2017) Properties of multiwinner voting rules. Social Choice

and Welfare 48(3):599–632.

EOS A (2018) EOS voting guide. https://medium.com/@auroraeos/eos-voting-guide-3bf4e0be251b.

Fanti G, Kogan L, Viswanath P (2019) Economics of proof-of-stake payment systems. Technical report,

Working paper.

Fern´andez M, Williams S (2010) Closed-form expression for the poisson-binomial probability density function.

IEEE Transactions on Aerospace and Electronic Systems 46(2):803–817.

Flashbots (2021) https://explore.flashbots.net/.

Gan J, Tsoukalas G, Netessine S (2021a) Initial coin oﬀerings, speculation, and asset tokenization. Manage-

ment Science 67(2):914–931.

Gan R, Tsoukalas G, Netessine S (2021b) To inﬁnity and beyond: Financing platforms with uncapped crypto

tokens. Available at SSRN 3776411 .

Garay J, Kiayias A, Leonardos N (2015) The Bitcoin backbone protocol: Analysis and applications. EURO-

CRYPT, 281–310 (Springer).

Garratt R, van Oordt MR (2020) Why ﬁxed costs matter for proof-of-work based cryptocurrencies. Available

at SSRN 3572400 .

Gaˇzi P, Kiayias A, Zindros D (2019) Proof-of-stake sidechains. 2019 IEEE Symposium on Security and

Privacy (SP), 139–156 (IEEE).

Gleehokie, 1337micro, Chanryma,

testzcrypto, hkshwa, bytemaster, nathanhourt

(2018) EOS.IO

technical white

paper

v2. URL https://github.com/EOSIO/Documentation/blob/master/

TechnicalWhitePaper.md.

Glueck DH, Karimpour-Fard A, Mandel J, Hunter L, Muller KE (2008) Fast computation by block perma-

nents of cumulative distribution functions of order statistics from several populations. Communications

in Statistics - Theory and Methods 37(18):2815–2824.

Hu Q, Yan B, Han Y, Yu J (2021) An improved delegated proof of stake consensus algorithm. Procedia

Computer Science 187:341–346.

Huberman G, Leshno JD, Moallemi C (2021) Monopoly without a monopolist: An economic analysis of the

bitcoin payment system. The Review of Economic Studies ISSN 0034-6527, URL http://dx.doi.org/

10.1093/restud/rdab014, rdab014.

Hui A (2020) Arbitration challenged in hostile work environment lawsuit. https://www.coindesk.com/

markets/2020/07/09/tron-arbitration-challenged-in-hostile-work-environment-lawsuit/.

28

InsideTheSimulation (2021) https://ethmerge.com/.

John K, Rivera TJ, Saleh F (2020) Economic implications of scaling blockchains: Why the consensus protocol

matters. Available at SSRN .

Kiayias A, Russell A, David B, Oliynykov R (2017) Ouroboros: A provably secure proof-of-stake blockchain

protocol. Annual International Cryptology Conference, 357–388 (Springer).

Kilgour D (2010) Approval balloting for multi-winner elections. Handbook on Approval Voting (Springer,

Berlin, Heidelberg).

Kogias EK, Jovanovic P, Gailly N, Khoﬃ I, Gasser L, Ford B (2016) Enhancing Bitcoin security and per-

formance with strong consistency via collective signing. 25th USENIX security symposium USENIX

security 16), 279–296.

Lamport L, Shostak R, Pease M (1982) The Byzantine generals problem. ACM Transactions on Programming

Languages and Systems 4(3):382–401.

Leonardos S, Reijsbergen D, Piliouras G (2020) Weighted voting on the blockchain: Improving consensus in

proof of stake protocols. International Journal of Network Management 30(5):e2093.

Lewis-Pye A, Roughgarden T (2020) A general framework for the security analysis of blockchain protocols.

arXiv preprint arXiv:2009.09480 .

Lewis-Pye A, Roughgarden T (2021) How does blockchain security dictate blockchain implementation? arXiv

preprint arXiv:2109.04848 .

Meng Y, Cao Z, Qu D (2018a) A committee-based byzantine consensus protocol for blockchain. 2018 IEEE

9th International Conference on Software Engineering and Service Science (ICSESS), 1–6 (IEEE).

Meng Y, Cao Z, Qu D (2018b) A committee-based byzantine consensus protocol for blockchain. 2018 IEEE

9th International Conference on Software Engineering and Service Science (ICSESS), 1–6 (IEEE).

Nakamoto S (2008) Bitcoin: A peer-to-peer electronic cash system. Decentralized Business Review 21260.

Niemi RG (1984) The problem of strategic behavior under approval voting. The American Political Science

Review 78(4):952–958, ISSN 00030554, 15375943, URL http://www.jstor.org/stable/1955800.

NY E (2019) The missing piece to the EOS incentive model: Part 1. https://medium.com/eos-new-york/

the-missing-piece-to-the-eos-incentive-model-bd39977d243f.

Pagnotta ES (2021) Decentralizing money: Bitcoin prices and blockchain security. The Review of Financial

Studies ISSN 0893-9454, URL http://dx.doi.org/10.1093/rfs/hhaa149, hhaa149.

Pham TD, Tran LT (1982) On functions of order statistics in the non IID case. Sankhy¯a: The Indian Journal

of Statistics, Series A 251–261.

Prat J, Walter B (2021) An equilibrium model of the market for bitcoin mining. Journal of Political Economy

129(8):000–000.

Rejwan I, Mansour Y (2020) Top-k combinatorial bandits with full-bandit feedback. Algorithmic Learning

Theory, 752–776 (PMLR).

29

Ro¸su I, Saleh F (2021) Evolution of shares in a proof-of-stake cryptocurrency. Management Science

67(2):661–672.

Rubin J (2021) Block.one pays $27.5m to settle class-action lawsuit. Coindesk .

Saleh F (2021) Blockchain without waste: Proof-of-stake. The Review of ﬁnancial studies 34(3):1156–1190.

The Block (2021) https://www.theblockcrypto.com/data/on-chain-metrics/ethereum.

The Interchain Foundation (2017) https://blog.cosmos.network/consensus-compare-tendermint-bft-vs-eos-dpos-46c5bca7204b.

TRON (2018) TRON whitepaper version 2.0. https://tron.network/static/doc/white_paper_v_2_0.

pdf.

Tsoukalas G, Falk BH (2020) Token-weighted crowdsourcing. Management Science 66(9):3843–3859.

Xu B, Luthra D, Cole Z, Blakely N (2018) EOS: An architectural, performance, and economic analysis.

Retrieved June 11:2019.

Yang F, Zhou W, Wu Q, Long R, Xiong NN, Zhou M (2019) Delegated proof of stake with downgrade: A

secure and eﬃcient blockchain consensus algorithm with downgrade mechanism. IEEE Access 7:118541–

118555.

Zheng P, Zheng Z, Wu J, Dai HN (2020a) Xblock-ETH: Extracting and exploring blockchain data from

Ethereum. IEEE Open Journal of the Computer Society 1:95–106.

Zheng W, Zheng Z, Dai HN, Chen X, Zheng P (2020b) Xblock-EOS: Extracting and exploring blockchain

data from EOSIO. arXiv preprint arXiv:2003.11967.

30

Appendix

A Proofs

A.1 Posterior probabilities

Lemma 2. Let c be a producer with a priori probability to be honest p, suppose a voter receives a

signal

s∗ =




ph + (cid:15) if Producer j is honest



pm + (cid:15) if Producer j is malicious

with (cid:15)

∼ N

(0, σ2), then

(i) Pr [c = H

s∗] =

|

1

1 + 1
p
p e
−

(s∗−ph)2−(s∗−pm)2
2σ2

(ii) fs

|

H (x) =

√2πx(1

σ
x)(ph −

−

(ph−pm)2+2σ2 log
√
2

2σ(ph−pm)

(cid:18) p(1−x)
(1−p)x

(cid:19)



2







−

e

pm) ·

One useful implication of Lemma 2 is that we can interchangeably talk about the voters considering

the probabilities of producers to be honest conditioned on their signals instead of the original signals.

Meaning, the model facilitates comparisons with Bayesian posteriors. In particular conditioned on

s∗ij, Lemma 2 shows that the probability that producer cj is honest is

sij

def= Pr[cj = H

s∗ij] =
|

(s∗
ij

1
−ph)2−(s∗
ij
2
2σij

.

−pm)2

1 + 1
−
pj

pj

e

Proof of Lemma 2. Part (i): Let f(cid:15)(x) denote the PDF of (cid:15). Bayes’ Theorem says

Pr [c = H

s∗] =

|

Pr [c = H] Pr [s∗ |
Pr [s∗]

c = H]

=

=

=

Pr [c = H] Pr [s∗ |

c = H]

(Pr [c = H] Pr [s∗ |

c = H] + Pr [c = M ] Pr [s∗ |

c = M ])

1
Pr[s∗
1 + Pr[c=M ]
Pr[s∗
Pr[c=H]
1
f(cid:15)(s∗
f(cid:15)(s∗

1 + 1
−
p

pm)
ph)

p

−
−

c=M ]
c=H]

|
|

Now,

f(cid:15)(x) =

1
σ√2π

x2
2σ2 .

e−

31

(17)

(18)

(19)

(20)

(21)

(22)

(23)

Thus

Part (ii): Let

Pr [c = H

s∗] =

|

1

1 + 1

p
p e
−

(s∗−ph)2−(s∗−pm)2
2σ2

h (s∗) def=

1

1 + 1
p
p e
−

(s∗−ph)2−(s∗−pm)2
2σ2

then s = h(s∗), by Lemma 2.

Since h(

) is strictly increasing, the cumulative density function satisﬁes
·

and the conditional cumulative distribution function satisﬁes

Fs(x) = Fs∗ (cid:0)h−

1(x)(cid:1)

H (x) = Fs∗

Fs

|

H

|

(cid:0)h−

1(x)(cid:1)

(24)

(25)

(26)

(27)

32

Thus it suﬃces to calculate h−

1(
).
·

q =

1

1 + 1
p
p e
−

(s∗−ph)2−(s∗−pm)2
2σ2

(cid:109)

= 1 +

1
q

p

e

1

−
p

(s∗−ph)2−(s∗−pm)2
2σ2

(cid:109)

= e

(cid:19)
1

(s∗−ph)2−(s∗−pm)2
2σ2

(cid:18) 1

p

q −

p

−

1

(cid:109)

= e

(s∗−ph)2−(s∗−pm)2
2σ2

p(1
(1

q)
−
p)q

−

log

2σ2 log

2σ2 log

(cid:18) p(1
(1

q)
−
p)q

−

(cid:18) p(1
(1

q)
−
p)q

−

(cid:18) p(1
(1

q)
−
p)q

−

(cid:19)

(cid:109)

=

(s∗ −

ph)2

(s∗ −

−
2σ2

pm)2

(cid:109)

(cid:19)

= (s∗

ph)2

−

(s∗

−

−

pm)2

(cid:19)

(cid:109)
= 2(pm −

ph)s∗ + p2

h −

p2
m

Thus

h−

1(q) =

p2
h −

Since Fs∗

H (x) = F(cid:15)(s∗ −

|

ph), and

(cid:16) p(1
(1

q)
−
p)q

−

(cid:109)

p2
h −

s∗ =

pm)

2σ2 log

p2
m −
2(ph −
(cid:16) p(1
(1

2σ2 log

q)
−
p)q

−

(cid:17)

p2
m −
2(ph −

pm)

f(cid:15)(x) def=

1
σ√2π

x2
2σ2 ,

e−

We have

Now

H (x) =

fs

|

df
dx

Fs∗

|

H (h−

1(x)

ph)

−

= fs∗

|

H (h−

1(x)

ph)

−

df
dx

·

h−

1(x)

33

(cid:17)

(28)

(29)

(30)

H (h−

1(x)) = f(cid:15)

(cid:0)h−

fs∗

|

1(x)

(cid:1)

−

ph
(h−1(x)−ph)2
2σ2

=

1
σ√2π

e−

=

1
σ√2π

e−

=

1
σ√2π

−
e

d
dx

h−

1(x) =

p2
h −

d
dx

and











−(ph−pm)2−2σ2 log
2(ph−pm)

(cid:18) p(1−x)
(1−p)x

(cid:19)



2





2σ2

(ph−pm)2+2σ2 log
√
2

2σ(ph−pm)

(cid:18) p(1−x)
(1−p)x

(cid:19)



2



2σ2 log

(cid:16) p(1
(1

x)
−
p)x

(cid:17)

−

pm)
(cid:18) p(1
(1

(cid:19)

x)
−
p)x

−

p2
m −
2(ph −
d
log
dx
1

pm

=

=

−

σ2
ph −
σ2
ph −

pm

x(1

x)

−

Thus by Equations 30, 31 and 32





H (x) =

fs

|

1
σ√2π

−
e

(ph−pm)2+2σ2 log
√
2

2σ(ph−pm)

(cid:18) p(1−x)
(1−p)x

(cid:19)



2



=

√2πx(1

σ
x)(ph −

−

pm) ·





−

e

Similarly

·

x(x

−
(ph−pm)2+2σ2 log
√
2

2σ(ph−pm)

σ2
−
1)(ph −

(cid:18) p(1−x)
(1−p)x

(cid:19)

pm)
2




(ph−pm)2−2σ2 log
√
2

2σ(ph−pm)

(cid:18) p(1−x)
(1−p)x

(cid:19)



2



M (x) =

fs

|

√2πx(1

σ
x)(ph −

−

pm) ·





−
e

34

(31)

(32)

(33)

(34)

Figure 7: The probability a producer is honest, conditioned on a single voter’s received signal, s∗

Figure 8: The distribution of the posterior probability, s, conditioned for an honest producer.

Lemma 3. Let cj be a producer with a priori probability to be honest pj, suppose voter vi receives

a signal (s∗ij) about producers cj honesty as in equation (2).

s∗ij =




ph + (cid:15)ij if Producer j is honest



pm + (cid:15)ij if Producer j is malicious

with (cid:15)ij ∼ N

(0, σ2

ij), then

Pr (cid:2)cj = H

(cid:12)
(cid:12) s∗1j, . . . , s∗nj

(cid:3) =

1
i=1 [(s∗
ij

(cid:80)n

.

−pm)2]

−ph)2−(s∗
ij
2σ2
ij

1 + 1
−
pj

pj

e

35

0p1pmpm+ph2phPr[H|s∗]s∗001Pr[s|H]sProof of Lemma 3.

Pr (cid:2)cj = H

(cid:12)
(cid:12) s∗1j, . . . , s∗nj

(cid:3) =

(cid:104)

Pr [cj = H] Pr
(cid:104)
s∗1j, . . . , s∗nj

s∗1j, . . . , s∗nj
(cid:105)

Pr

(cid:12)
(cid:12)
(cid:12) cj = H

(cid:105)

=

(cid:16)

Pr [cj = H] Pr

(cid:104)

(cid:104)

Pr [cj = H] Pr
(cid:12)
(cid:12)
(cid:12) cj = H

s∗1j, . . . , s∗nj

(35)

(cid:105)

s∗1j, . . . , s∗nj
(cid:105)

(cid:12)
(cid:12)
(cid:12) cj = H
(cid:104)

+ Pr [cj = M ] Pr

s∗1j, . . . , s∗nj

(cid:12)
(cid:12)
(cid:12) cj = M

(cid:105)(cid:17)

=

=

=

1 + Pr[cj =M ]
Pr[cj =H]

nj |
nj |

1
1j ,...,s∗
s∗
Pr[
{
1j ,...,s∗
s∗
Pr[
{
1
(cid:81)n
i=1 Pr[s∗
i=1 Pr[s∗

(cid:81)n

ij |
ij |

cj =M]
cj =H]

cj =M]
cj =H]

1 + Pr[cj =M ]
Pr[cj =H]
1
i=1 f(cid:15)ij (s∗
i=1 f(cid:15)ij (s∗

1 + 1
−
pj

(cid:81)n
(cid:81)n

pj

pm)
ph)

ij −
ij −

Now,

Thus

f(cid:15)ij (x) =

x2
2σ2
ij .

e−

1
σij√2π

Pr (cid:2)cj = H

(cid:12)
(cid:12) s∗1j, . . . , s∗nj

(cid:3) =

1
(s∗
ij

(cid:80)n

i=1

.

−ph)

−pm)−(s∗
ij
2σ2
ij

1 + 1

pj

−
pj

e

(36)

(37)

(38)

(39)

(40)

(41)

(42)

A.2 Proofs for Section 6

Proof of Theorem 1. We condition on the number of honest and dishonest producers. There

are m producers, and each is honest with probability p. Suppose there are a honest producers and
b def= m

a dishonest producers. (Note that a

Bin (m, p)).

−

∼

The committee is honest if at least

2/3k
(cid:100)

(cid:101)

of the elected block producers are honest.

Claim 1. The committee is honest if and only if the

2/3k

(cid:100)

(cid:101)

-st top-ranked honest producer has more

votes than the

1/3k
(cid:100)

-th ranked dishonest producer
(cid:101)

Let X h

1 , . . . , X h

a denote the number of votes received by an honest producer j and X h

a,1, . . . , X h
a,a
b denote the number of votes received by a malicious

their order statistics. Similarly, let X m

1 , . . . , X m

36

producer j and X m

b,1, . . . , X m

b,b their order statistics. With this notation Claim 1 becomes:

X h

a,a

2/3k

(cid:101)

−(cid:100)

+1 > X m

b,b

1/3k

+1

(cid:101)

−(cid:100)

(43)

We deﬁne X def= X h

a,a

−(cid:100)

2/3k

+1 and Y def= X m

(cid:101)

b,b

−(cid:100)

1/3k

(cid:101)

+1.

If a <

2/3k
(cid:100)

(cid:101)

then the success probability is zero. Also if a > m

1/3k

− (cid:100)

(cid:101)

then b <

1/3k
(cid:100)

(cid:101)

so the

success probability is 1 hence:

Pr [T = H] =

We have:

m
(cid:88)

a=m

1/3k

+1

(cid:101)

−(cid:100)

Pr [a = a]

1

·

∼

Pr [a = a] +

m

1/3k
(cid:101)(cid:88)
−(cid:100)

2/3k

a=
(cid:100)

(cid:101)

Pr [X > Y

a = a] Pr [a = a]
|

(44)

Bin (m, p) =

(cid:19)

pa(1

(cid:18)m
a

−

p)m

a

−

For any discrete, independent random variables, X and Y

Pr[X > Y ] =

(cid:88)

x

Pr[X = x] Pr[Y < x]

so together with Theorems 8,9 we have:

Pr [X > Y ] =

=

=

n
(cid:88)

x=0
n
(cid:88)

x=0

n
(cid:88)

x=0

Pr[X = x] Pr[Y < x]

fX (x)(FY (x)

fY (x))

−

(cid:34)


2/3k
(cid:88)

(cid:101)−

(cid:100)

1

j=0

(cid:19) (cid:18)(cid:16)

(cid:18)a
j

1

−

F h(x)

(cid:17)j (cid:16)

(cid:17)a

j
−

F h(x)

(cid:16)

1

−

−

F h(x) + f h(x)

(cid:17)j (cid:16)

F h(x)

−

(cid:17)a

−

f h(x)



j(cid:19)



(45)

(46)

(47)

(48)


(cid:100)


1/3k
(cid:88)

(cid:101)−

1

j=0

(cid:19)

(cid:18)b
j

(1

−

F m(x) + f m(x))j (cid:0)F M (x)

f m(x)(cid:1)b
−

j

−



(cid:35)



(49)

(50)

Plugging the last equation and Equation 45 to Equation 44 gives the result.

Proof of Theorem 2.

If the probability that voter i votes for candidate j when candidate j

is honest (resp. dishonest) is ph

i (resp. pm

i ), then the total number of votes for candidate j is

distributed as a Poisson Binomial with parameters ph

1 , . . . , ph

n (resp. pm

1 , . . . , pm

n ).

Then applying Equation 84 in Deﬁnition 7 gives the result.

Proof of Proposition 1. The number of votes received by an honest producer is distributed

according to a Poisson random variable with parameters ph

1 , . . . , ph

n, where

ph
i = 1

= 1

−

−

Fs

|

H (zi)
(cid:18) h−

Φ

1(zi)
σi

(cid:19)

ph

−

(51)

(52)

37

where Φ is the CDF of the standard normal distribution and h−

) is deﬁned in Equation 28.

1(
·

Similarly, the number of of votes received by a dishonest producer is distributed according to a

Poisson random variable with pm

1 , . . . , pm

n , where

pm
i = 1

= 1

−

−

Fs

|

M (zi)
(cid:18) h−

Φ

1(zi)
σi

(cid:19)

pm

−

(53)

(54)

Proof of Proposition 2. When voters follow the cardinal strategy, for voter i to vote for candidate

j, its signal needs to be among the top zi signals, meaning:

pi = Pr [sij is in the top zi signals]

(55)

m,1, . . . , Si

Let Si
by voter i it needs to hold that sij ≥

Si
m,zi so:

m,m denote that order statistics of si1, . . . , sim. Then for candidate j to be chosen

pi = Pr (cid:2)sij ≥
with the last equality since we assumed σij = σi. Let Xi = si and Yi = Si

(cid:3) = Pr (cid:2)si ≥

m,zi

m,zi

Si

Si

(cid:3)

(56)

m,zi then equation 56

becomes:

pi = Pr [Xi ≥

Yi] =

(cid:90)

∞

−∞

Pr [Yi ≤

x] Pr [Xi = x] dx =

(cid:90)

∞

−∞

FYi(x)fXi(x) dx

(57)

As in the Proof of Theorem 1, we condition on the number of honest producers: a. a

Bin (m, p)

∼

where p is the probability of a producer to be honest. The real valued random variables (sij)1

≤

j

m

≤

are drawn from two populations. Lemma 2 provides the PDF and CDF of honest producers
fsi|
1

M . W.L.O.G, suppose that Fsij = Fsi|
m. By Theorem 11 we have that

M , Fsi|
j

H , Fsi|
j

H for all

H and malicious producers fsi|
M for all a + 1
a and Fsij = Fsi|
(a!(m
zi!(m

m
(cid:88)

≤

≤

FYi(x) =

≤

≤

a)!)2
zi)!
(cid:19)
(cid:0)Fsi|

−
−
(cid:20)(cid:18) zi
λ1

l=zi
(cid:88)

0

λ1

0
≤
λ2

≤
m

zi

≤
−
≤
λ1+λ2=a

zi

(cid:1)λ1 (cid:0)Fsi|

M

H

(cid:1)zi−

λ1

(cid:18)m

−
λ2

(cid:19)

zi

(cid:0)1

(cid:1)λ2 (cid:0)1

Fsi|

H

−

Fsi|

M

−

(cid:1)m

−

λ2

zi−

(cid:21) (58)

So ﬁnally Equation 57 becomes:

pi =

m
(cid:88)

a=0

pa(1

−

p)m

a

−

(cid:90)

∞

−∞

38

FYi(x)fsi(x) dx,

(59)

where FYi is given by Equation 58. If the candidate is honest then ph
i
with fsi = fsi|
Equation 59 with fsi = fsi|
Proof of Lemma 1. Follows immediately from Lemma 4,5 and stochastic order deﬁnition 9.

H derived in Lemma 2. Similarly, if the candidate is malicious then pm
i

M .

is given by Equation 59

is given by

Proof of Proposition 3. Suppose that voter v1 receives conditioned signals sj on candidate cj
and they are sorted so that s1 ≥ · · · ≥
candidates on the chosen committee are T =

{
ﬁlled adversarially. Let X be the random variable that is the number of honest producers on the

cj1, . . . , cjz }
Cv1 =
cj1, . . . , cjz , cjz+1, . . . , cjk }

be voter v1 strategy then the

where cjz+1, . . . , cjk are

sm. Let

{

chosen committee. Then X is a Poisson Binomial with probabilities (sj1, . . . , sjz , sjz+1, . . . , sjk ) and

so Pr[T = H] = Pr[X > 2/3k]. Deﬁne XP with P =

sj1, . . . , sjl} ⊆ {
{

s1, . . . , sm}

to be the Poisson

Binomial with parameters (sj1, . . . , sjl) then by Lemma 1 we have (with x = 2/3k) that

argmax
s1,...,sm

⊆{

Pr[XP > 2/3k] =
}

P

s1, . . . , sk}
{

(60)

So by deﬁnition the optimal strategy for v1 is achieved by setting z = k and

Cv1 =
That is, choosing the top z = k candidates which is the Cardinal strategy with z = k.

c1, . . . , ck}

.

{

Proof of Proposition 4. It suﬃces to consider the single voter case. Let z

(0, 1) and suppose

∈

voter v1 receives ordered, conditioned signals sj, follows the threshold strategy and votes for all
candidates sj > z. Let mz ∈
If mz (cid:54)
is not optimal, it remains to show that Pr[mz (cid:54)
Since mz is distributed as a Poisson Binomial with parameters p1, . . . , pm with pj

= k then this strategy is not optimal by equation 60. To show that the Threshold strategy

[0, . . . , m] denote the number of candidates that receive a vote.

= k] > 0.

def= Pr [sj > z]
[0, . . . , m], which means that

and pj > 0,

∈
Pr [mz = k] < 1.

j
∀

[1, . . . , m], we have that Pr [mz = i] > 0 for all i

∈

Proof of Proposition 5. Suppose that the resulting posterior probabilities of honesty for the can-
didates using Lemma 3 are sj and they are sorted so that s1 ≥ · · · ≥
cj1, . . . , , cjk }
on the committee be T =

. Let X be the random variable that is the number of honest

sm. Let the elected candidates

{

producers on the chosen committee. Then X is a Poisson Binomial with probabilities (sj1, . . . , sjk )

and so Pr[T = H

si] = Pr[X > 2/3k]. Deﬁne XP with P =
|

sj1, . . . , sjl} ⊆ {

s1, . . . , sm}

{

to be the

Poisson Binomial with parameters (sj1, . . . , sjl) then by Lemma 1 we have (with x = 2/3k) that

argmax
s1,...,sm

⊆{

Pr[XP > 2/3k] =
}

P

s1, . . . , sk}
{

(61)

If we set z = k and

c1, . . . , ck}
posteriors sj we achieve the maximum on the RHS of equation (61).

Cvi =

{

. That is, choosing the top z = k candidates based on the

39

Proof of Proposition 6. Proposition 3 shows that for z

= k the Cardinal strategy may be

suboptimal.

Consider a setting with two voters, where pm = ph. When pm = ph, all the signals are uninforma-

tive, i.e., sij = p for all i

[n], j

[m].

∈

∈

Now, suppose both voters follow the cardinal strategy with thresholds z0, z1. In this case, voter i

will vote (randomly) for zi candidates.

Since there are only two voters, every candidate receives 0, 1 or 2 votes. Let X0, X1, X2 denote the

subsets producers that receive 0, 1 and 2 votes respectively. Let

and

H

M

denote the set of honest

and dishonest producers.
˙(cid:83) X1

˙(cid:83) X2 = [m] =
First, note that since there are two voters,

Thus X0

M

˙(cid:83)

H

, where ˙(cid:83) denotes the disjoint union of sets.

Since

X2| ≤
|

min(z0, z1), we have

|
X1 ∪
|

+ 2

X1|
X2| ≥

= z0 + z1

X2|
|
max(z0, z1), which means that when max(z0, z1)

(62)

k

≥

(i.e., either voter votes for k candidates) no candidates from X0 will ever make it to the committee.

To show that the threshold zi = k strategy is suboptimal, it suﬃces to consider strategies with

max(z0, z1)

k.

≥

Since we assume that ties are broken in a worst-case fashion, the committee will be dishonest if and

only if there are x dishonest candidates in X2 and there are at least t + 1

x dishonest candidates

−

in X1 and

X2| ≤
|

k

−

(t + 1

−

x). because in this case, the adversary can choose k

(t + 1

x)

−

−

dishonest candidates from X1 to ﬁll the committee.

In other words, the committee will be dishonest with probability

Pr [T

= H] =

min(z0,z1)
(cid:88)

a=0

X2|
Pr[
|

= a]

a
(cid:88)

x=0

X2 ∩ M|
Pr [
|

= x

X2|

| |

= a] Pr [

X1 ∩ M| ≥

|

t + 1

x]

−

(63)

Note that if we did not assume min(z0, z1)

≥

k, some candidates from X0 could make it onto the

committee, and Equation 63 would have extra terms.

Now

X2|
|

is distributed as a hypergeometric random variable with parameters (z0, z1, m) (i.e., z1

draws from a population of size m with z0 “distinguished” items), and
.
X2|
z0 + z1 −
Thus we have

2
|

(cid:0)z0
a

(cid:1)

z0
a

(cid:1)(cid:0)m
−
z1
−
(cid:1)
(cid:0)m
z1

X2|
Pr [
|

= a] =

40

X1|

|

is distributed as a

(64)

(cid:54)
(cid:54)
Since each producer is dishonest independently with probability p, the number of dishonest pro-

ducers in X2 is binomial random variable with parameters a, p.

Pr [
|

X2 ∩ M|

= x

X2|

| |

= a] = Pr [Bin(a, p) = x]

and

Pr [
|

X1 ∩ M|

= x

X2|

| |

Equation 63 becomes

= a] = Pr [

= x

X1 ∩ M|
|
= Pr [Bin(z0 + z1 −

= z0 + z1 −

X1|
| |
2a, p) = x]

2a]

(65)

(66)

(67)

(68)

(69)

Pr [T

= H] =

min(z0,z1)
(cid:88)

a=0

X2|
Pr [
|

= a]

a
(cid:88)

·

x=0

Pr [Bin(a, p) = x]

Pr [Bin(z0 + z1 −

·

2a, p)

t + 1

x]

−

≥

min(z0,z1)
(cid:88)

a=0

min(z0,z1)
(cid:88)

a=0

=

≥

X2|
Pr [
|

= a]

Pr [Bin(z0 + z1 −

·

a, p)

≥

t + 1]

X2|
Pr [
|

= a]

·

Pr [Bin(max(z0, z1), p)

t + 1]

≥

= Pr [Bin(max(z0, z1), p)

t + 1]

≥

When z0 = z1 = k (both voters vote for k producers) Equation 70 becomes

k
(cid:88)

a=0

X2|
Pr [
|

= a]

a
(cid:88)

·

x=0

Pr [Bin(a, p) = x]

Pr [Bin(2(k

a), p)

t + 1

x]

−

≥

−

·

=

>

k
(cid:88)

a=0
k
(cid:88)

a=0

Pr [
|

X2|

= a]

Pr [
|

X2|

= a]

·

·

Pr [Bin(2k

a, p)

−

≥

t + 1]

Pr [Bin(k, p)

t + 1]

≥

= Pr [Bin(k, p)

t + 1]

≥

When z0 = k, and z1 = 0 (voter 1 abstains) Equation 70 becomes

Pr [Bin(k, p)

t + 1] =

≥

k
(cid:88)

b=t+1

(cid:18)k
b

(cid:19)

(1

−

p)bpk

b
−

41

(70)

(71)

(72)

(73)

(74)

(75)

(76)

(cid:54)
Here, we see that Equation 72 is strictly greater than Equation 76, so voter 1 is strictly better oﬀ

setting z1 = 0 (voting for no producers) than voting for k producers.

Proof of Theorem 3. First, note that since

2/3k, then if all members of

receive more

|H| ≥
votes than all dishonest producers, then the committee will be honest. Thus it suﬃces to show

H

that all members of

H

will receive more votes than all members of

with high probability.

M

Let Xj denote the number of votes received by producer j. Then Xj is a Poisson Binomial with

parameters p1j, . . . , pnj.
, and jm ∈ M
Fix jh ∈ H

. Then, by assumption

n
(cid:88)

i=1

pijh ≥

nδ +

n
(cid:88)

i=1

pijm

The Chernoﬀ bound for Poisson Binomials (Theorem 6) shows that for all t > 0

and similarly

If Xjh ≤

Xjm, then either

or

(cid:34)

Pr

Xjh <

(cid:34)

Pr

Xjm >

n
(cid:88)

i=1

n
(cid:88)

i=1

(cid:35)

pijh −

t

≤

2t2
n

e−

pijm + t

(cid:35)

2t2
n

e−

≤

Xjh <

Xjm >

n
(cid:88)

i=1

n
(cid:88)

i=1

pijh −

nδ
2

pijm +

nδ
2

.

By a union bound, the probability that either of these events happens is bounded by

2e−

δ2n/2.

(77)

(78)

(79)

(80)

(81)

(82)

Taking a union bound over all pairs jh ∈ H
receive more votes than all jm ∈ M

, is at least

, and jm ∈ M

, we have the probability that all jh ∈ H

2m2e−

δ2n/2.

1

−

(83)

42

B Poisson Binomial Distributions

B.1 Deﬁnitions

Deﬁnition 7 (Poisson Binomial Distribution). If
Xi}
and Pr[Xi = 1] = pi, then the distribution of X def= (cid:80)
i Xi is called the Poisson Binomial Distribution
with parameters (p1, . . . , pn).

are independent Bernoulli random variables,

{

A simple counting argument shows that if X has a Poisson Binomial distribution with parameters

p1, . . . , pn, then for any (cid:96)

0, . . . , n

∈

Pr[X = (cid:96)] =

(cid:88)

(cid:89)

(cid:89)

pi

F(cid:96)

i

A

∈

∈

A

j

Ac

∈

pj

1

−

(84)

where F(cid:96) is the set of all subsets of (cid:96) integers that can be selected from

1, . . . , n

.
}

{

Lemma 4 (Symmetry of Poisson Binomial Distributions). Suppose σ : [n]

[n] is a permutation,

→

and let X be a Poisson Binomial random variable with parameters p1, . . . , pn, and X (cid:48) be a Poisson

Binomial random variable with parameters σ(p1), . . . , σ(pn), then for all (cid:96)

0, . . . , n,

∈

Pr [X = (cid:96)] = Pr[X (cid:48) = (cid:96)]

Lemma 5 (Monotonicity). Suppose X is a Poisson Binomial random variable with parameters

p1, . . . , pn, and X (cid:48) is a Poisson Binomial random variable with parameters p(cid:48)1, . . . , p(cid:48)n, satisfying
pi ≤

p(cid:48)i for i = 1, . . . , n, then

X

≤st X (cid:48).

Proof.The proof follows immediately from Lemma 6 since a Bernoulli random variable with pa-
rameter p(cid:48)i stochastically dominates a Bernoulli random variable with parameter pi ≤

p(cid:48)i.

B.2 Alternative characterizations of Poisson Binomial Distribution

Theorem 4 (Alternative characterization of a PDF of a Poisson Binomial Fern´andez and Williams

(2010)). If X has a Poisson Binomial Distribution with parameters (p1, . . . , pn), then

Pr [X = t] =

1
n + 1

(cid:32)

n
(cid:88)

j=0

2πi jt
n+1

e−

n
(cid:89)

(cid:16)

k=1

pke2πi

j
n+1 + (1

(cid:33)

(cid:17)

pk)

−

(85)

We use f (P B)

p1,...,pn(x) to denote the PDF of a Poisson Binomial random variable with parameters

p1, . . . , pn.

43

Theorem 5 (CDF of a Poisson Binomial Fern´andez and Williams (2010)). If X has a Poisson

Binomial Distribution with parameters (p1, . . . , pn), then

Pr [X

t] = 1

≥

1
n + 1

−

n
(cid:88)

(cid:32)(cid:32) t

1
(cid:88)
−

j=0

k=0

2πi jk
n+1

e−

(cid:33) n
(cid:89)

(cid:96)=1

p(cid:96)e2πi

j

N +1 + (1

(cid:33)

p(cid:96))

−

(86)

We use F (P B)

p1,...,pn(x) to denote the CDF of a Poisson Binomial random variable with parameters

p1, . . . , pn.

B.3 Concentration bounds

Theorem 6 (Chernoﬀ-Hoeﬀding (Dubhashi and Panconesi 2009, Theorem 1.1)). Let X = (cid:80)n

i=1 Xi

is a Poisson Binomial with parameters

, and deﬁne ¯p def= 1
n

pi}

{

(cid:80)n

i=1 pi, then

Pr [X > n¯p + t]

Pr [X < n¯p

t]

−

2t2/n

2t2/n

e−

e−

≤

≤

(87)

(88)

Linear combinations of order statistics of Poisson Binomial RVs also satisfy a central limit theorem

Pham and Tran (1982).

C Order Statistics

Deﬁnition 8 (Order statistics). Let X1, . . . , Xn be random variables. Deﬁne Xn,1, . . . Xn,n to be

the order statistics of X1, . . . , Xn, to X1, . . . , Xn in sorted order.

Remark 1. The random variables Xn,1, . . . , Xn,n are dependent even if the underlying

independent, and they satisfy

Xn,1 ≤ · · · ≤

Xn,n.

Xi}

{

are

(89)

Theorem 7. If

Xi}

{

are continuous IID random variables, with absolutely continuous PDF f (x)

and CDF, F (x), then the CDF of the kth order statistic from a sample of size n is

Pr [Xn,k ≤

x] = F(k,n)(x) =

n
(cid:88)

j=k

(cid:19)

(cid:18)n
j

(F (x))j (1

F (x))n
−

j

−

(90)

Theorem 8. If

Xi}
{

are discrete IID random variables, with PDF f (x) and CDF, F (x), then the

PDF of the kth order statistic from a sample of size n is

Pr [Xn,k = x] = f(k,n)(x) =

(cid:19) (cid:16)

n
k
(cid:88)
−

j=0

(cid:18)n
j

(1

−

j
F (x))j (F (x))n
−

(1

−

−

F (x) + f (x))j (F (x)

f (x))n
−

j(cid:17)

.

−

(91)

44

Theorem 9. If

Xi}
{

are discrete IID random variables, with PDF f (x) and CDF, F (x), then the

CDF of the kth order statistic from a sample of size n is

Pr [Xn,k ≤

x] = F(k,n)(x) =

n
k
(cid:88)
−

j=0

(cid:19)

(cid:18)n
j

(1

−

F (x))j (F (x))n

j
−

(92)

Theorem 10 (Bapat-Beg Theorem (Glueck et al. 2008, Theorem 3.1)). Let Xi, i = 1, . . . , m

independent, real-valued random variables with cdf Fi(x) respectively. Yi the order statistics deﬁned

by sorting the values of Xi. Let n, 1

of the arguments of the joint cdf of

n1 < n2 <
≤
· · ·
Yn1, Yn2, . . . , Ynk }
{
i : 0 = i0 ≤

m and y1 ≤

< nk ≤
. Deﬁne the index vector i = (i0, i1, . . . , ik+1)

y2 ≤ · · · ≤

yk the values

i1 ≤ · · · ≤

ik ≤

ik+1 = m, and ij ≥

nj for all 1

≤

and the summation index set

=

I
. The joint cdf of the order statistics satisﬁes:
}

{

j

k

≤

FYn1 ,...,Ynk

(y1, . . . , yk) =

(cid:88)

i
∈I

(i1 −

Pi1,...,ik (y1, . . . , yk)
i1)!
i0)!(i2 −

(ik+1 −

· · ·

,

ik)!

where Pi1,...,ik (y1, . . . , yk) are permanents of block matrices

Pi1,...,ik (y1, . . . , yk) = per

(cid:104)
[Fi(yj)

Fi(yj

1)](ij −

ij−1)

1

×

−

−

(cid:105)j=k,i=m

j=1,i=1

,

(93)

(94)

with the subscripts indicating the dimensions of blocks created by the repetition of the term in the

brackets, and Fi(y0) = 0, Fi(yk+1) = 1.

Theorem 11 ((Glueck et al. 2008, Theorem 3.2)). With notation as in Theorem 10, suppose that

Fi(x) = F (x) for all 1

i

≤

≤

n, and Fi(x) = G(x) for all n + 1

i

≤

≤

m. Then:

FYn1 ,...,Ynk

(y1, . . . , yk) =

(cid:88)

(cid:88)

k+1
(cid:89)

i
∈I

λ

j=1

n)!

n!(m
ij
λj!(ij −

−

1 −
−

[F (yj)

F (yj

1)]λj [G(yj)
−

G(yj

1)]ij −
−

−

−

ij−1

λj ,
−

λj)!

(95)

(96)

where λ = (λ1, λ2, . . . , λk+1) ranges over all integer vectors such that

λ1 + λ2 +

· · ·

+ λk+1 = n, 0

λj ≤

ij −

ij

1,

−

≤

and F (y0) = G(y0) = 0, F (yk+1) = G(yk+1) = 1.

Deﬁnition 9 (Orderings). Let X and Y be random variables with PDFs fX , fY and CDFs FX ,

FY .

• Stochastic Order:

X

≤st Y

⇔

FY (x)

≤

FX (x) for all x ,

(97)

45

• Hazard-rate Order:

X

≤hr Y

(1

−

⇔

FY (x))/(1

−

FX (x)) is increasing in x ,

(98)

• Likelihood-ratio Order:

X

≤lr Y

⇔

fY (x)/fX (x) is increasing in x ,

(99)

Lemma 6 (Summations). If X1 ≥st Y1, and X2 ≥st Y2, then
X1 + X2 ≥st Y1 + Y2

Proof.

Pr [X1 + X2 ≥

t] =

=

=

≥

=

=

=

≥

=

n
(cid:88)

n
(cid:88)

x1=0
n
(cid:88)

x2=t
x1
−
(cid:32) n
(cid:88)

Pr [X1 = x1] Pr [X2 = x2]

(cid:33)

Pr [X2 = x2]

Pr [X1 = x1]

x1=0
n
(cid:88)

x1=0
n
(cid:88)

x1=0
n
(cid:88)

x2=t

x1

−

Pr [X2 ≥

t

−

x1] Pr [X1 = x1]

Pr [Y2 ≥
(cid:32) n
(cid:88)

x1] Pr [X1 = x1]

t

−

(cid:33)

Pr [Y2 = x2]

Pr [X1 = x1]

x1=0
n
(cid:88)

x1

x2=t
−
(cid:32) n
(cid:88)

(cid:33)

Pr [X1 = x1]

Pr [Y2 = x2]

x2=0
n
(cid:88)

x2=0
n
(cid:88)

x2=0
n
(cid:88)

x2=0

x1=t

x2

−

Pr [X1 ≥

t

−

x2] Pr [Y2 = x2]

Pr [Y1 ≥
(cid:32) n
(cid:88)

x2] Pr [Y2 = x2]

t

−

(cid:33)

Pr [Y1 = x1]

Pr [Y2 = x2]

x1=t

x2

−

= Pr [Y1 + Y2 ≥

t]

Corollary 3. If X is a Poisson Binomial with parameters p1, . . . , pt, pt+1, and Y is a Poisson

Binomial with parameters p1, . . . , pt, then

X

≥st Y

46

(100)

D Alternative Objective Function: Quality Model

Our main model considers discrete types of producers (“honest” and “dishonest”). In addition to

selecting honest producers, voters may be interested in electing block producers who will oﬀer the

highest performance (e.g. transaction throughput). In this section, we outline an alternative model

where producers vary continuously based on their “quality” (e.g. a metric of their computing

performance, uptime and network latency). As before, voters receive a noisy signal about each

producer’s quality, and the voters use approval voting to elect a committee.

Deﬁnition 10 (Continuous quality model). Producer j has an (unknown) quality, qj ∼ Q
(known) quality distribution
where (cid:15)ij ∼

. As before, suppose voter i receives a quality estimate ˆqij = qj + (cid:15)ij,

N (0, σi).

for some

Q

As above, voter i will rank the block producers in order of of the signals

qij}j, and may employ a
{
Threshold or Cardinality voting strategy to determine how many block producers they choose to

elect.

When focusing on honesty, we considered a one-shot game, since a single dishonest committee can

potentially wreak havoc on the system, whereas a single low performing committee may only have

a small eﬀect on the overall popularity and utility of the system as a whole.

Thus in the quality model, it would make more sense to consider a multi-round game where voters

earn rewards and receive feedback at each round. When a set of block producers is elected, the

voters can observe their throughput and latency, and thus get feedback about the quality of the

committee. We can consider diﬀerent levels of granularity regarding the feedback received by the

voters:

• Individual feedback: The quality of each of the c block producers that were elected to the

committee

• Average feedback: The average quality of the c block producers that were elected to the

committee

We can also consider diﬀerent types of voter rewards, which model the beneﬁt they receive from

higher throughput and and lower latency among the block-producer committee.

• Average rewards: The average quality of the c block producers that were elected to the

committee

47

• Weakest-link rewards: The minimum quality of the c block producers that were elected

to the committee

Once we specify the exact type of feedback and rewards, we can ask how should voters behave in

order to maximize their rewards. If a single voter could unilaterally specify the entire committee,

the problem would fall in the class of combinatorial multi-armed bandit problems (CMAB) (Cesa-

Bianchi and Lugosi 2012).

Combinatorial bandit problems have been reasonably well studied Cesa-Bianchi and Lugosi (2012),

Chen et al. (2013), Combes et al. (2015), Chen et al. (2016), Agarwal and Aggarwal (2018), Rejwan

and Mansour (2020) under two diﬀerent feedback models (i) semi-bandit feedback, where the voters

learn the quality of each individual producer in the committee and (ii) (full) bandit feedback, where

the voters learn the average quality of the committee. There would be two main diﬀerences between

our own model and traditional combinatorial multi-armed bandit problems:

First, most CMAB papers assume there is a single player who unilaterally selects which bandits to

play (i.e., which candidates to elect). In our setting, we have multiple voters, who vote indepen-

dently, and the committee is chosen based on the outcome of this vote.

Second, most CMAB papers assume the player starts with no information about the underlying

bandits (i.e., the voters receive no signals). If voters start with no information about the committee

(and all committee feedback is public), then for practical purposes, there is essentially only one

voter, and the problem completely becomes a CMAB problem.

Given the diﬃculty of ﬁnding the optimal voting strategy in the static model, it will like be

intractable to ﬁnd the voting strategy that optimally combines with the CMAB exploration-

exploitation strategy. But this could nonetheless be an interesting direction for future work.

E Other Asymptotic Results

Figure 9 shows that when the signal informativeness is high, that is, ph (cid:29)
ability rapidly approaches 1 (even for a small number of voters), but if the threshold is too high

pm, the success prob-

(z

≈

1), then the success probability drops to zero as all candidates receive 0 votes.

48

Figure 9: Success probability as a function of voting threshold when signal informativeness is high.

Figure 10 shows that when the signal informativeness is high, as the a priori probability that a

producer is honest increases, then almost any threshold yields a nearly 100% chance of electing an

honest committee.

Figure 10: Success probability as a function of the prior.

49

00.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5,pm=0.50ph=.65)n=1n=2n=3n=400.20.40.60.8100.20.40.60.81SuccessprobabilityPr[TA=H]HonestyThreshold(z)Successprobability(m=200,p=0.5ph=.70)n=1n=2n=3n=400.20.40.60.8100.10.20.30.40.50.60.7SuccessprobabilityPr[TA=H]Probabilityhonest(p)Successprobability(m=200,n=10,pm=.5,ph=.7)z=.3z=.5z=.7z=.9