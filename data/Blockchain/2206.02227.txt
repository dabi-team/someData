2
2
0
2

n
u
J

5

]

N
G
.
n
o
c
e
[

1
v
7
2
2
2
0
.
6
0
2
2
:
v
i
X
r
a

STABILITY OF SHARES IN THE PROOF OF STAKE PROTOCOL
– CONCENTRATION AND PHASE TRANSITIONS

WENPIN TANG

Abstract. This paper is concerned with the stability of shares in a cryptocurrency where
the new coins are issued according to the Proof of Stake protocol. We identify large, medium
and small investors under various rewarding schemes, and show that the limiting behaviors
of these investors are diﬀerent – for large investors their shares are stable, while for medium
to small investors their shares may be volatile or even shrink to zero. For instance, with a
geometric reward there is chaotic centralization, where all the shares will eventually concen-
trate on one investor in a random manner. This leads to the phase transition phenomenon,
and the thresholds for stability are characterized. In response to the increasing activities
in blockchain networks, we also propose and analyze a dynamical population model for
the PoS protocol, which allows the number of investors to grow over the time. Numerical
experiments are provided to corroborate our theory.

Key words: Blackwell-MacQueen urn, blockchain, concentration/anti-concentration, cryp-
tocurrency, P´olya urn, Proof of Stake.

1. Introduction

In the past decade, blockchain technology has evolved tremendously, and is now regarded
as an endeavor to facilitate the next generation digital exchange platform with a broad range
of established or emerging applications including cryptocurrency (Nakamoto (2008); Wood
(2014); Hileman and Rauchs (2017)), healthcare (McGhin et al. (2019); Donovan (2019);
Tanwar et al. (2020)), supply chain (Saberi et al. (2019); Chod et al. (2020)), electoral
voting (Wood (2018)) and new-born arts as non-fungible tokens (Wang et al. (2021); Dowling
(2022)).

A blockchain is a growing chain of records or transactions, called blocks, which are jointly
maintained by a set of miners or validators using cryptography. The idea of blockchain orig-
inated from distributed consensus, where multiple machines in a mission-critical system are
required to make consistent decisions. The work of Lamport et al. (1982), which introduced
the famous Byzantine Generals problem, laid the foundation for distributed consensus. From
then on, distributed consensus has been deployed in many digital infrastructures such as
Google Wallet and Facebook Credit. Since 2009, Bitcoin (Nakamoto (2008)) and various
other cryptocurrencies have come around, and allowed the secure transfer of assets without
an intermediary such as a bank or payment processing network. These cryptocurrencies
achieved a new breakthrough in distributed consensus because they showed for the ﬁrst time
that consensus is viable in a decentralized and permissionless environment where anyone is
allowed to work. This is in contrast with traditional trusted payment processing systems
as well as distributed consensus-based computing infrastructures such as Google Wallet and

Date: June 7, 2022.

1

 
 
 
 
 
 
2

WENPIN TANG

Facebook Credit, where only a small number of permissioned personnels can participate.
This way, Google Wallet and Facebook Credit are regarded as permissioned blockchains,
while Bitcoin and other cryptocurrencies are permissionless blockchains.

At the core of a blockchain is the consensus protocol or smart contract, which speciﬁes
a set of voting rules allowing miners to agree on an ever-growing, linearly-ordered log of
transactions forming the distributed ledger. There are several existing blockchain protocols,
among which the most popular are Proof of Work (PoW, Nakamoto (2008)) and Proof of
Stake (PoS, King and Nadal (2012); Wood (2014)).

• In the PoW protocol, miners compete with each other by solving a puzzle, and the
one who solves the puzzle ﬁrst is allowed to append a new block to the blockchain.
Thus, the probability of a miner being selected is proportional to the computational
power that the miner has. The PoW coins include Bitcoin, Ethereum, Dogecoin...etc.
• In the PoS protocol, the blockchain is updated by a randomly selected miner where
the probability of a miner being drawn is proportional to the stake that the miner
owns. The PoS coins include BNB, Cardano, Solana...etc.

As of May 28, 2022, Cryptoslate lists 352 PoW coins with a total $800B (66%) market
capitalization, and 279 PoS coins contributing a $122B (10%) market capitalization. One
disadvantage of the PoW protocol is that competition among miners has led to exploding
levels of energy consumption. For instance, Mora et al. (2018) pointed out the unsustain-
ability of PoW-based blockchains, and Platt et al. (2021) showed that energy consumption of
Bitcoin is at least 10, 000 times higher than PoS-based blockchains. Chiu and Koeppl (2017);
Saleh (2019); Cong et al. (2021) also discussed drawbacks of PoW blockchains from economic
perspectives. Though PoS-based blockchains are still not as widely used as PoW-based ones,
there is a strong incentive among blockchain practitioners to switch from a PoW to PoS
ecosystem as is the case for Ethereum 2.0 (Wickens (2021)).

A PoS blockchain mitigates the problem of energy eﬃciency and scalability; however, it

receives several criticisms.

• Security concern. PoS protocols may suﬀer from the Nothing-at-Stake problem, where
it is eﬀortless for (malicious) miners to copy every outdated history and participate in
all of them. As shown in Bagaria et al. (2019), any miner with more than 1/(1 + e) ≈
27% of the total stake can launch a double-spending attack, which seems to be less
robust than the 51% attack to a PoW-based blockchain. Brown-Cohen et al. (2019)
also pointed out diﬃculties in detecting Nothing-at-Stake for incentive-compatible
PoS protocols. One way to address this challenge is to come up with a clever block
rewarding scheme, as discussed in Kiayias et al. (2017); Daian et al. (2019); Saleh
(2021).

• Centralization concern. Critics have argued that the PoS protocol induces wealth
concentration, thus leading to centralization (Afram (2018); Irresberger (2018); Fanti
et al. (2019)). As one key feature of a permissionless blockchain is decentralization,
the problem of centralization may put questions to the necessity of using a per-
missionless blockchain since it yields concentration in voting mechanism as does a
permissioned blockchain. Previous works (Alsabah and Capponi (2020); Arnosti and
Weinberg (2022)) showed that the PoW protocol may generate concentration in min-
ing power, and thus centralization in various settings. At a conceptual level, the eﬀect

PROOF OF STAKE

3

of centralization or decentralization in both PoW and PoS blockchains arises from
randomness. In a PoW blockchain, the randomness is external to the cryptocurrency,
while in a PoS blockchain, the randomness comes from the cryptocurrency itself.

In this paper we consider the problem of wealth stability for diﬀerent types of miners
of a PoS blockchain. In the sequel, a PoS blockchain miner is also called an investor. The
prominent work of Ro¸su and Saleh (2021) took the ﬁrst step to study the long term evolution
of large investor shares in a PoS cryptocurrency via a P´olya urn model. They proved under
various reward assumptions that the shares in the long run do not deviate much from the
initial ones as the initial coin oﬀerings are large; that is,

[share at time ∞] − [share at time 0] ≈ 0

for each investor.

That is to say, the rich-get-richer phenomenon does not occur when there is a small number
of investors each having a large proportion of initial coins. Statistical analysis from (Foley
et al. (2019); Tang et al. (2020)) suggested that there be increasing levels of activities from
smaller investors in blockchain networks. Moreover, online platforms such as Robinhood
Crypto allow for fractional trading. Thus, it is indispensable to understand the evolution of
small investor shares as well. Typically for these investors, [share at time 0] ≈ 0 so the above
relation holds trivially as ‘0−0 = 0’. This prompts us to consider a more meaningful measure
of evolution – the ratio [share at time ∞]/[share at time 0], where ‘0/0’ is indeterminate for
small investors.

The ﬁrst contribution of this work is to provide a systematic study of the aforementioned
ratio under various rewarding schemes and for diﬀerent types of investors in the setting of
Ro¸su and Saleh (2021). The investors are categorized into large, medium and small ones in
terms of their initial endowment of coins. The key observation is that for investors whose
initial coins scale diﬀerently to the total initial coin oﬀering, the ratio exhibits diﬀerent
asymptotic behaviors such as concentration and anti-concentration. This is a phase transition
phenomenon, which has yet appeared in the literature on the economics of the PoS protocol.
For instance, we prove that under a constant rewarding scheme, the ratio of evolution of
shares concentrates at one for large investors, and converges to a Gamma random variable
for medium investors, and decays towards zero for small investors (Theorem 2.1). Similar
but slightly weaker results are established under a decreasing rewarding scheme (Theorem
2.2) and an increasing rewarding scheme (Theorem 2.3). In the case of a geometric reward,
our result shows that with probability one, all the shares will eventually go to one investor
in a completely random way. Such a behavior, which we call chaotic centralization, indicates
that the geometric rewarding scheme induces long-run instability in a PoS blockchain. This,
however, is not contradictory to Fanti et al. (2019) where it was shown that a geometric
reward is optimal in a ﬁxed time horizon.

As is clear from the growing popularity of blockchain technology, it may not be realistic
to assume a ﬁxed ﬁnite number of investors throughout. The second contribution of this
paper is to propose a dynamical approach, which starts with a ﬁnite number of investors
and evolves to an inﬁnite number of investors. Our model can be viewed as an inﬁnite
population version of the P´olya urn model, and the idea comes from the Blackwell-MacQueen
urn model in Bayesian nonparametrics, as well as species sampling in computational biology.
In this dynamical population setting, we study the ratio of evolution of shares under various
rewarding schemes (Theorem 3.4). Our result shows that under a decreasing rewarding
scheme with a suitably large decay, the shares of the initial capitalists will be diluted in the

4

WENPIN TANG

long run. This observation is consistent with several existing practice (e.g. Bitcoin), and
it may also provide guidance on the choice of rewarding schemes so that decentralization is
incorporated in a PoS blockchain.

Let us also mention some relevant works. Tsoukalas and Falk (2020) studied the stake-
based voting for crowd-sourcing on a blockchain, and showed that asymmetric information
may lead to suboptimal outcomes. Benhaim et al. (2021) considered a committee-based pro-
tocol, and highlighted its advantage over other PoS protocols. To the best of our knowledge,
it is the ﬁrst time in this work that heterogeneity of investors is taken into account, leading to
a phase transition in centralization vs decentralization. This paper also proposes and studies
for the ﬁrst time a dynamical model in which the number of investors is not ﬁxed for the
PoS protocol. Our paper thus contributes to both the literature on the decentralization of
blockchains and that on the economics of the PoS protocol.

The remainder of the paper is organized as follows. In Section 2, we adopt the P´olya urn
to model the PoS protocol, and study the ratio of evolution of shares under various rewarding
schemes. In Section 3, we propose a dynamical population model which allows the number of
investors to increase over the time. There we also provide analysis on the ratio of evolution
of shares. We conclude with Section 4. All the proofs are given in Appendix.

2. Finite population model

In this section, we follow Ro¸su and Saleh (2021) to use a time-dependent P´olya urn model
to describe the PoS protocol. Below we collect the notations that will be used throughout
this paper.

• N+ denotes the set of positive integers, and R+ denotes the set of positive real num-

bers.

• The symbol a = O(b) means that a/b is bounded from above as b → ∞; the symbol
a = Θ(b) means that a/b is bounded from below and above as b → ∞; and the symbol
a = o(b) or b (cid:29) a means that a/b decays towards zero as b → ∞.

Let K ∈ N+ be the number of investors, and N ∈ R+ be the number of initial coins/tokens
in a PoS blockchain. The investors are indexed by [K] := {1, . . . , K}, and investor k’s initial
endowment of coins is nk,0 with (cid:80)K
k=1 nk,0 = N . We deﬁne the investor share as the fraction
of coins each investor owns. So the initial investor shares (πk,0, k ∈ [K]) are given by

πk,0 :=

nk,0
N

,

k ∈ [K].

(2.1)

Similarly, we denote by nk,t the number of coins owned by investor k at time t ∈ N+, and
the corresponding share is

πk,t :=

nk,t
Nt

,

k ∈ [K], with Nt :=

K
(cid:88)

k=1

nk,t.

(2.2)

Here Nt is the total number of coins at time t, and thus N0 = N . Clearly, for each t ≥ 0
(πk,t, k ∈ [K]) forms a probability distribution on [K].

Now we provide a formal description of the PoS dynamics. At time t ∈ N+, investor k is
selected at random among K investors with probability πk,t−1. Once selected, the investor

PROOF OF STAKE

5

receives a deterministic reward of Rt ∈ R+ coins. Let Sk,t be the random event that investor
k is selected at time t. Thus, the number of coins owned by each investor evolves as

nk,t = nk−1,t + Rt1Sk,t,

k ∈ [K].

(2.3)

It was shown in (Ro¸su and Saleh, 2021, Proposition 5) that investors have no incentive to
trade their coins under some risk neural conditions. Without loss of generality, we exclude
the possibility of exchanges among investors. Note that the total number of coins satisﬁes
Nt = Nt−1 + Rt. Combining (2.2) and (2.3) yields a recursion of the investor shares:

πk,t =

Nt−1
Nt

πk,t−1 +

Rt
Nt

1Sk,t,

k ∈ [K].

(2.4)

Let Ft be the ﬁltration as the σ-algebra generated by the random events (Sk,r : k ∈ [K], r ≤ t).
It is easily seen that for each k ∈ [K], the process of investor k’s share (πk,t, t ≥ 0) is an
Ft-martingale. By the martingale convergence theorem (see e.g. Durrett (2019)),

(π1,t, . . . , πK,t) −→ (π1,∞, . . . , πK,∞)

as t → ∞ with probability 1,

(2.5)

where (π1,∞, . . . , πK,∞) is some random probability distribution on [K].

We consider the evolution of the investor shares (πk,t, k ∈ [K]), as well as its long time
limit (πk,∞, k ∈ [K]). One major problem is to know whether the PoS protocol triggers the
rich-get-richer, or concentration phenomenon by comparing the investor shares at the initial
time and in the long time limit. As brieﬂy discussed in the introduction, Ro¸su and Saleh
(2021) were concerned with large investors, i.e. πk,0 = Θ(1) or equivalently nk,0 = Θ(N ).
They proved under various reward assumptions that

lim
N →∞

P(|πk,∞ − πk,0| > ε) = 0

for each k ∈ [K] and each ﬁxed ε > 0.

(2.6)

That is, the rich-get-richer phenomenon does not occur typically when there is a small number
K = Θ(1) of investors each having a signiﬁcant proportion πk,0 = Θ(1) of initial coins.
However, there may also be medium or even small investors whose initial shares πk,0 = o(1)
is relatively small. For instance,

• When the number of investors K ≈ N , there are less rich investors with initial
endowment of coins nk,0 = f (N ) such that f (N ) → ∞ but f (N )/N → 0, and small
investors with initial number of coins nk,0 = Θ(1).

• When the number of investors K (cid:29) N , there may also exist small investors who own

fractional number of coins nk,0 = o(1).

In these cases, we have πk,0 = o(1), so for each ﬁxed ε > 0 the probability P(|πk,∞ −πk,0| > ε)
always goes to 0 as N → ∞. Thus, it is more reasonable to consider the ratios πk,t/πk,0
or πk,∞/πk,0 instead of the diﬀerences.
In the following subsections, we study the ratio
of evolution of shares under various rewarding schemes and for diﬀerent types of investors,
encompassing all the above instances. In particular, we observe phase transitions for diﬀerent
types of investors in terms of wealth stability.

2.1. Constant reward. We start with the constant reward Rt ≡ R > 0 (e.g. Blackcoin).
Let Γ(z) := (cid:82) ∞
0 xz−1e−xdx be the Gamma function. Recall that the Dirichlet distribution
with parameters (a1, . . . , aK), which we simply denote Dir(a1, . . . , aK), has support on the

6

WENPIN TANG

standard simplex {(x1, . . . , xK) ∈ RK

+ : (cid:80)K

f (x1, . . . , xK) =

xak−1
k

.

(2.7)

k=1 xk = 1} and has density
(cid:17)

(cid:16)(cid:80)K

k=1 ak

K
(cid:89)

Γ

(cid:81)K

k=1 Γ(ak)

k=1

For K = 2, the Dirichlet distribution reduces to the beta distribution which is denoted by
Beta(a1, a2). It is easily seen that if (x1, . . . , xK) d= Dir(a1, . . . , aK) then for each k ∈ [K]
xk
j(cid:54)=k aj). The following result is concerned with the evolution of shares in a
PoS protocol with a constant reward.

d= Beta(ak, (cid:80)

Theorem 2.1. Assume that the coin reward is Rt ≡ R > 0. Then the investor shares have
a limiting distribution

(π1,∞, . . . , πK,∞) d= Dir

(cid:16) n1,0
R

, . . . ,

(cid:17)

.

nK,0
R

(2.8)

Moreover,

(i) For nk,0 = f (N ) such that f (N ) → ∞ as N → ∞ (i.e. πk,0 (cid:29) 1/N ), we have for

each ε > 0 and each t ≥ 1 or t = ∞:
(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

− 1

P

(cid:19)

> ε

≤

5R
4ε2f (N )

,

(2.9)

which converges to 0 as N → ∞.

(ii) For nk,0 = Θ(1) (i.e. πk,0 = Θ(1/N )), we have the convergence in distribution:
(cid:16) nk,0
R

as N → ∞,

d−→

πk,∞
πk,0

R
nk,0

(cid:17)

γ

(2.10)

where γ (cid:0) nk,0
R

(cid:1) is a Gamma random variable with density x

nk,0

R −1e−x1x>0/Γ (cid:0) nk,0

(cid:1).

R

(iii) For nk,0 = o(1) (i.e. πk,0 = o(1/N )), we have Var(πk,∞/πk,0) → ∞ as N → ∞.

Moreover, for each ε > 0:

P

(cid:18) πk,∞
πk,0

(cid:19)

< ε

→ 1

as N → ∞.

(2.11)

The proof of Theorem 2.1 is given in Appendix A. Let us make a few comments. The
theorem reveals a phase transition of shares in the long run between large, medium and
small investors. Part (i) shows that for large investors, their shares are stable in the sense
that the ratio between the share at a later time t and the initial share, i.e. πk,t/πk,0, converges
in probability to 1 as the initial coin oﬀerings N → ∞. In particular, for extremely large
investors with initial coins nk,0 = Θ(N ) this is equivalent to the stability as deﬁned by (2.6).
The stability also holds for less rich large investors with nk,0 (cid:29) 1 but nk,0 = o(N ). Note
that the concentration bound (2.9) is uniform in time t, implying that the rich-get-richer
phenomenon does not occur at any time. See Figure 1 for an illustration of the bound.

On the other hand, the evolution of shares for medium or small investors has very diﬀerent
limiting behaviors. Part (ii) shows that medium investor’s shares are volatile in such a way
that the ratio πk,∞/πk,0 is approximated by a gamma distribution independent of the initial
coin oﬀerings, and hence Var(πk,∞/πk,0) ≈ 1
. For instance, if nk,0 = R = 1 the limiting
nk,0

PROOF OF STAKE

7

Figure 1. Constant reward: stability of πk,t/πk,0 for large investors. Blue
curve: Pmax is a MC estimate of max1≤t≤50000 P
. Orange
curve: right side upper bound in (2.9) with R = 1, ε = 0.05, nk,0 = N/2
and N ∈ {1000, 1500, 2000, . . . , 10000}.

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.05

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

distribution of the ratio πk,∞/πk,0 reduces to the exponential distribution with parameter 1.
See Figure 2a for an illustration of this approximation. In this case, we have

P

(cid:18) πk,∞
πk,0

(cid:19)

> θ

≈ e−θ

as N → ∞.

So with probability e−2 ≈ 0.135 a medium investor’s share will double, and with probability
1−e−0.5 ≈ 0.393 this investor’s share will be halved. Part (iii) shows that for small investors,
their shares will be shrinking along the time, and the ratio πk,∞/πk,0 converges to 0 in
probability as N → ∞. This is indeed the poor-get-poorer phenomenon as illustrated in
Figure 2b.

(a) Blue curve: histogram of πk,50000/πk,0
with nk,0 = R = 1 and N = 100. Orange
curve: Gamma distribution.

(b) MC estimates of P (πk,50000/πk,0 > 0.05)
and Var (πk,50000/πk,0) with R = 1, nk,0 =
N −1.1 and N ∈ {100, 110, . . . , 300}

Figure 2. Constant reward:
investors.

instability of πk,t/πk,0 for medium and small

Finally, we note that the results in Theorem 2.1 hold jointly for a ﬁnite number of investors

belonging to the same category. That is,

8

WENPIN TANG

• For nk1,0, . . . , nk(cid:96),0 with k1, . . . , k(cid:96) ∈ [K] satisfying the conditions in (i),

(cid:18) πk1,t
πk1,0

, . . . ,

(cid:19)

πk(cid:96),t
πk(cid:96),0

→ 1

in probability as N → ∞.

• For nk1,0, . . . , nk(cid:96),0 with k1, . . . , k(cid:96) ∈ [K] satisfying the condition in (ii),

(cid:18) πk1,∞
πk1,0

, . . . ,

πk(cid:96),∞
πk(cid:96),0

(cid:19)

d−→

(cid:18) R
nk1,0

γ

(cid:17)

(cid:16) nk1,0
R

, . . . ,

R
nk(cid:96),0

γ

(cid:16) nk(cid:96),0
R

(cid:17)(cid:19)

as N → ∞,

where γ(nk1,0/R), . . . , γ(nk(cid:96),0/R) are independent Gamma random variables.

• For nk1,0, . . . , nk(cid:96),0 with k1, . . . , k(cid:96) ∈ [K] satisfying the conditions in (iii),

(cid:18) πk1,t
πk1,0

, . . . ,

(cid:19)

πk(cid:96),t
πk(cid:96),0

→ 0

in probability as N → ∞.

2.2. Decreasing reward. We consider the decreasing reward such that Rt ≥ Rt+1 for each
t ≥ 0 (e.g. Bitcoin). The following theorem shows that the ratio of evolution of shares is more
complicated in the PoS protocol with a decreasing reward scheme, and the phase transition
may depend on how the reward function decreases over the time.

Theorem 2.2. Assume that the coin reward is Rt with Rt ≥ Rt+1 for each t ≥ 0.

(1) If Rt is bounded away from 0, i.e. limt≥0 Rt = R > 0, then

(i) For nk,0 = f (N ) such that f (N ) → ∞ as N → ∞ (i.e. πk,0 (cid:29) 1/N ), we have

for each ε > 0 and each t ≥ 1 or t = ∞:

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

(cid:19)

> ε

≤

R1
ε2f (N )

,

(2.12)

which converges to 0 as N → ∞.

(ii) For nk,0 = Θ(1) (i.e. πk,0 = Θ(1/N )), we have Var

(cid:17)

(cid:16) πk,∞
πk,0

= Θ(1). Moreover,

there is c > 0 independent of N such that for ε > 0 suﬃciently small:
(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

πk,∞
πk,0

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

≥ c.

> ε

(cid:19)

P

(2.13)

(iii) For nk,0 = o(1) (i.e. πk,0 = o(1/N )), we have Var

(cid:17)

(cid:16) πk,∞
πk,0

→ ∞ as N → ∞.

(2) If Rt = Θ(t−α) for α > 1

2 , then

(i) For nk,0 > 0 such that N nk,0 → ∞ as N → ∞ (i.e. N 2πk,0 → 0), we have for

each ε > 0 and each t ≥ 1 or t = ∞:
(cid:19)

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

> ε

≤

(cid:80)

t≥1 R2
t
ε2N nk,0

,

which converges to 0 as N → ∞.

(ii) For nk,0 = Θ(1/N ) (i.e. πk,0 = Θ(1/N 2)), we have Var

(iii) For nk,0 = o(1/N ) (i.e. πk,0 = o(1/N 2)), we have Var

(3) If Rt = Θ(t−α) for α < 1

2 , then

(2.14)

(cid:17)

= Θ(1).

→ ∞ as N → ∞.

(cid:16) πk,∞
πk,0
(cid:17)
(cid:16) πk,∞
πk,0

PROOF OF STAKE

9

(i) For nk,0 > 0 such that N

1−α πk,0 → 0), there
is C > 0 independent of t and N such that for each ε > 0 and each t ≥ 1 or
t = ∞:

1−α nk,0 → ∞ as N → ∞ (i.e. N

α

1

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

(cid:19)

> ε

≤

C
α

1−α nk,0

,

N

(2.15)

which converges to 0 as N → ∞.

(ii) For nk,0 = Θ(N − α

1−α ) (i.e. πk,0 = Θ(N − 1

= Θ(1).
Moreover, there is c > 0 independent of N such that for ε > 0 suﬃciently small:
(cid:19)

1−α )), we have Var

(cid:17)

(cid:16) πk,∞
πk,0

> ε

≥ c.

(2.16)

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,∞
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

(iii) For nk,0 = o(N − α

1−α ) (i.e. πk,0 = o(N − 1

1−α )), we have Var

(cid:17)

(cid:16) πk,∞
πk,0

→ ∞ as

N → ∞.

The proof of Theorem 2.2 is given in Appendix B. The theorem distinguishes three ways
that the reward function decreases, leading to diﬀerent thresholds in the phase transition
to categorize large, medium and small investors. Part (1) assumes that the reward function
decreases to a nonzero value. In this case, the threshold to identify large, medium and small
investors is nk,0 = Θ(1), which is the same as that of the PoS protocol with a constant
reward. This may not be surprising, since the underlying dynamics is not much diﬀerent
from the one with a constant reward in the long run. For large investors, the ratio πk,∞/πk,0
concentrates at 1; while for medium investors there is the anti-concentration bound (2.13),
indicating that the evolution of a medium investor’s share is no longer stable, and may be
volatile. For small investors, we know that the variance of πk,∞/πk,0 is large.

Part (2) considers a fast decreasing reward Rt = Θ(t−α) with α > 1/2. In this case, the
threshold to identify diﬀerent types of investors is nk,0 = 1/N , which is independent of the
exact decreasing rate of Rt. For large investors, the ratio πk,∞/πk,0 concentrates at 1; while
for medium (resp. small) investors, the variance of πk,∞/πk,0 is bounded (resp. tends to
inﬁnity).

Finally, part (3) deals with a slow decreasing reward Rt = Θ(t−α) with α < 1/2.

In
contrast with the previous cases, the threshold nk,0 = Θ(N − α
1−α ) to identify diﬀerent types
of investors depends on the decreasing rate of Rt. When α → 0, the threshold becomes Θ(1)
which is consistent with that in part (1), and when α → 1/2, the threshold becomes Θ(1/N )
which agrees with that in part (2). For large investors, the ratio πk,∞/πk,0 concentrates at 1;
while for medium investors there is the anti-concentration bound (2.16). For small investors,
the variance of πk,∞/πk,0 is large.

Note that the statements for medium and small investors in all three cases are weaker
than those in Theorem 2.1. This is due to the fact the exact distributions of πk,∞ are
not available for general rewarding schemes. See Appendix E.1 for numerical illustrations
concerning Theorem 2.2.

2.3. Increasing reward. We consider the increasing reward of form Rt = ρN γ
t−1 for some
ρ > 0 and γ > 0 (e.g. EOS). The following theorem shows that the shares evolve very
diﬀerently in the PoS protocol with a geometric reward vs a sub-geometric one.

10

WENPIN TANG

Theorem 2.3. Assume that the reward Rt = ρN γ

t−1 for some ρ > 0 and γ > 0.

(1) If γ > 1, then πk,∞ ∈ {0, 1} almost surely with

P(πk,∞ = 1) = πk,0, P(πk,∞ = 0) = 1 − πk,0

(2.17)

(2) If γ < 1, then

(i) For nk,0 = f (N ) such that f (N )/N γ → ∞ as N → ∞ (i.e. πk,0)/N γ−1 → ∞),

we have for each ε > 0 and each t ≥ 1 or t = ∞:

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

(cid:19)

> ε

≤

ρN γ
(1 − γ)nk,0ε2 ,

(2.18)

which converges to 0 as N → ∞.

(ii) For nk,0 = Θ(N γ) (i.e. πk,0 = Θ(N γ−1)), we have Var

= Θ(1). More-
over, there exists c > 0 independent of N such that for ε > 0 suﬃciently small:

(cid:17)

(cid:16) πk,∞
πk,0

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,∞
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

(cid:19)

> ε

≥ c.

(2.19)

(iii) For nk,0 = o(N γ) (i.e. πk,0 = o(N γ−1)), we have Var

(cid:17)

(cid:16) πk,∞
πk,0

→ ∞ as N → ∞.

The proof of Theorem 2.3 is given in Appendix C. The theorem deals with two increasing
reward schemes: a geometric reward and a sub-geometric one. Part (1) considers a geometric
reward, and shows that with probability one, all the shares will eventually go to one investor
in such a way that

P(πk = 1 and πj = 0 for all j (cid:54)= k) = πk,0,

k ∈ [K].

We call this chaotic centralization because the underlying dynamics will lead to the dic-
tatorship, but the dictator is selected in a completely random manner. The investor with
the largest initial coins will have the highest chance to control the PoS blockchain with a
geometric reward.

Part (2) considers a polynomial reward Rt = Θ(t

1
1−γ ) for γ < 1. In this case, the threshold
to distinguish large, medium and small investors is nk,0 = Θ(N γ). For large investors, the
ratio πk,∞/πk,0 concentrates at 1; while for medium investors there is the anti-concentration
bound (2.19). For small investors, the variance of πk,∞/πk,0 explodes. See Appendix E.2 for
numerical illustrations related to Theorem 2.3.

3. Infinite population model

This section is concerned with modeling the PoS protocol which allows for an “inﬁnite”
number of investors in response to the growing popularity of blockchains. In Section 3.1,
we start with a discrete inﬁnite population model as a direct extension to the P´olya urn
studied in Section 2. In Section 3.2, we consider an inﬁnite population model sampled from a
continuous space. Combining the ideas from these two subsections, we propose and analyze
a dynamical population model for the PoS protocol in Section 3.3.

PROOF OF STAKE

11

3.1. Discrete inﬁnite population. In Section 2, we consider the P´olya urn model with a
ﬁnite number of investors, i.e. K < ∞, and study the limiting behavior of the ratio πk,t or
πk,∞ as the initial coin oﬀerings N → ∞. Here we work directly with K = ∞ investors to
model the PoS protocol.

We give a formal description of the model. The P´olya urn model with an inﬁnite population
is just as described in Section 2 but for K = ∞. More precisely, there are a countably inﬁnite
number of investors indexed by N. Let nk,t, k ∈ N be investor k’s endowment of coins at time
t with (cid:80)∞
k=1 nk,t = Nt. At time t + 1, investor k is selected at random among all investors
with probability πk,t := nk,t/Nt. Once selected, the investor receives a deterministic reward
of Rt ≥ 0. This way, the equations (2.1)–(2.4) hold for K = ∞, and there are inﬁnitely many
small investors whose initial coins are nk,0 = o(1) (i.e. πk,0 = o(1/N )). The investor shares
are given by a vector of inﬁnite length (πk,t, k ∈ N+) Again by the martingale convergence
theorem,

(π1,t, π2,t, . . .) → (π1,∞, π2,∞, . . .)

as t → ∞,

(3.1)

where (πk,∞, k ∈ N+) is random probability measure on N+.

We have seen in Theorem 2.1 that for a ﬁnite number of K investors, if the reward Rt is
constant, the limiting investor shares (π1,∞, . . . , πK,∞) have the Dirichlet distribution. For
the P´olya urn model with an inﬁnite population, one important problem is to understand
limiting shares (π1,∞, π2,∞, . . .) under constant or more general rewarding schemes. To this
end, we recall the deﬁnition of the Dirichlet-Ferguson measure, or simply Dirichlet measure
which was introduced by Ferguson (1973); Blackwell and MacQueen (1973) in the context of
nonparametric Bayesian analysis.

Deﬁnition 3.1. Let S be a Polish space with Borel σ-ﬁeld S, and let µ be a positive measure
on (S, S) with 0 < µ(S) < ∞. We say that F has Dir(µ) distribution if F is a random
distribution on S such that for every measurable partition B1, . . . , Bk of S, the random vector
(F (B1), . . . , F (Bk)) has Dir(µ(B1), . . . , µ(Bk)) distribution.

The following theorem studies the evolution of shares in a PoS protocol modeled by the

P´olya urn with an inﬁnite population.

Theorem 3.2. Assume that the coin reward Rt ≡ R > 0. Then the investor shares have a
limiting distribution

(3.2)
where µ is a positive measure on N with µ({k}) = nk,0
R , k ∈ N. Moreover, for each investor
or a ﬁnite number of investors in the same category, the results in Theorems 2.1, 2.2 and
2.3 hold under the corresponding rewarding schemes.

(π1,∞, π2,∞, . . .) d= Dir(µ),

The proof of Theorem 3.2 is given in Appendix D.1. Note that if there are a ﬁnite number of
K investors, the measure µ is then supported on [K]. This recovers the identity in distribution
(2.8) in Theorem 2.1.

3.2. Inﬁnite population from continuum. We consider an urn model with an inﬁnite
population which is sampled from a continuous space – we call it a PoS feature model.
The motivation comes from understanding the inﬂuence induced by common features among
investors in the PoS protocol. The inﬂuence of a particular feature is measured by the total
shares that investors having this feature own. In many generic cases, features are represented

12

WENPIN TANG

or approximated by elements in a continuous sample space, e.g. geolocation of an investor,
market experience of an investor measured in time, index assessing the level of risk aversion
of an investor, and so on. Without loss of generality, we abstract the feature space as the
unit interval S = [0, 1].

The PoS feature model is inspired from the Blackwell-MacQueen construction of a P´olya
urn on general state spaces as described in Lemma D.1. At each time t ≥ 1, an investor with
some feature Xt ∈ S = [0, 1] is selected to receive a deterministic reward Rt ≥ 0. Now we
specify the selection rule over the time. At time t = 0, the initial coin oﬀering is N0 = N ,
and these coins are distributed among the investors with features in S = [0, 1] according to a
diﬀuse probability measure ν on S = [0, 1]. That is, the number of coins owned by investors
with features in [x, x + dx] is N ν(x)dx. At time t = 1, an investor with feature X1 is selected
by the rule

P(X1 ∈ ·) = ν(·),
(3.3)
and then receives a reward R1. So the total number of coins becomes N1 = N + R1. At
time t = 2, an investor with feature X2 is selected with probability P(X2 ∈ ·) = (R1δX1(·) +
N ν(·))/N1. More generally, at time t ≥ 2 an investor with feature Xt is selected by the rule:
(cid:80)t−1
N + (cid:80)t−1

P(Xt ∈ ·|X1, . . . , Xt−1) =

N ν(·)
N + (cid:80)t−1

n=1 RnδXn(·)
n=1 Rn

n=1 Rn

(3.4)

+

.

The main diﬀerence between the PoS feature model (3.3)–(3.4) and the urn models dis-
cussed in the previous sections is that there are uncountably many features of the investors
for selection, but there are only a countable number of investors selected at time t = 1, 2, . . .
Two questions arise naturally: (1). How to label the features of the investors selected by the
feature model (3.3)–(3.4)? (2). What are the limiting shares corresponding to these features?
These problems are closely related to the problem of species sampling and exchange-
able partitions studied in Pitman (1995, 1996). Let us spell out in the PoS setting as
follows. For (1) the simplest way to label the features among the selected investors is by
their order of appearance. For j ≥ 1, denote (cid:101)Xj as the jth feature to appear in the se-
quence of X1, X2, . . . Let M1 := 1 and Mj := inf{n : n > Mj−1, Xn /∈ {X1, . . . , Xn−1}}
for j ≥ 2, with the convention inf ∅ = ∞. So Mj is the index at which the jth fea-
ture appears for the ﬁrst time, and (cid:101)Xj = XMj on the event {Mj < ∞}. For instance,
if (X1, X2, . . .) = (0.1, 0.1, 0.3, 0.2, 0.2, 0.3, 0.1, 0.4, . . .), then M1 = 1, M2 = 3, M3 = 4,
M4 = 8, . . . and (cid:101)X1 = 0.1, (cid:101)X2 = 0.3, (cid:101)X3 = 0.2, (cid:101)X4 = 0.4, . . . For general rewards Rt, it seems
challenging to specify the limiting distribution of shares (π
(cid:101)X2,∞, . . .). One exception
is for the constant reward Rt ≡ R as stated in the following theorem.

(cid:101)X1,∞, π

Theorem 3.3. Assume that the coin reward Rt ≡ R > 0. Let (cid:101)X1, (cid:101)X2, . . . be the features
appearing in the order of appearance of the PoS feature model speciﬁed by (3.3)–(3.4). Then
there is the stick-breaking representation for the limiting shares:

π

(cid:101)Xj

=

(cid:34)j−1
(cid:89)

(1 − Wi)

(cid:35)

i=1

Wj

for j ≥ 1,

(3.5)

where W1, W2, . . . are independent and identically distributed as Beta(1, N/R). Moreover, let
Kt := sup{j : Mj ≤ t} be the number of features appeared among the ﬁrst t selected investors.
Then Kt/ log t → N/R almost surely.

PROOF OF STAKE

13

The proof of Theorem 3.3 is given in Appendix D.2. Theorem 3.3 shows that whatever the
initial distribution of features is, the PoS feature model (3.3)–(3.4) with a constant reward
yields a limiting share distribution on a countable number of features. This distribution,
which only depends on the initial coin oﬀerings N and the reward R, is known as the Griths-
Engen-McCloskey (GEM) distribution (Ewens (1990)).

We may also consider more general PoS feature models. One such instance is when the
selection rule relies on the history of the features of previously selected investors. For j ≥ 1,
let Njt := (cid:80)t
n=1 1(Xn = (cid:101)Xj, Mj < ∞) be the number of times that the investors with
feature j (in the order of appearance) are selected up to time t, and NNN t := (N1t, N2t, . . .) be
the vector of counts of various features of the investors up to time t. We can regroup the
investors according to their features, and rewrite the selection rule (3.4) as

P(Xt ∈ ·|X1, . . . , Xt−1, Kt−1 = k) =

k
(cid:88)

Njt−1
N/R + t − 1

1( (cid:101)Xj ∈ ·) +

N/R
N/R + t − 1

j=1
Here we look for general selection rules of form P(X1 ∈ ·) = ν(·) and for t ≥ 2,
k
(cid:88)

P(Xt ∈ ·|X1, . . . , Xt−1) =

pj(NNN t−1)1( (cid:101)Xj ∈ ·) + pk+1(NNN t−1)ν(·),

ν(·).

(3.6)

(3.7)

j=1

Nk

nj

k=1

for some functions pj, j = 1, 2, . . . deﬁned on ∪∞
+. The meaning of the selection rule
(3.7) is as follows: given the histogram NNN t−1 of k features of investors selected from time 1
to time t − 1, an investor with feature j is selected with probability pj(NNN t−1) for 1 ≤ j ≤ k,
and an investor with a new feature k + 1 is selected with probability pk+1(NNN t−1). It is easily
seen the selection rule (3.6) is a special case of the general rule (3.7) with pj(n1, . . . , nk) =
N/R+t−1 1(j = k −1), with (cid:80)k
N/R+t−1 1(1 ≤ j ≤ k)+ N/R
j=1 nj = t−1. A closely related selection
rule is deﬁned by the functions pj(n1, . . . , nk) = nj −α
N/R+t−1 1(j = k − 1),
for some α ≥ 0.
In this case, the limiting share distribution also has the stick-breaking
representation (3.5) with W1, W2, . . . independent, and Wk distributed as Beta(1 − α, N/R +
kα). This is known as the Pitman-Yor distribution (Pitman (1996); Pitman and Yor (1997)).
In general, we need the following condition on pj to deﬁne the selection rule (3.7): pj(nnn) ≥ 0
and (cid:80)|nnn|0+1
+, where |nnn|0 is the number of nonzero entries in nnn.
Pitman (1996) provides an additional condition on pj in terms of the exchangeable partition
probability functions (EPPFs) so that the sequence X1, X2, . . . speciﬁed by the selection rule
(3.3)–(3.7) is exchangeable, and thus the limiting share distribution is well-deﬁned. Such
a sequence X1, X2, . . . is called the species sampling sequence, see also Hansen and Pitman
(2000) for related discussions.

N/R+t−1 1(1 ≤ j ≤ k) + N/R+kα

pj(nnn) = 1 for nnn ∈ ∪∞

Nk

k=1

j=1

3.3. From ﬁnite to inﬁnite population. In this ﬁnal subsection, we propose a dynamical
approach to model the PoS protocol. We start with a ﬁnite number of investors, and then at
each time a new investor may come into the market, which evolves to an inﬁnite number of
investors. This combines the ideas from previous sections, especially the Blackwell-MacQueen
urn model.

We proceed to the description of the model. At time t = 0 there are K investors indexed
by [K]. These investors are initial capitalists in the blockchain network, so they play a very
important role in the PoS protocol. For k ∈ [K], let nk,0 be the initial endowment of coins

14

WENPIN TANG

of investor k, and πk,0 := nk,0/N with N = (cid:80)K
k=1 nk,0 be the corresponding shares. At time
t = 1, there are two possibilities: either one of these K initial investors are selected, or a new
investor is selected from the population. This is realistic since many cryptocurrencies are
initially owned by a handful of coin miners or venture capitalists, and then their shares will
be diluted by new investors over the time. Since the population is large, we approximate the
population space by the unit interval S = [0, 1], and a new investor is selected from S = [0, 1]
by a diﬀuse probability measure ν as in Section 3.2. We also introduce a dilution parameter
θ > 0, which is the weight that a new investor is introduced to the blockchain network. More
precisely,

• For each k ∈ [K], investor k is selected with probability nk,0
N +θ .
• A new investor with “index’ in (0, 1) is selected with probability θν(·)
N +θ .

By letting X1 be the index of the investor selected at time 1, we have

P(X1 ∈ ·) =

K
(cid:88)

k=1

nk,0
N + θ

δk(·) +

θν(·)
N + θ

,

(3.8)

and the selected investor receives a deterministic reward R1 > 0. More generally, at time t
the selection rule is given by

P(Xt ∈ ·|X1, . . . , Xt−1) =

K
(cid:88)

k=1

nk,t−1
Nt−1 + θ

δk(·) +

(cid:88)

Xn∈(0,1)

nXn,t−1
Nt−1 + θ

δXn(·) +

θν(·)
Nt−1 + θ

,

(3.9)

where nk,t is the number of coins that investor k owns at time t, nXn,t is the number of coins
that a new investor with index Xn ∈ (0, 1) owns at time t, and Nt = N + (cid:80)t
n=1 Rn is the
total number of coins up to time t. There are three terms on the right side of the selection
rule (3.9): the ﬁrst one comes from the K initial investors, the second term is from the new
investors previously entering the market, and the third term is the probability that a new
investor is introduced. The following theorem studies how the shares of the initial capitalists
are diluted over the time.

Theorem 3.4. For k ∈ [K], let πk,t be the shares of investor k at time t under the PoS
protocol (3.8)–(3.9). Then (πk,t, t ≥ 0) is a supermartingale. Consequently, the shares
of initial investors (π1,t, . . . , πK,t) → (π1,∞, . . . , πK,∞) almost surely for some random sub-
probability distribution (π1,∞, . . . , πK,∞).

(1) Assume that the coin reward Rt is decreasing with Rt ≥ Rt+1 for each t ≥ 0.
(cid:16) πk,∞
(i) If limt→∞ Rt = R > 0 or Rt = Θ(t−α) for α < 1, we have 0 < E
πk,0

(cid:17)

< 1,

and limN →∞ E

(cid:17)

(cid:16) πk,∞
πk,0

= 1.

(ii) If Rt = Θ(t−α) for α > 1, we have πk,∞ = 0 almost surely.

(2) Assume that the coin reward Rt = ρN γ
(cid:16) πk,∞
πk,0

and limN →∞ E

= 1.

(cid:17)

t−1 for ρ, γ > 0. We have 0 < E

(cid:17)

(cid:16) πk,∞
πk,0

< 1,

(3) Assume that the coin reward Rt = R > 0. We have πk,∞

d= Beta

Consequently, the results in Theorem 2.1 hold.

(cid:16) nk,0

R , N +θ−nk,0

R

(cid:17)

.

PROOF OF STAKE

15

The proof of Theorem 3.4 is given in Appendix D.3. The theorem shows that for the
dynamical PoS model (3.8)–(3.9), the shares of initial investors will decrease over the time.
If the coin reward does not decay too fast, i.e. Rt (cid:29) t−1, the expectation of the ratio
πk,∞/πk,0 tends to 1 as the initial coin oﬀering N is large. On the contrary, if the coin
reward decays very fast, i.e. Rt (cid:28) t−1, the initial investors’ shares will be eventually diluted
to zero. More is known if the coin reward is constant. As is clear in the proof, the selection
rule (3.9) as a probability measure converges with probability one to a random discrete
probability distribution F d= Dir(((cid:80)K
k=1 nk,0δk + θν)/R), and given F the indices of selected
investors, i.e. X1, X2, . . . are independent and identically distributed as F . Recall that
F has the representation (cid:80)∞
R ) distribution, and
Z1, Z2, . . . are independent and identically distributed as ((cid:80)K
k=1 nk,0δk +θν)/(N +θ) and also
independent of (P1, P2, . . .). Thus, the indices of new investors (in order of their appearance)
are just independent and identically distributed as ν, and the limiting expectation of their
N +θ . So the larger the initial coin oﬀerings N are, the less inﬂuence of new
total shares is
investors have.

t=1 PtδZt where (P1, P2, . . .) has GEM( N +θ

θ

4. Conclusion

In this paper, we study the evolution of investor shares in a PoS blockchain under various
rewarding schemes and for diﬀerent types of investors. In contrast with the previous works
where only large investors are considered, we take the heterogeneity of investors into account,
and show that medium to small investors may suﬀer from share instability – their shares
may be volatile, or even shrink to zero in the long run. This leads to the phase transition
phenomenon, where thresholds for stability vs instability are characterized under diﬀerent
rewarding schemes. In particular, for the PoS protocol with a geometric reward we observe
chaotic centralization; that is, all the shares will go to one investor in a random manner.
In response to the increasing activities in blockchain networks, we also propose and analyze
a dynamical population model for the PoS protocol which allows the number of investors
to grow over the time. Our quantitative analysis also provides guidance on the choice of
rewarding schemes so that decentralization is indeed implemented in a PoS blockchain.

There are a few directions to extend this work. For instance, one can study the trading
incentive in the dynamical population setting. This requires incorporating a game-theoretic
component to the analysis, and formulating a suitable reward optimization problem. Another
problem is to consider other types of urn dynamics to model the voting rule in the PoS
protocol, e.g.
square voting rule (Penrose (1946)), and study the problems of long time
stability and reward incentives.

Acknowledgement: We thank Alex Y. Wu for the help with the numerical experiments
and the careful reading of the manuscript. We thank David Yao for helpful discussions,
and Agostino Capponi and Jing Huang for various pointers to the literature. We gratefully
acknowledges ﬁnancial support through an NSF grant DMS-2113779 and through a start- up
grant at Columbia University.

16

WENPIN TANG

Appendix A. Proof of Theorem 2.1

Proof. The fact that the investor shares (π1,t, . . . , πK,t) converges almost surely as t → ∞ to
(π1,∞, . . . , πK,∞) with the Dirichlet distribution (2.8) is a classical result of P´olya urn, see
e.g.(Johnson and Kotz, 1977, Section 6.3).
(i) Since (πk,t, t ≥ 0) is a martingale, we have E(πk,t) = πk,0. It follows from (Mahmoud,
2009, Corollary 3.1) or Lemma 2.2 of (Goldstein and Reinert, 2013, Lemma 2.2) that
(cid:18) R

N
N + R
Specializing (A.1) to t = ∞, we obtain Var(πk,∞) = R
Corollary 1 of Ro¸su and Saleh (2021). By applying Chebyshev’s inequality, we get

N +R πk,0(1 − πk,0) which recovers

R2
(Rt + N )2

πk,0(1 − πk,0).

Var(πk,t) =

N + R

(A.1)

t2 +

(cid:19)

t

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

(cid:12)
(cid:12)
− 1
(cid:12)
(cid:12)

(cid:19)

> ε

≤

=

≤

Var(πk,t)
ε2π2

k,0
1 − πk,0
ε2πk,0
1 − πk,0
ε2πk,0

(cid:18)

R3t2
(Rt + N )2(N + R)

+

R2N t
(Rt + N )2(N + R)

(cid:19)

(cid:18) R

N + R

+

R
4(N + R)

(cid:19)

,

(A.2)

R

N and 1 − πk,0 ≤ 1.
(cid:1), we have πk,∞

which leads to (2.9) by noting that πk,0 = f (N )
(ii) Since (π1,∞, . . . , πK,∞) d= Dir (cid:0) n1,0
R , . . . , nK,0
nk,0 = Θ(1), by standard limit theorem we get N πk,∞/R d−→ γ (cid:0) nk,0
convergence in distribution (2.10).
(iii) By (ii) we have πk,∞
πk,0
Then
(cid:18) πk,∞
πk,0
0 xa−1e−xdx ≥ e−aε (aε)a

Note that (cid:82) aε
constant C > 0 (independent of a) such that

(cid:1). Let a = nk,0

(cid:18) γ(a)
a

γ (cid:0) nk,0
R

1
Γ(a)

d= R
nk,0

= P

(cid:90) aε

< ε

≤ ε

=

(cid:19)

(cid:19)

P

R

0

xa−1e−xdx.

d= Beta( nk,0

R . N −nk,0

). Now
R
(cid:1). This implies the

R so a → 0 as N → ∞ by hypothesis.

a , and aΓ(a) → 1 as a → 0. As a result, there exists a

P

(cid:18) πk,∞
πk,0

(cid:19)

< ε

≥ Ce−aε(aε)a = C exp (−aε + a log a + a log ε) ,

which converges to 1 as a → 0. This yields the convergence (2.11).

Appendix B. Proof of Theorem 2.2

To prove Theorem 2.2, we need a series of lemmas.

Lemma B.1. The variance of investor k’s share is

where

Var(πk,t) = atπk,0(1 − πk,0),

a1 =

(cid:19)2

(cid:18) R1
N1

,

at+1 = at +

(cid:19)2

(cid:18) Rt+1
Nt+1

(1 − at).

(cid:3)

(B.1)

(B.2)

The third central moment of investor k’s share satisfy the relation

PROOF OF STAKE

17

µ3(πk,t+1) = µ3(πk,t) +

+

t+1

t+1

3R2
N 2
R3
N 3

t+1

t+1

E[(πk,t − πk,0)πk,t(1 − πk,t)]

E[πk,t(1 − πk,t)(1 − 2πk,t)],

(B.3)

and the fourth central moment of investor k’s share satisfy the relation

µ4(πk,t+1) = µ4(πk,t) +

+

+

t+1

t+1

t+1

6R2
N 2
4R3
N 3
R4
N 4

t+1

t+1

t+1

E[(πk,t − πk,0)2πk,t(1 − πk,t)]

E[(πk,t − πk,0)πk,t(1 − πk,t)(1 − 2πk,t)]

E[πk,t(1 − πk,t)(1 − 3πk,t + 3π2

t )].

(B.4)

Proof. The formula (B.1)–(B.2) for the variance of investor’s share is read from (Ro¸su and
Saleh, 2021, Lemma A.2). It is easily seen from (2.4) that

πk,t+1 − πk,0 = (πk,t − πk,0) +

Rt+1
Nt+1

(1Sk,t+1 − πk,t).

(B.5)

Taking the third and the fourth moment on both sides of (B.5), and using the binomial
(cid:3)
expansion yields the formulas (B.3)–(B.4).

Lemma B.2. Assume that the reward Rt is decreasing, i.e. Rt ≥ Rt+1 for each t ≥ 0, and
that limt→∞ Rt = R > 0.

(1) Let at be deﬁned by (B.2). We have

(N − R1)R2t
N (N + R1)(N + R1(1 + t))

≤ at ≤

R1
N

,

for each t ≥ 1.

(B.6)

(2) Let µ3(πk,t) and µ4(πk,t) be the third and the fourth central moment of investor k’s
share satisfying (B.3), (B.4) respectively. If πk,0 = O(1/N ), there exist C3, C4 > 0
independent of t and N such that

µ3(πk,t) ≤

C3πk,0
N 2

, µ4(πk,t) ≤

C4πk,0
N 3

for each t ≥ 1.

(B.7)

Proof. (1) The upper bound at ≤ R1
(B.2), we get at+1 ≥ at + (cid:0)1 − R1

N follows from (Ro¸su and Saleh, 2021, Lemma A.4). By
(cid:1) (cid:16) Rt+1
Nt+1

. This implies that for t ≥ 1,

(cid:17)2

N

(cid:18)

at ≥

1 −

(cid:18)

≥

1 −

R1
N

R1
N

(cid:19)2

(cid:19) t

(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

(cid:19) t

(cid:88)

(cid:18) Rn

k=1 Rk
(cid:19)2

N + nR1

n=1

,

(B.8)

18

WENPIN TANG

where the second inequality is due to the fact that Rt is decreasing. By abuse of language,
let (Rs, s ∈ [1, ∞)) be the linear interpolation of (Rt, t = 1, 2, . . .). Since s → Rs
is
decreasing, we deduce from (B.8) that

N +sR1

(cid:18)

at ≥

1 −

R1
N

(cid:19) (cid:90) t+1

1

R2
s

(N + sR1)2 ds ≥

(cid:18)

1 −

R1
N

(cid:19) (cid:90) t+1

1

R2
(N + sR1)2 ds,

which yields the lower bound in (B.6).
(2) Note that (πk,t − πk,0)πk,t(1 − πk,t) ≤ π2

E[(πk,t − πk,0)πk,t(1 − πk,t)] ≤ E(π2

k,0 + Var(πk,t)

k,t(1 − πk,t) ≤ π2
k,t) = π2

k,t. Then for each t ≥ 1,

≤ π2

k,0 +
Cπk,0
N

≤

R1πk,0
N

for some C > 0,

(B.9)

where the second inequality follows from (B.1) and the upper bound in (B.6), and the last
inequality is due to the fact that πk,0 = O(1/N ). Also for each t ≥ 1,

E[πk,t(1 − πk,t)(1 − 2πk,t)] ≤ E(πk,t) = πk,0.

Combining (B.3), (B.9) and (B.10), we get

µ3(πk,t) ≤

3Cπk,0
N

t
(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

k=1 Rk

(cid:19)2

+ πk,0

t
(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

k=1 Rk

(cid:19)3

.

(B.10)

(B.11)

Using the sum-integral trick as in (Ro¸su and Saleh, 2021, Lemma A.4) we deduce that
(cid:80)t

≤ (R1/N )k−1 for k = 2, 3, . . . So the bound (B.11) leads to

(cid:17)k

(cid:16)

n=1

Rn
N +(cid:80)n
k=1 Rk

µ3(πk,t) ≤ 3CR1

πk,0
N 2 + R2

1

πk,0
N 2 ≤

C3πk,0
N 2

for some C3 > 0.

Similarly, we get from (B.4) that

µ4(πk,t) ≤

Cπk,0
N 2

t
(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

k=1 Rk

(cid:19)2

+

C(cid:48)πk,0
N

+ C(cid:48)(cid:48)πk,0

t
(cid:88)

(cid:18)

n=1
t
(cid:88)

(cid:18)

≤ CR1

πk,0
N 3 + C(cid:48)R2

1

πk,0
N 3 + C(cid:48)(cid:48)R3

1

πk,0
N 3 ≤

n=1
C4πk,0
N 3

(cid:19)3

(cid:19)4

Rn
N + (cid:80)n

k=1 Rk

Rn
N + (cid:80)n

k=1 Rk

for some C4 > 0.

(cid:3)

Lemma B.3. Assume that the reward Rt is decreasing, i.e. Rt ≥ Rt+1 for each t ≥ 0, and
that Rt = Θ(t−α) for α > 1
2 .

(1) Let at be deﬁned by (B.2). We have
(cid:80)

R2
1

(N + R1)2 ≤ at ≤

t≥1 R2
t
N 2

,

for each t ≥ 1.

(B.12)

PROOF OF STAKE

19

(2) Let µ3(πk,t) and µ4(πk,t) be the third and the fourth central moment of investor k’s
share satisfying (B.3), (B.4) respectively. If πk,0 = O(1/N 2), there exist C3, C4 > 0
independent of t and N such that

µ3(πk,t) ≤

C3πk,0
N 3

, µ4(πk,t) ≤

C4πk,0
N 4

for each t ≥ 1.

(B.13)

Proof. (1) By (Ro¸su and Saleh, 2021, Lemma A.3), the sequence (at, t ≥ 1) is increasing. So
the lower bound in (B.12) follows from the fact that at ≥ a1. Further by (B.2), we get

at ≤

t
(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

k=1 Rk

(cid:19)2

≤

t
(cid:88)

n=1

R2
n
N 2 ≤

(cid:80)

t≥1 R2
t
N 2

,

(B.14)

where the last inequality is due to the fact that Rt = Θ(t−α) for α > 1
(2) Note that (cid:80)t
Rn
N +(cid:80)n
k=1 Rk
as in Lemma B.2 and the fact that πk,0 = O(1/N 2), we get

t≥1 Rk

≤ (cid:80)

n=1

(cid:17)k

(cid:16)

t /N k for k = 2, 3, . . . Using the same argument

2 so (cid:80)

t≥1 R2

t < ∞.

µ3(πk,t) ≤

1
N 2 + C(cid:48)πk,0
C(cid:48)πk,0
1
N 2 +
N 2
for some C, C(cid:48), C(cid:48)(cid:48) > 0 independent of t and N . This clearly yields the bounds (B.13).

1
N 3 ,
1
N 3 + C(cid:48)(cid:48)πk,0

Cπk,0
N 2
Cπk,0
N 3

µ4(πk,t) ≤

1
N 4 ,

(cid:3)

Lemma B.4. Assume that the reward Rt is decreasing, i.e. Rt ≥ Rt+1 for each t ≥ 0, and
that Rt = Θ(t−α) for α < 1
2 .

(1) Let at be deﬁned by (B.2). There exist C > c > 0 independent of t and N such that

cN − 1

1−α ≤ at ≤ CN − 1

1−α ,

for each t ≥ N

1
1−α .

(B.15)

(2) Let µ3(πk,t) and µ4(πk,t) be the third and the fourth central moment of investor k’s
1−α ), there exist C3, C4 > 0

share satisfying (B.3), (B.4) respectively. If πk,0 = O(N − 1
independent of t and N such that
µ3(πk,t) ≤ C3πk,0N − 2

1−α , µ4(πk,t) ≤ C4πk,0N − 3

1−α

for each t ≥ 1.

(B.16)

Proof. (1) It follows from (B.8) and (B.14) that

at

(cid:16)

(cid:80)t

n=1

Rn
N +(cid:80)n
k=1 Rk

(cid:17)2 → 1

as N → ∞.

Thus, we need to study the asymptotic behavior of (cid:80)t
Rt = Θ(t−α) for α < 1
2 , we have:

n=1

(cid:16)

Rn
N +(cid:80)n
k=1 Rk

(cid:17)2

as N → ∞. Since

c

t
(cid:88)

n=1

1
(N nα + n)2 . ≤

t
(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

k=1 Rk

(cid:19)2

≤ C

t
(cid:88)

n=1

1
(N nα + n)2 .

for some C > c > 0 independent of t and N . Again by the sum-integral trick, we get

(cid:90) t+1

1

ds
(N sα + s)2 ≤

t
(cid:88)

n=1

1
(N nα + n)2 ≤

1
N 2 +

(cid:90) ∞

1

ds
(N sα + s)2 .

(B.17)

(B.18)

20

WENPIN TANG

Now for t ≥ N

1
1−α , we have

(cid:90) t

1

ds
(N sα + s)2 =

≤

1
1−α

(cid:90) N

1

1
N 2

(cid:90) N

1

ds
(N sα + s)2 +
(cid:90) t

1
1−α

ds
s2α +

(cid:90) t

1
1−α

N

ds
(N sα + s)2

ds

s2 ≤ C(cid:48)N − 1

1−α ,

1
1−α

N

and

(cid:90) t

1

ds
(N sα + s)2 =

1
1−α

(cid:90) N

1

ds
s2α +
Combining (B.17), (B.18), (B.19) and (B.20) yields

1
4N 2

≥

1

ds
(N sα + s)2 +
(cid:90) t

1
1−α

(cid:90) N

(cid:90) t

1
1−α

N

ds
(N sα + s)2

ds

4s2 ≥ C(cid:48)(cid:48)N − 1

1−α ,

1
1−α

N

(B.19)

(B.20)

cC(cid:48)N − 1

1−α ≤

t
(cid:88)

(cid:18)

n=1

Rn
N + (cid:80)n

k=1 Rk

(cid:19)2

≤ CC(cid:48)N − 1

1−α

for t ≥ N

1
1−α .

(cid:16)

This leads to the bounds (B.15).
≤ CN − k−1
(2) Similar to (B.17)–(B.19), we have (cid:80)t
the same argument as in Lemma B.2 and the fact that πk,0 = O(N − 1
1−α N − 1
1−α N − 1

µ3(πk,t) ≤ Cπk,0N − 1
µ4(πk,t) ≤ Cπk,0N − 2

1−α + C(cid:48)πk,0N − 2
1−α + C(cid:48)πk,0N − 1

1−α + C(cid:48)(cid:48)πk,0N − 3
for some C, C(cid:48), C(cid:48)(cid:48) > 0 independent of t and N . This gives the bounds (B.16).

1−α ,
1−α N − 2

Rn
N +(cid:80)n
k=1 Rk

n=1

(cid:17)k

1−α ), we get

1−α ,

1−α for k = 2, 3, . . . Using

(cid:3)

Proof of Theorem 2.2. (1) (i) By Chebyshev’ inequality and the upper bound in (B.6), we
get

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,t
πk,0

− 1

(cid:12)
(cid:12)
(cid:12)
(cid:12)

(cid:19)

> ε

≤

at(1 − πk,0)
πk,0ε2

≤

R1
N πk,0ε2 =

R1
nk,0ε2 .

This proves (2.12): the ratio πk,t/πk,0 converges in probability to 1 as nk,0 = f (N ) → ∞.

(ii) Note that Var

(cid:17)

(cid:16) πk,∞
πk,0

= N a∞(1−πk,0)
nk,0

. It follows from (B.6) that

R2
R1

≤ lim inf
N →∞

N a∞ ≤ lim sup
N →∞

N a∞ ≤ R1.

(B.21)

Since nk,0 = Θ(1), we deduce from the lower bound of (B.21) that there exists c > 0
independent of N such that Var
(cid:32)(cid:18) πk,∞
πk,0

(cid:32)(cid:18) πk,∞
πk,0

≥ c. For ε > 0, we have

(cid:18) πk,∞
πk,0

(cid:16) πk,∞
πk,0

c ≤ Var

= E

+ E

− 1

− 1

(cid:19)2

(cid:19)2

(cid:33)

(cid:33)

(cid:19)

(cid:17)

(cid:27)

(cid:27)

1(cid:26)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,∞
πk,0

(cid:12)
(cid:12)
−1
≤ε
(cid:12)
(cid:12)

1(cid:26)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,∞
πk,0

(cid:115)

≤

µ4

(cid:18) πk,∞
πk,0

(cid:19)

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,∞
πk,0

(cid:12)
(cid:12)
−1
>ε
(cid:12)
(cid:12)
(cid:12)
(cid:12)
(cid:12)
(cid:12)

(cid:19)

− 1

> ε

+ ε2.

(B.22)

By the upper bound (B.7), we get µ4

(cid:17)

(cid:16) πk,∞
πk,0

≤ C4
n3

k,0

:= C. As a result, for ε <

√

c,

PROOF OF STAKE

21

P

(cid:18)(cid:12)
(cid:12)
(cid:12)
(cid:12)

πk,∞
πk,0

− 1

(cid:12)
(cid:12)
(cid:12)
(cid:12)

(cid:19)

> ε

≥

(c − ε2)2
C

,

which leads to the anti-concentration bound (2.13).
(iii) Again from (B.21) we obtain

R2
R1

≤ lim inf
N →∞

nk,0 Var

(cid:19)

(cid:18) πk,∞
πk,0

≤ lim sup
N →∞

nk,0 Var

(cid:19)

(cid:18) πk,∞
πk,0

≤ R1,

which implies Var

(cid:17)

(cid:16) πk,∞
πk,0

→ ∞ since nk,0 = o(1).

(2) and (3) follow from Lemma B.3 and B.4 exactly in the same way as (1) is derived from
(cid:3)
Lemma B.2.

Appendix C. Proof of Theorem 2.3

To prove Theorem 2.3, we need the following lemma.
Lemma C.1. Assume that the coin reward Rt = ρN γ

t−1 for some ρ > 0 and γ ∈ [0, 1).
(1) Let at be deﬁned by (B.2). There exist c > 0 independent of t and N such that

cN γ−1 ≤ at ≤

ρ
1 − γ

N γ−1,

for t suﬃciently large.

(C.1)

(2) Let µ3(πk,t) and µ4(πk,t) be the third and the fourth central moment of investor k’s
share satisfying (B.3), (B.4) respectively. If πk,0 = O(N γ−1), there exist C3, C4 > 0
independent of t and N such that

µ3(πk,t) ≤ C3πk,0N 2γ−2, µ4(πk,t) ≤ C4πk,0N 3γ−3

for each t ≥ 1.

(C.2)

Proof. (1) The upper bound at ≤ ρ
1−γ N γ−1 follows from (Ro¸su and Saleh, 2021, Lemma
1
A.5). Recall that Nt+1 = Nt + ρN γ
t , and thus Nt behaves asymptotically as t
1−γ . As a
result, there is c > 0 independent of t and N such that Nt ≥ cNt+1 for t suﬃciently large.
This also implies that Rt ≥ cγRt+1 for t suﬃciently large. By (B.8), we have

at ≥ (cid:0)1 − ρN γ−1(cid:1)

t
(cid:88)

(cid:19)2

(cid:18) Rn
Nn

n=1
(cid:19)2

≥ c(cid:48)

t
(cid:88)

n=1

(cid:18) Rn+1
Nn

= c(cid:48)

t
(cid:88)

n=1

Nn+1 − Nn
N 2−γ
n

,

(C.3)

where the last equality is due to the fact that R2
integral trick, we get

n+1 = ρN γ

n (Nn+1 − Nn). Using the sum-

t
(cid:88)

n=1

Nn+1 − Nn
N 2−γ
n

≥ c(cid:48)(cid:48)

(cid:90) Nt

N

ds
s2−γ ≥ c(cid:48)(cid:48)(cid:48)N γ−1,

(C.4)

for t suﬃciently large. Combining (C.3) and (C.4) yields the lower bound in (C.1).

22

WENPIN TANG

(2) Similar to the proof of the upper bound in (C.1), we can show that (cid:80)t
≤
ρk−1N (k−1)(γ−1) for k = 2, 3, . . . Using the same argument as in Lemma B.2 and the fact that
πk,0 = O(N γ−1), we obtain:

n=1

(cid:17)k

(cid:16) Rn
Nn

µ3(πk,t) ≤ Cπk,0N γ−1N γ−1 + C(cid:48)πk,0N 2(γ−1),
µ4(πk,t) ≤ Cπk,0N 2(γ−1)N γ−1 + C(cid:48)πk,0N γ−1N 2(γ−1) + C(cid:48)(cid:48)πk,0N 3(γ−1),

for C, C(cid:48), C(cid:48)(cid:48) > 0 independent of t and N . This leads to the bounds (C.2).

(cid:3)

Proof of Theorem 2.3. (1) It follows from the proof of Proposition 4 of Ro¸su and Saleh (2021)
that for Rt = ρN γ
t−1 with γ > 1, the sequence at increases to the limit a∞ = 1. Consequently,
k,∞) = πk,0
(C.5)
Note that E(πk,∞) = πk,0, so E(πk,∞(1 − πk,∞)) = 0. Since πk,∞(1 − πk,∞) ≥ 0, we get
πk,∞ ∈ {0, 1} and (2.17) holds.
(2) follows from Lemma C.1 exactly in the same way as Theorem 2.1 follows from Lemmas
(cid:3)
B.2–B.4.

k,t) → E(π2

as t → ∞.

E(π2

Appendix D. Proof of Theorems 3.2 – 3.4

D.1. Proof of Theorem 3.2. To prove Theorem 3.2, we need the following result of the
Blackwell-MacQueen urn scheme which generalizes the P´olya urn scheme.

Lemma D.1 (Blackwell and MacQueen (1973)). Let µ be a positive and ﬁnite measure on
a Polish space (S, S). Deﬁne a sequence (Xt, t = 1, 2, . . .) as follows: X1 is distributed as
µ(·)/µ(S), and for t ≥ 1,

P(Xt+1 ∈ ·|X1, . . . , Xt) =

µ(·) + (cid:80)t

n=1 δXn(·)

µ(S) + t

:= Ft(·),

(D.1)

where δX (·) is the Dirac mass at point X. Then

• Ft converges in total variation (and thus in distribution) almost surely to a random

discrete distribution F , which has Dir(µ) distribution.

• Conditional given F , X1, X2, . . . are independent and identically distributed as F .

Proof of Theorem 3.2. First assume that Rt ≡ R, and let µ be a positive measure on S = N
such that µ({k}) = nk,0
R . Let Xt, t ≥ 1 be the index of the investor who is
selected by the PoS protocol at time t. By deﬁnition of the PoS scheme, we have

R , so µ(S) = N

P(X1 = k) =

nk,0
N

=

µ({k})
µ(S)

,

P(Xt+1 = k|X1, . . . , Xt) =

nk,0 + R (cid:80)t

n=1 1{Xn=k}

N + Rt

=

µ({k}) + (cid:80)t

n=1 δXn({k})

µ(S) + t

.

d=
Lemma D.1 then implies the identity in distribution (3.2). By Deﬁnition 3.1, we get πk,0
Beta( nk,0
) for each ﬁxed k, and thus the results in Theorem 2.1 hold. The results in
Theorems 2.2 and 2.3 are stated for each investor k, and do not depend on the number K of
(cid:3)
investors. So these results also hold in the inﬁnite population setting.

R , N −nk,0

R

D.2. Proof of Theorem 3.3.

PROOF OF STAKE

23

Proof. The stick-breaking representation (3.5) follows from the Blackwell-MacQueen urn con-
struction (Lemma D.1), along with various constructions of the Dirichlet measure by Fer-
guson (1973); McCloskey (1965). See e.g. (Pitman, 1996, Section 2.2) for a review of the
circle of ideas. The fact that Kt behaves asymptotically as N
R log t is read from (Korwar and
(cid:3)
Hollander, 1973, Theorem 2.3 ).

D.3. Proof of Theorem 3.4.

Proof. Note that nk,t+1 = nk,t + Rt with probability nk,t
1 − nk,t

Nt+θ . As a result,

Nt+θ and nk,t+1 = nk,t with probability

E(πk,t+1|Ft) =

=

+

nk,t
Nt + θ

nk,t + Rt
Nt + Rt
nk,t(Nt + θ + Rt)
(Nt + Rt)(Nt + θ)

nk,t
Nt + Rt
nk,t
Nt

<

= πk,t.

(cid:18)

1 −

(cid:19)

nk,t
Nt + θ

So (πk,t, t ≥ 0) is a supermartingale. By the martingale convergence theorem, (π1,t, . . . , πK,t)
converges almost surely to a random vector (π1,∞, . . . , πK,∞). Observe that E(πk,t+1) =
Nt(Nt+1+θ)
Nt+1(Nt+θ)

E(πk,t) which implies that

E(πk,∞) = πk,0

∞
(cid:89)

t=1

(cid:18)

1 −

θRt+1
Nt+1(Nt + θ)

(cid:19)

.

(D.2)

Rt+1

Rt+1

Rt+1

Rt+1

If limt→∞ Rt = R > 0, we have
Nt+1(Nt+θ) = O(t−2+α).

(1) Assume that Rt is decreasing.
and if Rt = Θ(t−α) for α < 1, we have
(cid:80)∞
t=1

Nt+1(Nt+θ) = O(t−2),
In both cases, we get
Nt+1(Nt+θ) < ∞ and thus the inﬁnite product in (D.2) converges to some number in
Rt+1
Nt+1(Nt+θ) ≥ Ct−1 for t suﬃciently large. In this
Nt+1(Nt+θ) = ∞. Consequently, we get E(πk,∞) = 0 which implies that πk,∞ = 0

t−1 for ρ, γ > 0. If γ < 1, it follows from the proof of Lemma
Rt+1
Nt+1(Nt+θ) =
Nt+1(Nt+θ) < ∞ which

(0, 1). If Rt = Θ(t−α) for α > 1, we have
case, (cid:80)∞
t=1
almost surely.
(2) Assume that Rt = ρN γ
C.1 that Rt = Θ
) and Nt grows exponentially in t. In both cases, we have (cid:80)∞
Θ(N −1
t
t=1
implies that the inﬁnite product in (D.2) converges to some number in (0, 1).
(3) It is easily checked that the PoS scheme (3.8)–(3.9) with a constant reward is just the
Blackwell-MacQueen urn with µ := ((cid:80)K
It follows from Lemma D.1
that selection probability (3.9) converges almost surely to a random discrete distribution
F d= Dir(µ), and given F the indices of investors selected are independent and identically
(cid:17)
distributed as F . This implies that the limiting share of investor k is Beta
,
(cid:3)
and the results in Theorem 2.1 follow.

k=1 nk,0δk + θν)/R.

Nt+1(Nt+θ) = O

R , N +θ−nk,0

. If γ > 1, then

. We have

t−2− γ

(cid:16) nk,0

γ
1−γ

Rt+1

Rt+1

1−γ

(cid:17)

(cid:17)

(cid:16)

(cid:16)

R

t

24

WENPIN TANG

Appendix E. Numerical illustrations for Theorems 2.2 and 2.3

E.1. Numerical illustrations for Theorem 2.2: decreasing reward.

(1) Rt is bounded from 0: Figure 3 shows the concentration bound (2.12) for large investors;
Figure 4a shows the bounded variance and the anti-concentration bound (2.13) for medium
investors; Figure 4b shows the exploding variance for small investors.

Figure 3. Decreasing reward: stability of πk,t/πk,0 for large investors. Blue
curve: Pmax is a MC estimate of max1≤t≤50000 P
. Orange
curve: right side upper bound in (2.12) with Rt = 1 + 0.999t, ε = 0.05,
nk,0 = N/2 and N ∈ {1700, 2200, 2700, ..., 10700}.

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.05

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

(a) MC estimates of Var(πk,t/πk,0) and
P
with Rt = 1+t−1, nk,0 =

(cid:12)
(cid:17)
(cid:12)
− 1
(cid:12) > 0.5

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

1 and N ∈ {100, 110, 120, ..., 200}.

(b) MC estimate of Var(πk,50000/πk,0) with
Rt = 1 + t−1, nk,0 = N −1.1 and N ∈
{100, 110, 120, ..., 300}.

Figure 4. Decreasing reward: instability of πk,t/πk,0 for medium and small
investors.

(2) Rt = Θ(t−α) for α > 1/2: Figure 5 shows the concentration bound (2.14) for large
investors; Figure 6a shows the bounded variance for medium investors; Figure 6b shows the
exploding variance for small investors.

PROOF OF STAKE

25

Figure 5. Decreasing reward: stability of πk,t/πk,0 for large investors. Blue
curve: Pmax is a MC estimate of max1≤t≤50000 P
. Orange
curve: right side upper bound in (2.14) with Rt = t−0.6, ε = 0.05, nk,0 = 1
and N ∈ {2000, 2500, 3000, ..., 11000}.

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.05

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

(a) MC estimate of Var(πk,t/πk,0) with
Rt = t−0.6, nk,0 = 1/N and N ∈
{100, 110, 120, ..., 200}.

(b) MC estimate of Var(πk,50000/πk,0) with
Rt = t−0.6, nk,0 = 1/N 2 and N ∈
{50, 55, 60, ..., 150}.

Figure 6. Decreasing reward: instability of πk,t/πk,0 for medium and small
investors.

(3) Rt = Θ(t−α) for α < 1/2: Figure 7 shows the concentration bound (2.15) for large
investors; Figure 8a shows the bounded variance and the anti-concentration bound (2.16) for
medium investors; Figure 8b shows the exploding variance for small investors.

t−1 for γ < 1: Figure 9 shows the chaotic centralization under a geometric

E.2. Numerical illustrations for Theorem 2.3: increasing reward.
(1) Rt = ρN γ
reward.
(2) Rt = ρN γ
t−1 for γ < 1: Figure 10 shows the concentration bound (2.18) for large investors;
Figure 11a shows the bounded variance and the anti-concentration bound (2.19) for medium
investors; Figure 11b shows the exploding variance for small investors.

26

WENPIN TANG

Figure 7. Decreasing reward: stability of πk,t/πk,0 for large investors. Blue
curve: Pmax is a MC estimate of max1≤t≤50000 P
. Orange
curve: right side upper bound in (2.15) with Rt = t−0.1, ε = 0.25, nk,0 = 1
and N ∈ {2000, 2500, 3000, ..., 11000}.

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.25

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

(a) MC estimates of Var(πk,t/πk,0) and
P
with Rt = t−0.1, nk,0 =

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.5
− 1

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

N −1/9 and N ∈ {100, 110, 120, ..., 200}.

(b) MC estimate of Var(πk,50000/πk,0) with
Rt = t−0.1, nk,0 = 1/N and N ∈
{50, 55, 60, ..., 150}.

Figure 8. Decreasing reward: instability of πk,t/πk,0 for medium and small
investors.

(a) πk,0 = 1
2

(b) πk,0 = 1
4

(c) πk,0 = 1
8

Figure 9. Increasing reward: histogram of πk,5000 with ρ = 0.001, γ = 1.1,
N = 1000 and πk,0 ∈ {1/2, 1/4, 1/8}

PROOF OF STAKE

27

Figure 10. Increasing reward: stability of πk,t/πk,0 for large investors. Blue
curve: Pmax is a MC estimate of max1≤t≤50000 P
. Orange
curve: right side upper bound in (2.14) with ρ = 1, γ = 0.1, ε = 0.05,
nk,0 = N/2 and N ∈ {2000, 2500, 3000, ..., 11000}.

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.05

πk,t
πk,0

(cid:16)(cid:12)
(cid:12)
(cid:12)

(cid:16)(cid:12)
(cid:12)
(cid:12)

(a) MC estimates of Var(πk,t/πk,0) and
P
with ρ = 1, γ = 0.1,
nk,0 = N 1/2 and N ∈ {100, 110, 120, ..., 200}.

(cid:12)
(cid:17)
(cid:12)
(cid:12) > 0.5
− 1

πk,t
πk,0

(b) MC estimate of Var(πk,50000/πk,0) with
ρ = 1, γ = 0.1, nk,0 = N 0.01 and N ∈
{100, 110, 120, ..., 300}.

Figure 11. Increasing reward: case (ii) and case (iii) investors

28

WENPIN TANG

References

E. Afram. Proof of Work vs Proof of Stake. 2018. Available at https://coingeek.com/

proof-work-vs-proof-stake.

H. Alsabah and A. Capponi. Pitfalls of bitcoin’s proof-of-work: R&d arms race and mining

centralization. 2020. SSRN:3273982.

N. Arnosti and S. M. Weinberg. Bitcoin: A natural oligopoly. Management Science, 2022.
V. Bagaria, A. Dembo, S. Kannan, S. Oh, D. Tse, P. Viswanath, X. Wang, and O. Zeitouni.
Proof-of-stake longest chain protocols: Security vs predictability. 2019. arXiv:1910.02218.
A. Benhaim, B. H. Falk, and G. Tsoukalas. Scaling Blockchains: Can elected committees

help? 2021. arXiv:2110.08673.

D. Blackwell and J. B. MacQueen. Ferguson distributions via P´olya urn schemes. The Annals

of Statistics, 1:353–355, 1973.

J. Brown-Cohen, A. Narayanan, A. Psomas, and S. M. Weinberg. Formal barriers to longest-
chain proof-of-stake protocols. In Proceedings of the 2019 ACM Conference on Economics
and Computation, pages 459–473, 2019.

J. Chiu and T. V. Koeppl. The economics of cryptocurrencies–Bitcoin and beyond. 2017.

SSRN:3048124.

J. Chod, N. Trichakis, G. Tsoukalas, H. Aspegren, and M. Weber. On the ﬁnancing beneﬁts
of supply chain transparency and blockchain adoption. Management Science, 66(10):4378–
4396, 2020.

L. W. Cong, Z. He, and J. Li. Decentralized mining in centralized pools. The Review of

Financial Studies, 34(3):1191–1235, 2021.

P. Daian, R. Pass, and E. Shi. Snow white: Robustly reconﬁgurable consensus and ap-
In International Conference on Financial

plications to provably secure proof of stake.
Cryptography and Data Security, pages 23–41, 2019.

F. Donovan.

Healthcare blockchain could save industry $100b annually by 2025.
Available at https://hitinfrastructure.com/news/

HIT Infrastructure, 2019.
healthcare-blockchain-could-save-industry-100b-annually-by-2025.

M. Dowling. Is non-fungible token pricing driven by cryptocurrencies? Finance Research

Letters, 44:102097, 2022.

R. Durrett. Probability—theory and examples. Cambridge University Press, 2019.
W. J. Ewens. Population genetics theory—the past and the future. In Mathematical and
statistical developments of evolutionary theory (Montreal, PQ, 1987), volume 299, pages
177–227. Kluwer Academic Publishers, 1990.

G. Fanti, L. Kogan, S. Oh, K. Ruan, P. Viswanath, and G. Wang. Compounding of wealth
in proof-of-stake cryptocurrencies. In International Conference on Financial Cryptography
and Data Security, pages 42–61, 2019.

T. S. Ferguson. A Bayesian analysis of some nonparametric problems. The Annals of Statis-

tics, 1:209–230, 1973.

S. Foley, J. R. Karlsen, and T. J. Putni¸nˇs. Sex, drugs, and bitcoin: How much illegal activity
is ﬁnanced through cryptocurrencies? The Review of Financial Studies, 32(5):1798–1853,
2019.

L. Goldstein and G. Reinert. Stein’s method for the beta distribution and the P´olya-

Eggenberger urn. Journal of Applied Probability, 50(4):1187–1205, 2013.

PROOF OF STAKE

29

B. Hansen and J. Pitman. Prediction rules for exchangeable sequences related to species

sampling. Statistics & Probability Letters, 46(3):251–256, 2000.

G. Hileman and M. Rauchs. Global cryptocurrency benchmarking study. Cambridge Centre

for Alternative Finance, 33:33–113, 2017.

F. Irresberger. Coin concentration of proof-of-stake blockchains. Leeds University Business

School Working Paper, (19-04), 2018.

N. L. Johnson and S. Kotz. Urn models and their application: an approach to modern discrete

probability theory. John Wiley & Sons, 1977.

A. Kiayias, A. Russell, B. David, and R. Oliynykov. Ouroboros: A provably secure proof-of-
stake blockchain protocol. In Annual International Cryptology Conference, pages 357–388,
2017.

S. King and S. Nadal. Ppcoin: Peer-to-peer crypto-currency with proof-of-stake. 2012.

Available at https://decred.org/research/king2012.pdf.

R. M. Korwar and M. Hollander. Contributions to the theory of Dirichlet processes. The

Annals of Probability, 1:705–711, 1973.

L. Lamport, R. Shostak, and M. Pease. The Byzantine Generals Problem. ACM Transactions

on Programming Languages and Systems, 4(3):382–401, 1982.

H. M. Mahmoud. P´olya urn models. Texts in Statistical Science Series. CRC Press, 2009.
J. W. McCloskey. A model for the distribution of individuals by species in an environment.

1965. Thesis (Ph.D.)–Michigan State University.

T. McGhin, K.-K. R. Choo, C. Z. Liu, and D. He. Blockchain in healthcare applications:
Research challenges and opportunities. Journal of Network and Computer Applications,
135:62–75, 2019.

C. Mora, R. L. Rollins, K. Taladay, M. B. Kantar, M. K. Chock, M. Shimada, and E. C.
Franklin. Bitcoin emissions alone could push global warming above 2 c. Nature Climate
Change, 8(11):931–933, 2018.

S. Nakamoto. Bitcoin: A peer-to-peer electronic cash system. Decentralized Business Review,

page 21260, 2008.

L. S. Penrose. The elementary statistics of majority voting. Journal of the Royal Statistical

Society, 109(1):53–57, 1946.

J. Pitman. Exchangeable and partially exchangeable random partitions. Probability Theory

Related Fields, 102(2):145–158, 1995.

J. Pitman. Some developments of the Blackwell-MacQueen urn scheme. In Statistics, Prob-

ability and Game theory, volume 30, pages 245–267. 1996.

J. Pitman and M. Yor. The two-parameter Poisson-Dirichlet distribution derived from a

stable subordinator. The Annals of Probability, 25(2):855–900, 1997.

M. Platt, J. Sedlmeir, D. Platt, P. Tasca, J. Xu, N. Vadgama, and J. I. Iba˜nez. Energy foot-
print of blockchain consensus mechanisms beyond proof-of-work. 2021. arXiv:2109.03667.
I. Ro¸su and F. Saleh. Evolution of shares in a proof-of-stake cryptocurrency. Management

Science, 67(2):661–672, 2021.

S. Saberi, M. Kouhizadeh, J. Sarkis, and L. Shen. Blockchain technology and its relationships
to sustainable supply chain management. International Journal of Production Research,
57(7):2117–2135, 2019.

F. Saleh. Volatility and welfare in a crypto economy. 2019. SSRN:3235467.
F. Saleh. Blockchain without waste: Proof-of-stake. The Review of Financial Studies, 34(3):

1156–1190, 2021.

30

WENPIN TANG

W. Tang, X. Guo, and F. Tang. The buckley-osthus model and the block preferential attach-
ment model: statistical analysis and application. In International Conference on Machine
Learning, pages 9377–9386. PMLR, 2020.

S. Tanwar, K. Parekh, and R. Evans. Blockchain-based electronic healthcare record system
for healthcare 4.0 applications. Journal of Information Security and Applications, 50:
102407, 2020.

G. Tsoukalas and B. H. Falk. Token-weighted crowdsourcing. Management Science, 66(9):

3843–3859, 2020.

Q. Wang, R. Li, Q. Wang, and S. Chen. Non-fungible token (NFT): Overview, evaluation,

opportunities and challenges. 2021. arXiv:2105.07447.

come until

’the Merge’

K. Wickens.

on gaming GPUs
won’t
https://www.pcgamer.com/
the-merge-to-end-cryptocurrency-mining-on-gaming-gpus-wont-come-until-2022.
A. Wood. West Virginia secretary of state reports successful blockchain voting in
Avalialbe at https://cointelegraph.com/news/

end cryptocurrency mining

Available

2018.

2021.

2022.

at

to

2018 midterm elections.
west-virginia-secretary-of-state-reports-successful-blockchain-voting-in-2018-midterm-elections.

G. Wood. Ethereum: A secure decentralised generalised transaction ledger. Ethereum Project

Yellow Paper, 151:1–32, 2014.

Department of Industrial Engineer and Operations Research, Columbia University. Email:

Email address: wt2319@columbia.edu

