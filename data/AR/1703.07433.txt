7
1
0
2

r
a

M
1
2

]

G
A
.
h
t
a
m

[

1
v
3
3
4
7
0
.
3
0
7
1
:
v
i
X
r
a

Fans in the Theory of Real Semigroups
II. Combinatorial Theory

M. Dickmann

A. Petrovich

March 2017

Abstract

In [DP5a] we introduced the notion of fan in the categories of real semigoups and their
dual abstract real spectra and developed the algebraic theory of these structures. In this
paper we develop the combinatorial theory of ARS-fans, i.e., fans in the dual category of
abstract real spectra. Every ARS is a spectral space and hence carries a natural partial order
called the specialization partial order. Our main result shows that the isomorphism type of a
ﬁnite fan in the category ARS is entirely determined by its order of specialization. The main
tools used to prove this result are: (1) Crucial use of the theory of ternary semigroups, a
class of semigroups underlying that of RSs; (2) Every ARS-fan is a disjoint union of abstract
order spaces (called levels); (3) Every level carries a natural involution of abstract order
spaces, and (4) The notion of a standard generating system, a combinatorial tool replacing,
in the context of ARSs, the (absent) tools of combinatorial geometry (matroid theory)
employed in the cases of ﬁelds and of abstract order spaces.

Introduction

In [DP5a] we introduced a notion of fan in each of the dual categories RS and ARS of real
semigroups, and of abstract real spectra, dubbed, respectively, RS-fans and ARS-fans. The
emphasis in [DP5a] was on the algebraic theory of RS-fans. The present paper, a continuation
of [DP5a], is devoted to develop the combinatorial theory of ARS-fans, i.e., fans in the category
of abstract real spectra.

The Introduction to [DP5a] gives an account of the role of fans in the theories of preordered

ﬁelds, of quadratic forms, and in real algebraic and analytic geometry.

Our main result in this paper is Theorem 3.11, showing that the isomorphism type of a
ﬁnite ARS-fan (in the category ARS) is entirely determined by its order of specialization as
a spectral space 1. The proof of this result relies on a combinatorial machinery that we set up
in §§ 1,2. This machinery also gives detailed information on the structure of ARS-fans under
their order of specialization.

In Section 1 we introduce the notion of level of an ARS-fan (X, F ). Levels are the pieces
LI = {h ∈ X | h−1[0] = I} of the partition of the character space X of the real semigroup
F , determined by the ideals I of F . Since F is a RS-fan, its ideals are necessarily prime and
saturated ([DP5a], Prop. 1.6 (4), Cor. 3.10 (1)), and the family of them is totally ordered under
inclusion ([DP5a], Fact 1.4). By Proposition 5.11 of [DP5a], each level is an abstract space of
orders and therefore (by results from [D1], [D2] and [Li]) possesses a structure of combinatorial
geometry (matroid). Further, there exist canonical AOS-morphisms linking each level to any
level determined by a larger ideal (i.e., a “higher” level); Proposition 1.2 (2).

In the next § 2 we exploit the combinatorial geometric structure of the levels to investigate
the ﬁne structure of ARS-fans. In Theorem 2.8 we show that multiplication of a character of

1 For a general reference on spectral spaces, see [DST].

1

 
 
 
 
 
 
2

−1[0] ⊆ I (i = 1, 2) deﬁnes an
level LI by any pair of elements g1, g2 ∈ X so that Z(gi) := gi
involution of the AOS LI . These involutions are compatible with the order of specialization
between levels induced by inclusion of the determining ideals (2.8 (e)). Further, we prove that
these involutions permute certain AOS-subfans of the levels deﬁned by combinatorial conditions
(Propositions 2.10 and 2.11). Altogether, the results proved in this section show that the order
structure of ARS-fans is subject to strong constraints, illustrated in 2.18.

To prove the isomorphism Theorem 3.11, the combinatorial machinery mentioned above is
used together with the notion of a standard generating system introduced in 3.4. This notion
is a substitute for the combinatorial geometric notions existing in the context of AOSs, but
absent in that of ARSs.

Preliminaries. For easy reference we state, without proof, the following simple facts proved
in [DP5a] and frequently used below. The axioms deﬁning the notion of a ternary semigroup
(abbreviated TS) appear in [DP5a], Def. 1.1, and [DP1], § 1, p. 100; XT denotes the set of
TS-homomorphisms of a TS, T , into the TS 3 = {1, 0, −1} (the TS-characters of T ).

The ﬁrst Lemma gives several characterizations of the specialization order of the spectral

topology on the character set of a ternary semigroup.

Lemma 0.1 Let T be a TS, and let g, h ∈ XT . The following are equivalent:
(1) g   h (i.e., h is an specialization of g).
(2) h−1[1] ⊆ g−1[1] (equivalently, h−1[−1] ⊆ g−1[−1]).
(3) g−1[{0, 1}] ⊆ h−1[{0, 1}].
(4) Z(g) ⊆ Z(h) and ∀ a ∈ G (a 6∈ Z(h) ⇒ g(a) = h(a)).
(5) h = h2g (equivalently, h2 = hg).

✷

We also register the following algebraic characterizations of inclusion and equality of zero-

sets of elements of XT .
Lemma 0.2 Let T be a TS, and let u, g, h ∈ XT . Then:
(1) Z(g) ⊆ Z(h) ⇔ h = hg2.
(2) Z(g) = Z(h) ⇔ g2 = h2.
(3) If u   g, h, then Z(g) ⊆ Z(h) if and only if g   h.

✷

Proposition 0.3 Let G be a RS-fan. Then:
(1) For all elements g, h ∈ XG such that g   h (hence Z(g) ⊆ Z(h)) and every ideal I such
that Z(g) ⊆ I ⊆ Z(h) there is f ∈ XG such that g   f   h and Z(f ) = I.
(2) For every g ∈ XG and every ideal I ⊇ Z(g) there is a (necessarily unique) f ∈ XG such
that g   f and Z(f ) = I.
(3) For every ideal I of F there is an f ∈ XG such that Z(f ) = I.

✷

1 Levels of a ARS-fan

The saturated prime ideals of a real semigroup induce a partition of its character space. The
pieces are called levels : the level corresponding to a saturated prime ideal I of G is the set of all
g ∈ XG such that Z(g) = I. In the case of RS-fans, (proper) ideals —automatically prime and
saturated ([DP5a], Prop. 1.6 (4), Cor. 3.10 (1))— are totally ordered under inclusion ([DP5a],
Fact 1.4), a fact of much help in studying the relationship between their levels. This notion,
together with that of a connected component (2.14), will be the main technical tools employed
in the analysis of the ﬁne structure of ARS-fans carried out in this paper.

3

Proposition 5.11 in [DP5a] shows that the levels of an ARS-fan have a canonical structure
of AOS-fans (1.1 (a)), that is, of fans in the category of abstract order spaces (cf. [M], § 3.1, pp.
37 ﬀ.). We prove (Proposition 1.2) that inclusion of ideals induces AOS-morphisms between
the corresponding levels (cf. 1.1 (c)). As an application we prove (Corollary 1.10) that the
cardinality of a ﬁnite RS-fan, F , and that of its character space, XF , are related by the
identity card (F ) = 2 · card (XF ) + 1, an analog for RSs of a result known to hold for reduced
✷
special groups.

Preliminaries and Notation 1.1 (a) Given a real semigroup G and a saturated prime ideal
I of G, we denote by GI the RSG (G/I) \ {π(0)}, cf. [DP5a], Prop. 5.11. The congruence of
G determined by the set of characters HI = {h ∈ XG | Z(h) = I} is denoted by ∼I , cf. [DP5a],
§ 5.C. Every character h ∈ HI induces a map bh : GI −→ { ±1} deﬁned by bh ◦ πI = h. The
correspondence h 7→ bh is a bijection between the set LI (G) = HI and the space of orders
of GI . (LI stands for “I-th level”; see item (b.ii) below). Thus, we can identify the set
XGI
LI (G) ⊆ XG with the AOS (XGI
, GI ). We shall systematically use this identiﬁcation in the
sequel, and unambiguously refer to the AOS structure of the set LI (G). In case G is a RS-fan,
[DP5a], Prop. 5.11, shows that LI(G) is an AOS-fan.
(b) Let F be a RS-fan.
(i) We denote by Spec (F ) the set of all proper ideals of F .
(ii) For I ∈ Spec (F ) the set LI (F ) = {h ∈ XF | Z(h) = I} is called the I-th level of XF .
(iii) For f ∈ XF , the depth of f , denoted d(f ), is the order type of the set {g ∈ XF | f   g}
under the order of specialization.depthfan!depth of element (Since (XF ,   ) is a root-system,
the order   is total on this set.)
(iv) For I ∈ Spec (F ), the order type of the set {J ∈ Spec (F ) | J ⊇ I} under the (total ) order
of inclusion will be called the depth of I, denoted d(I).
(v) The length of XF , denoted ℓ(XF ), is the order type of the (totally ordered ) set Spec (F ).
(c) (AOS- and ARS-morphisms; [M], § 2, pp. 23-24, and § 6, p. 103)
(i) Let (X, G), (Y, H) be ARS’s. A map F : X −→ Y is an ARS-morphism iﬀ for all a ∈ H
x : X −→ 3 denotes the map “evaluation at
there is b ∈ G so that
b
x”:
(ii) The deﬁnition of an AOS-morphism is similar, with (X, G), (Y, H) AOS’s, and the eval-
uation maps taking values in {±1}.
(d) If f : G −→ H is a RS-morphism (resp. RSG-morphism), the dual map f ∗ : XH −→ XG
✷
deﬁned by f ∗(γ) := γ ◦ f for γ ∈ XH , is an ARS-morphism (resp., AOS-morphism).
Remarks. (a) Clearly, the union and the intersection of an inclusion chain of (proper) prime
ideals in any ternary semigroup is a (proper) prime ideal. In particular, if F is a fan, the totally
✷
ordered set (Spec (F ), ⊆) is (Dedekind) complete.

a ◦ F = bb. Here, for x ∈ G,
b
x(σ) := σ(x), for σ ∈ X, and similarly for H.
b

Proposition 1.2 Let F be a RS-fan and let I ⊆ J be ideals of F . With notation as in 1.1,
(1) The rule a/J 7→ a/I (a ∈ F \J) deﬁnes a homomorphism of special groups ιJI : FJ −→ FI .
(2) The map κIJ : LI (F ) −→ LJ (F ) assigning to each g ∈ LI (F ) the unique element h ∈ LJ (F )
such that g   h is an AOS-morphism.

Proof. (1) (a) ιJI is well-deﬁned.
We must show: a, b ∈ F \ J ∧ a ∼J b ⇒ a ∼I b. Since I ⊆ J, this is clear from Lemma 5.10 of
[DP5a] which states that, for an ideal K of F and a, b ∈ F \ K, a ∼J b ⇔ ∃z 6∈ K (az = bz).

Clearly, we have:

4

(b) ιJI is a group homomorphism sending −1/J to −1/I.
Since FJ is a RSG-fan, ιJI is automatically a homomorphism of special groups.
(2) By (1) and 1.1 (d), the map ι∗
dual to ιJI is an AOS-morphism. The map κIJ
JI
is κIJ = (ϕ
J )−1 ◦ ι∗
g (g ∈ LI (F )), identifying LI (F )
b
(1.1 (a)), and similarly for LJ (F ). It only remains to prove g   κIJ (g), for g ∈ LI (F ).
with XFI
To ease notation, write h = κIJ (g). According to Lemma 0.1 (4) we must show Z(g) ⊆ Z(h)
and a 6∈ Z(h) ⇒ g(a) = h(a). The inclusion of zero-sets is I ⊆ J. Let a 6∈ Z(h) = J. Since:
I (g) ◦ ιJI , ϕ
J (h) = ϕ
ϕ

: XFI
I denotes the bijection g 7→

I (g)(a/I) = g(a) and ϕ

J (h)(a/J) = h(a),

J (κIJ (g)) = ι∗

I , where ϕ

I (g)) = ϕ

−→ XFJ

◦ ϕ

(ϕ

JI

JI

(cf. 1.1), we get,

as required.

h(a) = (ϕ

I (g))(ιJI (a/J)) = ϕ

I (g)(a/I) = g(a),

✷

Next we prove that the depth of an ideal in a fan is the same as the depth of any element
in the corresponding level; in particular, elements of the same depth belong to the same level.

Proposition 1.3 Let F be a RS-fan. For f ∈ XF we have d(f ) = d(Z(f )); equivalently, the
sets {g ∈ XF | f   g} (ordered under specialization ) and {J ∈ Spec(F ) | J ⊇ Z(f )} (ordered
under inclusion ) are order-isomorphic.
Proof. To ease notation, set f ↑ = { g ∈ XF | f   g} and I ↑ = {J ∈ Spec(F ) | J ⊇ I}
(I ∈ Spec(F )). The required order isomorphism is the map Z : f ↑ −→ Z(f ) ↑ assigning to
each g ∈ f ↑ its zero-set. That
(a) Z is increasing,
(b) Z is surjective,
is clear, from g   h ⇒ Z(g) ⊆ Z(h) and Proposition 0.3 (2), respectively. That
(c) Z is injective.
follows from 0.2 (3).

and

✷

A trivial variant of the proof of 1.3 gives:

Proposition 1.4 Let F be a RS-fan. Given f1, f2 ∈ XF such that f1   f2, the intervals
{ g ∈ XF | f1   g   f2} (ordered under specialization ) and {J ∈ Spec(F ) | Z(f1) ⊆ J ⊆ Z(f2)}
✷
(ordered under inclusion ) are order-isomorphic.

The results in the next two Lemmas will be frequently used in this and in subsequent

sections.
Lemma 1.5 Let G be a RS and let g1, . . . , gr, h ∈ XG be so that Sr
i = 1, . . . , r, let fi ∈ XG be such that gi
(∗)

  fi and Z(gi) ⊆ Z(fi) ⊆ Z(h). Then,

h · g1 · . . . · gr = h · f1 · . . . · fr.
Note. The products in (*) may not be in XG.
Proof. Obviously, (*) holds whenever x ∈ Z(h). If x 6∈ Z(h), from the assumptions we get
x 6∈ Sr
  fi, we get gi(x) = fi(x) for i = 1, . . . , r
✷
(Lemma 0.1 (4)), and (*) follows.

i=1Z(gi) and x 6∈ Sr

i=1Z(fi). Since gi

i=1Z(gi) ⊆ Z(h). For

Lemma 1.6 Let F be a RS-fan. Then,
(a) For i = 1, . . . , r, with r odd, let gi, hi ∈ XF be such that gi
h1 · . . . · hr.
(b) Let h1, h2, f, g, k ∈ XF be such that f, g   h1, k   h2, and Z(h1) ⊆ Z(h2). Then,
f g k   h2.

  hi. Then, g1 · . . . · gr

 
5

= higi (Lemma 0.1 (5)). Multiplying these equalities

Note. Here the products are in XF as the number of factors is odd.
Proof. (a) For i = 1, . . . , r we have h2
i
termwise gives (h1 · . . . · hr)2 = (h1 · . . . · hr)(g1 · . . . · gr), which proves the assertion.
(b) By Lemma 0.1 we must prove h2
= h2(f g k). Obviously, this equality holds at every
2
x ∈ Z(h2). If x 6∈ Z(h2), then x 6∈ Z(h1), and f, g   h1 implies h1(x) = f (x) = g(x) 6= 0;
also k   h2 implies h2(x) = k(x) 6= 0, whence f (x)g(x) = 1 and h2(x)k(x) = 1. This yields
(h2f g k)(x) = (f (x)g(x))(h2(x)k(x)) = 1. On the other hand, (h2(x))2 = 1, proving that the
✷
required identity holds at x 6∈ Z(h2) as well.

Our last result in this section, Corollary 1.10, shows that if F is a ﬁnite RS-fan and XF its
character space, then card (F ) = 2 · card (XF ) + 1. This identity is the analog of a well-known
result relating the cardinalities of a ﬁnite RSG-fan and its space of orders ([ABR], p. 75). The
result follows from a more general observation, valid for RS-fans of arbitrary cardinality.

Proposition 1.7 Let I ⊂ J be consecutive ideals of a RS-fan F (with, possibly, J = F ). Then,
(i ) Under product induced by F , J \ I is a group of exponent 2 with unit x2 for any x ∈ J \ I
(and distinguished element −1 = −x2).
(ii ) The restriction of the quotient map πI ⌈ (J \ I) : J \ I −→ FI = F/I \ {πI (0)} is a group
isomorphism preseving the distinguished element −1.

Proof. (i) Since I is prime, J \ I is closed under product. Given x, y ∈ J \ I, we must prove
x2 = y2 (which implies x2y = y3 = y). By the separation theorem for TSs ([DP1], Thm.
1.9, pp. 103-104) it suﬃces to show that h(x2) = h(y2) for all h ∈ XF .
If J ⊆ Z(h), then
h(x2) = h(y2) = 0. If Z(h) ⊆ I, then h(x), h(y) 6= 0, whence h(x2) = h(y2) = 1.
(ii) Clearly, πI (x) 6= πI(0), i.e., πI (x) ∈ FI , for all x ∈ J \ I, and πI preserves product.
— πI ⌈ (J \ I) is injective.
Suppose πI (x) = πI(y), i.e., x ∼I y, with x, y ∈ J \ I. By [DP5a], Lemma 5.10 (cf. proof of
1.2), xz = yz for some z 6∈ I. To prove x = y, let h ∈ XF . If J ⊆ Z(h), then h(x) = h(y) = 0.
If Z(h) ⊆ I, then h(z) 6= 0, and we get h(x) = h(y).
— πI (x2) = πI (1), for x ∈ J \ I.
Clear, for Z(h) = I implies h(x2) = 1. In particular, πI preserves −1.
— πI ⌈ (J \ I) is onto FI .
Let p ∈ FI ; then, p = πI (q) with q 6∈ I. Taking z ∈ J \ I, we have qz2 ∈ J \ I, whence
✷
πI (qz2) = πI (q)πI (z2) = πI (q)πI (1) = πI (q) = p.
Notation 1.8 Let F be a ﬁnite RS-fan, and let

d=1 card (Id−1 \ Id) + 1 = Pn

{0} = In ⊂ In−1 ⊂ · · · ⊂ I2 ⊂ I1 ⊂ F = I0
=
be the set of all its ideals; thus, for 1 ≤ d ≤ n, Id is the ideal of depth d. We set Fd = FId
(F/Id) \ {πd(0)}, where πd : F −→ F/Id denotes the canonical quotient map. We also write Ld
✷
for LId
; cf. 1.1 (b).
Clearly, F \ {0} = Sn
Pn
Proposition 1.9 For any ﬁnite RS-fan F , card (XF ) = Pn
Corollary 1.10 For a ﬁnite RS-fan, F ,
Proof. Since the Fd are ﬁnite RSG-fans ([DP5a], Prop. 5.11), we know that card (Fd) =
) for 1 ≤ d ≤ n (see [ABR], p. 75). The result follows, then, from Proposition 1.7
2 · card (XFd
✷
and the preceding cardinality identities.

d=1(Id−1 \ Id) (disjoint union), whence, by 1.7 we have card (F ) =
d=1 card (Fd) + 1. Since the levels partition XF , 1.1 yields:
d=1 card (XFd

card (F ) = 2 · card (XF ) + 1.

d=1 card (Ld) = Pn

).✷

2

Involutions of ARS-fans

Notation 2.1 In addition to the notation introduced in Deﬁnition 1.1, for J ⊆ I in Spec(F )
we deﬁne the sets:

6

= { h ∈ LI | ∃g ∈ XF ( g   h ∧ Z(g) = J )}.
= { h ∈ SI
J

| ∀g′ ∈ XF ( g′   h ⇒ J ⊆ Z(g′))}.

SI
J
C I
J
That is, SI
J
the specialization partial order; C I
J
but not lower.

consists of those elements of level I having predecessors of level J or lower in
is the set of elements in LI having predecessors at level J
✷

{0}

{0}

= C I

, and SI
I

= LI . (Recall that {0} is the smallest

Remarks 2.2 (i) For I ∈ Spec(F ), SI
member of Spec(F ), i.e., the zero-set of the lowest level of XF .)
(ii) For J ⊆ I in Spec(F ), SI
6= ∅.
J
Proof. Let g ∈ XF be such that Z(g) = J (exists by Proposition 0.3 (3)). If h is the unique
  -successor of g of level I (Proposition 0.3 (2)), then h ∈ SI
J
(iii) For J ⊆ I in Spec(F ), SI
J
deﬁned in Proposition 1.2 (2).
(iv) For J ⊆ I in Spec(F ), SI
J
empty for some J ′ ⊆ J.)
(v) For J ⊆ I in Spec(F ), C I
J
(vi) For J, J ′ ⊆ I in Spec(F ), J 6= J ′, we have C I
J
In order to render later arguments as transparent as possible, we recall the following simple

.
= Im (κJI ), where κJI : LJ (F ) −→ LI(F ) is the AOS-morphism

J ′ | J ′ ∈ Spec(F ) and J ′ ⊂ J }.
J ′ = ∅.

J ′ | J ′ ∈ Spec(F ) and J ′ ⊆ J }. (Note that C I

J ′ may be

⊇ S { C I

\ S { SI

= SI
J

∩ C I

✷

(and well-known) facts about fans in the categories RSG and AOS.
Lemma 2.3 Let g : H −→ G be a SG-homomorphism between RSG-fans, and let g∗ : (XG, G)
−→ (XH , H) denote the AOS-morphism dual to g (cf. 1.1 (d)). Then,
(1) With representation induced by that of H, Im(g) is a RSG-fan, and G is isomorphic to the
extension of Im(g) by the exponent-two group ∆ = G/ Im(g).
(2) (Im(g∗), H/ ker(g)) is an AOS-fan.

Remarks 2.4 (a) For the deﬁnition of extension of a SG by a group of exponent two, see
[DM1], Ex. 1.10, p. 10.
(b) By the duality between RSGs and AOSs ([DM1], Ch. 3), the dual statement holds as well:
given an AOS-morphism of (AOS-)fans, κ : (X, G) −→ (Y, H), the assertions (1) and (2) hold
✷
with g := κ∗ (the SG-morphism dual to κ), and with g∗ = κ.

Sketch of proof of 2.3. (1) The ﬁrst assertion is easily checked. For the second, Im(g) is a
direct summand of the group G. Let pr : G −→ Im(g) be the projection onto the factor Im(g);
pr is a SG-morphism (G and Im(g) are fans), and is the identity on Im(g). The isomorphism
between G and Im(g)[∆] is f (a) = h pr(a), a/Im(g) i, for a ∈ G.
(2) Recall that g∗ is deﬁned by composition, g∗(σ) = σ ◦ g (σ ∈ XG), see 1.1 (d), and that
Im(g∗)⊥ = T {ker(γ) | γ ∈ Im(g∗)} = T {ker(σ ◦ g) | σ ∈ XG}. Routine checking from these
deﬁnitions proves that Im(g∗) is closed under product of any three members (since XG is), and
that Im(g∗)⊥ = ker(g) (since T {ker(σ) | σ ∈ XG} = {1}), whence Im(g∗) ⊆ XH/ker(g).

Clearly, the map g : H/ker(g) −→ Im(g) induced by g is an SG-isomorphism. Thus, we

have a commutative diagram of SG-morphisms:

7

/ G

f
∼= Im(g)[∆]

pr

H

/ Im(g)

g

$❍❍❍❍❍❍❍❍

π

g

H/ker(g)

It only remains to show that Im(g∗) ⊇ XH/ker(g). Any SG-character γ : H/ker(g) −→ Z
2
can be lifted to a map σ : G −→ Z
2, via the identiﬁcation of G with Im(g)[∆], as follows: for
each a ∈ G there is b ∈ H such that pr(a) = g(b). We set σ(a) = γ(b/ker(g)) = γ(π(b)). In
terms of the diagram above, we have: σ = γ ◦ (g)−1 ◦ pr. It follows that σ is a well-deﬁned
SG-morphism, i.e., σ ∈ XG, and (since pr ◦ g = g and (g)−1 ◦ g = π), g∗(σ) = σ ◦ g = γ ◦ π. ✷

Lemma 2.3, together with 2.2 (iii) and 1.2 (2), gives:

Corollary 2.5 Let F be a RS-fan, and let J ⊆ I be in Spec(F ). The set SI
is an AOS-fan.
J
Indeed, it is a sub-fan of LI (F ), when the latter is endowed with its structure of AOS-fan, as
indicated in 1.1. More generally, if F ⊆ LJ (F ) is an AOS-fan, the set SI
(F) = { h ∈ LI |
∃g ∈ F ( g   h)} is an AOS-subfan of LI (F ).

J

Proof. The ﬁrst assertion is a special case of the second (with F = LJ (F )). For the latter,
✷
observe that SI
J

(F ) = κJI[F ] = Im(κJI⌈F ) and use Remark 2.4 (b).

The following deﬁnition will have a crucial role in the sequel:

Deﬁnition 2.6 Let F be a RS-fan, let g1, g2 ∈ XF , and ﬁx I ∈ Spec(F ) so that Z(g1), Z(g2) ⊆
I. We deﬁne a map ϕ g1,g2

I

: LI (F ) −→ LI (F ) as follows: for h ∈ LI(F ),
(h) = h g1g2.

ϕ g1,g2
I

✷

be the unique   -successor of gi of level J. Then, ϕ g1,g2

Note. Since Z(gi) ⊆ I = Z(h) (i = 1, 2), we have Z(h g1g2) = I, whence h g1g2 ∈ LI .
Fact 2.7 With notation as in Deﬁnition 2.6, let J ∈ Spec(F ) be such that Z(g1)∪Z(g2) ⊆ J ⊆ I,
1,g′
and for i = 1, 2, let g′
2
.
i
Thus, in 2.6 we may assume Z(g1) = Z(g2).
Proof. Lemma 1.5 shows that h g1g2 = h g′
g′
, for h ∈ LI .
2
Theorem 2.8 With notation as in Deﬁnition 2.6, we have:
(a) ϕ g1,g2
I
(b) ϕ g1,g2
I
(c) For i = 1, 2, let hi be the unique   -successor of gi in LI . Then, ϕ g1,g2
In particular,
(d) If g1, g2, have a common specialization h at some level I ⊇ Z(g1), Z(g2), then h is a

is an AOS-automorphism of LI.
is an involution: for h ∈ LI , ϕ g1,g2

(h1) = h2.

(ϕ g1,g2
I

= ϕ g′

(h)) = h.

✷

1

I

I

I

I

ﬁxed point of ϕ g1,g2

.

I

(e) Let J ⊆ I be in Spec(F ). Assume Z(g1), Z(g2) ⊆ J, and let h1 ∈ LJ , h2 ∈ LI. Then,

h1

  h2 ⇒ ϕ g1,g2

J

(h1)   ϕ g1,g2

I

(h2).

For the proof of this Theorem we will need an improvement on 1.1 (a), valid for fans but

not for arbitrary RSs; namely :

Fact 2.9 Let F be a RS-fan, and I be an ideal of F . Any g ∈ XF such that Z(g) ⊆ I induces
g ◦ πI = g.
a SG-character
b

g : FI −→ Z
b

2, by setting

$
/
(cid:31)
(cid:127)
/
o
o
O
O
Proof. The only delicate point is well-deﬁnedness: for a ∈ F \ I, a ∼I 1 ⇒ g(a) = 1. By
[DP5a], Lemma 5.10, a ∼I 1 means az = z for some z 6∈ I (see proof of 1.2); then g(z) 6= 0,
✷
and taking images under g in this equality yields g(a) = 1.

8

= h; this is clear if h(x) = 0
(x) = 1 (i = 1, 2),

I

I

g2
2

(ϕ g1,g2
I

. But h g2
1

(h)) = h g2
1

is an AOS-morphism.

Proof of Theorem 2.8. We begin by proving:
(b) For h ∈ LI (F ), ϕ g1,g2
g2
2
(x ∈ F ); if h(x) 6= 0, then gi(x) 6= 0 (since Z(gi) ⊆ Z(h)), and hence g2
proving the stated identity, and item (b).
(a) i) ϕ g1,g2
Since FI is the RSG-fan dual to LI (F ), we must show (see 1.1 (c)):
(*) For every α ∈ FI there is β ∈ FI such that
where
α : XFI
b
g
By Fact 2.9,
i
b

(α)
2 (i = 1, 2), whence β ∈ FI . For h ∈ LI (F ) we have:
g
α (h g1g2) = h(α)
2
b
b

2 denotes evaluation at α. We claim that β = α

−→ Z
(α) ∈ Z

α ◦ ϕ g1,g2
(
I
b

α ◦ ϕ g1,g2
I
b

(α) = h(α

= bβ,

)(h) =

g
1
b

g
2
b

g
1
b

g
1
b

(α)

(α)

i

(α) does the job.

g
2
b

(α)) = h(β) = bβ (h),

I

(α)

(α)

g
2
b

(α) = 1;

is bijective.

g
g
2
1
b
b
(α) = −1 (i = 1, 2), and α = 1, contradiction. Thus,

)∗ : FI −→ FI is also bijective.
)∗(α) = α
(α) = −1, then α = −1, whence (as

as required. Note that (b) implies
ii) ϕ g1,g2
I
iii) The dual map (ϕ g1,g2
Item (i) proves that, for α ∈ FI , (ϕ g1,g2
g
if
α
1
b
g
i
b
For surjectivity, given β ∈ FI , set α = β
whence (ϕ g1,g2
)∗(α) = β.
(c) We must prove h1g1g2 = h2. This clearly holds at any x ∈ Z(h1) = Z(h2). If x 6∈ Z(hi)
  hi, it follows hi(x) = gi(x) 6= 0 (Lemma 0.1 (4)), and
(i = 1, 2), then x 6∈ Z(gi); since gi
hi(x) gi(x) = 1; hence, h1g1g2(x) = g2(x) = h2(x).
(e) Lemma 1.6 (a) immediately implies h2
2

(α). For injectivity, assume
is a SG-character),
(α) = 1, which entails α = 1.
(β),
g
2
b

= h2h1 ⇒ (h2g1g2)2 = (h2g1g2)(h1g1g2).

(α)
g
2
b
(α) =
g
1
b

(β). Then,

(β) and

(α) =

g
2
b

g
1
b

g
2
b

g
1
b

g
1
b

g
1
b

g
2
b

(α)

(β)

g
i
b

✷

I

I

By use of these involutions we obtain a number of regularity results concerning the order

structure of ARS-fans.

Proposition 2.10 Let F be a RS-fan. For J ⊆ J1 ⊆ J2 ⊆ I in Spec(F ), and h ∈ SI

set:

J

BJ1,J2(h) = { g ∈ SJ2
J1

| g   h }, and AJ1,J2(h) = { g ∈ C J2
J1

| g   h }.

J

, we have card (BJ1,J2(h1)) = card (BJ1,J2(h2)).
, we have card (AJ1,J2(h1)) = card (AJ1,J2(h2)).

Then,
(a) For h1, h2 ∈ SI
(b) For h1, h2 ∈ C I
Remark. The assumptions of the Proposition guarantee that the sets BJ1,J2(h) are non-
, there is u   h so that Z(u) ⊆ J; set J ′ = Z(u). Since J ′ ⊆ J ⊆ J2,
empty. In fact, given h ∈ SI
J
u has a unique   - successor g in LJ2
. But u   g, h and J2 = Z(g) ⊆ I = Z(h) imply g   h
(Lemma 0.2 (3)). Since J ′ ⊆ J ⊆ J1, we conclude that g ∈ SJ2

, i.e., g ∈ BJ1,J2(h).

J

J1

The sets AJ1,J2(h) may be empty for some choices of h and the Ji’s. However, if h ∈ C I
J
constructed above
J ′, contrary to the
✷

and J1 = J, we have AJ1,J2(h) 6= ∅. Indeed, in this case the element g ∈ SJ2
for some J ′ ⊂ J, then g   h would imply h ∈ SI
is in C J2
J
assumption h ∈ C I
J
Proof of Proposition 2.10. (a) With J1, J2 as in the statement, write Bi for BJ1,J2(hi) (i =

, for if g ∈ SJ2
J ′

J

.

9

J ′
Since the maps ϕ

  hi and
1, 2). The assumption hi ∈ SI
Z(ui) ⊆ J. Replacing ui by its unique successor of level J we may assume Z(ui) = J (see 2.7).
We ﬁx ui’s with these properties throughout the proof, and for J ⊆ J ′ ⊆ I we denote by ϕ
J ′ the
involution ϕu1,u2

implies the existence of elements ui ∈ XF so that ui

J

of LJ ′ deﬁned in 2.6.

J ′ are bijective, it is enough to prove ϕ

J2

[B1] = B2. Further, since ϕ

J2

is

.

.

J2

J2

Z(v)

  h2.

  h2.

(g) ∈ SJ2
J1

(g) ∈ SJ2
J1

Z(v) = ϕu1,u2

  h1 and u2

(g)   h2 and ϕ

and g   h1 ⇒ ϕ

, and Theorem 2.8 (e) gives ϕ

g ∈ SJ2
J1
(g) = g u1u2

, there is v   g so that Z(v) = J1 ⊇ J = Z(ui) (i = 1, 2); thus, v is in the domain

an involution it suﬃces just to prove the inclusion ⊆, i.e.,
(*)
(i) ϕ
J2
Immediate consequence of Lemma 1.6 (b), since g, u1
(ii) ϕ
J2
Since g ∈ SJ2
J1
of ϕ
(g), proving (ii) and item (a).
(b) Write Ai for AJ1,J2(hi) (i = 1, 2). As above, it suﬃces to prove the analogue of (*):
(g)   h2 and ϕ
(**)
where h1, h2 are now assumed to be in C I
(iii) There is no w ∈ XF such that Z(w) ⊂ J1 and w   ϕ
Otherwise, we would have w   ϕ
J2
we get J ⊆ Z(w), and since Z(ui) = J, ϕ
ﬁrst of the preceding inequalities yields: ϕ
ϕ
Z(w)(w) ∈ LZ(w) and Z(w) ⊂ J1, contradicts the assumption g ∈ C J2
(b).

(g).
(g)   h2 (the last relation holding by (*)). Since h2 ∈ C I
,
J
Z(w)(w) is deﬁned. Theorem 2.8 (e) applied to the
(g)) = g. This, together with

(g) ∈ C J2
J1
. In fact, by (*) it only remains to show:

, proving (iii), and item
✷

and g   h1 ⇒ ϕ

Z(w)(w)   ϕ

Z(v)(v)   ϕ

g ∈ C J2
J1

(ϕ
J2

J2

J1

J2

J2

J2

J2

J

,

A slight variant of the argument proving Proposition 2.10 yields:

I

.

Proposition 2.11 Let F be a RS-fan and let J ⊆ I be in Spec (F ). For g1, g2 ∈ XF such that
✷
Z(gi) ⊆ J (i = 1, 2), the map ϕ g1,g2

is a permutation of SI
J
For a RS-fan, F , and h ∈ XF , we denote by Ph = { g ∈ XF | g   h } the root-system of

and of C I
J

predecessors of h under specialization. We begin by proving:
Proposition 2.12 (1) Ph is an ARS-fan. In particular,
(2) Any connected component of an ARS-fan is an ARS-fan.
Proof. (1) Lemma 0.1 (2) shows that g   h iﬀ T = h−1[1] ⊆ g−1[1]. With notation as in
[M], § 6.3, p. 110, and § 6.6, p. 126, the latter condition just means g ∈ U (T ), i.e., Ph is the
saturated set U (T )(= W (T ) ∩ U (T 2)). [M], Cor. 6.6.8, p. 126, proves that sets of this form
are ARSs. Lemma 1.6 (a) shows that it is closed under products of three elements, hence a fan
by the results of [DP5a], § 3.
(2) Follows from (1) by taking h to be the (unique)   -top element of the given connected
✷
component.

Continuing the analysis of (ARS-)fans of the form Ph, we show:

Theorem 2.13 Let F be a RS-fan and let J ⊆ I be in Spec(F ). Let h1 ∈ C I
i = 1, 2, we write Pi for Phi
(1) There is an ARS-embedding ϕ of P1 into P2. Further, ϕ[P1] = { u ∈ P2 | J ⊆ Z(u) }. In
particular, ϕ is an order-embedding of (P1,   ) into (P2,   ).
(2) If, in addition, h2 ∈ C I

, then ϕ is an isomorphism of ARSs.

, h2 ∈ SI

. Then,

. For

J

J

J

10

Proof. Our assumption on the hi’s guarantees the existence of u1, u2 ∈ LJ so that ui
1, 2). For J ⊆ J ′ ⊆ I in Spec(F ) let ϕ
(1) We construct ϕ : P1 −→ P2 by “collecting together” all the relevant maps ϕ
given g ∈ LJ ′ , g   h1, we set

J ′ denote the involution ϕu1,u2

J ′

of LJ ′ (Deﬁnition 2.6).

J ′ (J ⊆ J ′ ⊆ I):

  hi (i =

ϕ(g) = ϕ

J ′(g).

I (h1). Since hi is the unique successor of ui
J ′(g)   h2, as required. Note this also gives

J ′(g)   ϕ
I (h1) = h2, whence ϕ

Since the levels LJ ′ are pairwise disjoint, ϕ is well-deﬁned.
i) ϕ[P1] ⊆ P2.
By Theorem 2.8 (e), g   h1 implies ϕ
at level I, 2.8 (c) yields ϕ
J ⊆ J ′ = Z(ϕ(g)).
ii) { u ∈ P2 | J ⊆ Z(u) } ⊆ ϕ[P1].
Let u be in the left-hand side, with J ′ = Z(u), say. Set v = ϕ
By 1.6 (b), u1
ϕ(v) = u ∈ ϕ[P1].
iii) ϕ is injective.
This is clear using 2.8 (b), since Z(ϕ(g)) = Z(g) for g ∈ P1.
iv) ϕ is an ARS-morphism.
The proof is similar to that of item (a) in Theorem 2.8. The statement to be proved is:

  h2 imply u u1 u2 = ϕ

  h1 and u, u2

J ′(u); then, ϕ

J ′(v) = u (2.8 (b)).
J ′(u) = v   h1, i.e., v ∈ P1. Hence

(†) For every a ∈ F there is b ∈ F such that (

[
where, for i = 1, 2, Ti = hi
a/T2 (g) =
g (a/T2) = g(a), for g ∈ P2, and similarly for db/T1 : P1 −→ 3. (Note that g ∈ P2 = U (T2)
b
ensures that

[
a/T2 depends only on the congruence class of a modulo T2.)

−1[1], Pi = U (Ti),

[
a/T2) ◦ ϕ = db/T1,
[
a/T2 : P2 −→ 3 is the evaluation map:

The conclusion of (†) can equivalently be written as d

g (b/T1), i.e., (u1u2 g)(a)
b
= g(b). Since ui(a) ∈ {0, 1, −1} (i = 1, 2), it is clear that the element b = a u1(a)u2(a) ∈ F
veriﬁes (†); see 2.8 (a).
(2) Since h2 ∈ C I
, the preceding construction can be performed with the roles of h1 and h2
reversed. Routine veriﬁcation using 2.8(b) shows that the map obtained is ϕ−1, which then is
✷
an ARS-morphism, proving that ϕ is an ARS-isomorphism.

ϕ(g)(a/T2) =

J

Proposition 2.10 and Theorem 2.13 provide signiﬁcant information on the structure of the

connected components of ARS-fans.
Deﬁnition and Remarks 2.14 (a) Let (X, (cid:22) ) be a root-system and let g1, g2 ∈ X. Deﬁne:

g1 ≡C g2

iﬀ g1, g2 have a common (cid:22) - upper bound.

≡C is an equivalence relation; its classes are called connected components of (X, (cid:22) ).
(b) The   - top elements of the connected components of an ARS-fan (X, F ) have all the same
level, namely the level determined by the maximal ideal M of F ; cf. Proposition 0.3 (3).
(c) Since every connected component of an ARS-fan is itself an ARS-fan, 2.12 (2), the zero-sets
of its elements attain a lowest level, which can be explicitly determined, cf. Proposition 2.15
below. However, diﬀerent components may have diﬀerent lowest levels, see Corollary 2.17. ✷
Notation. The sets LI , SI
deﬁned in 1.1 and 2.1 relativize in an obvious way to the
connected components of a fan (X, F ); if K is such a component and J ⊆ I are in Spec(F ) we
set:

and C I
J

J

LI (K) = LI ∩ K,

SI
J

(K) = SI
J

∩ K,

and C I
J

(K) = C I
J

∩ K.

Note that some (or all) of these sets may be empty, depending on I, J and the component K.
Clearly, if h0 is the   - top element of K, we have LI (K) = { g ∈ LI | g   h0 }, and similarly

11

(K) and C I
J

(K). LI (K) 6= ∅ just means that K “reaches at least” the I-th level of X
✷

for SI
J
(possibly lower).
Proposition 2.15 Let K be a connected component of an ARS-fan (X, F ). Let h0 be the   -
top element of K, and let T = h−1
[1]. Then, the lowest level of K (i.e., the smallest ideal I of
F such that LI (K) 6= ∅) is I = Γ ∩ −Γ, where Γ is the saturated subsemigroup of F generated
by Id(F ) · T .

0

Note. The subsemigroup Id(F ) · T may not be saturated, since Id(F ) · T ∩ −(Id(F ) · T ) is not,
in general, an ideal; see [DP5a], Cor. 3.10 (2).
Proof. With notation as in 2.12, we have K = Ph0
= U (T ) = {g ∈ X | g ⌈ T = 1} =
the ARS XF/T (where F/T = F/∼K , with ∼K denoting the congruence on F induced by
K). Let πT : F −→ F/T be the quotient map. The lowest level of XF/T is {0}; with K
g ◦ πT = g), the corresponding ideal of F is
g (
identiﬁed to a subset of X via the map g 7→
b
b
π−1
[0] = {a ∈ F | a ∼K 0}. Then, with the ideal I deﬁned in the statement, we must prove, for
T
a ∈ F :

a ∼K 0 ⇐⇒ a ∈ I.
(⇐) This follows from I ⊆ Z(g) for all g ∈ K. Since g ⌈ T = 1, we get Id · T ⊆ P (g) = g−1[0, 1];
since P (g) is a saturated subsemigroup, it comes Γ ⊆ P (g). Hence, x ∈ I = Γ ∩ −Γ implies
g(x) = 0.
(⇒) Assume a 6∈ I. In order to prove a 6∼K 0 we construct a character g ∈ X such that g ⌈ T = 1
and g(a) 6= 0 (i.e., g(a2) = 1). The ideal I is prime and saturated ([DP5a], 3.10 (1)). Since
I = Γ ∩ −Γ, there is a saturated subsemigroup S of F such that Γ ⊆ S and S maximal with
S ∩ −S = I. By [DP1], Lemma 3.5, p. 114, S ∪ −S = F , and S deﬁnes a character g ∈ X
with Z(g) = I, by setting g ⌈ (S \ −S) = 1, g ⌈ (−S \ S) = −1 and g ⌈ I = 0. Note that we have,
(†)
Otherwise, there is t ∈ T such that a2t ∈ I; since I is prime and a 6∈ I, we get t ∈ I,
contradicting T ∩ I = h−1

I ∩ a2T = ∅.

[1] ∩ Z(h0) = ∅.

0

Since a2T ⊆ S, (†) implies −S ∩ a2T = ∅, whence g ⌈ a2T = 1 by the deﬁnition of g.

✷

Proposition 2.10 implies:

Corollary 2.16 Let (X, F ) be an ARS-fan and let K1, K2 be connected components of (X, F ).
Then,
(1) Let I ∈ Spec(F ); if LI (Ki) 6= ∅ for i = 1, 2, then card (LI (K1)) = card (LI (K2)).
(2) Let J ⊆ J ′ be in Spec(F ), and assume LJ (Ki) 6= ∅ (i = 1, 2). Then, card (SJ ′
card (SJ ′
J

(K1)) =

(K2)).

J

I

.

J

(Ki) = { g ∈ SJ ′

Proof. (1) follows from (2), as LI = SI
(2) Fix i ∈ {1, 2}. Let hi be the   - top element of Ki. The assumption LJ (Ki) 6= ∅ implies that
the sets SJ ′
| g   hi } are non-empty. Now, applying Proposition 2.10(a) with
J
I = M (= the maximal ideal of F ), J1 = J, J2 = J ′ we have BJ,J ′
| g   hi } =
SJ ′
✷
J
Remark. Assertion (2) of Corollary 2.16 fails, in general, if the sets SJ ′
J
by C J ′
J
C J ′
(Ki) 6= ∅ does not imply that the   - top element hi of Ki belongs to C M
J
required for Proposition 2.10(b) to apply. It is easy to construct counterexamples.

(Ki) are replaced
(Ki), i = 1, 2, are assumed non-empty. The snag is that
(Ki), a condition
✷

(Ki), even if both sets C J ′

(Ki), and the result follows.

(hi) = { g ∈ SJ ′

J

J

J

Theorem 2.13 gives:

12

Corollary 2.17 Let K1, K2 be connected components of the ARS-fan (X, F ). Let I1, I2 ∈
Spec(F ) be the lowest levels of K1, K2, resp. (cf. 2.15 ). Then,
(1) If I2 ⊆ I1, then K1 endowed with the specialization order is (order-)isomorphic to the
root-system obtained by deleting all levels I ⊂ I1 in K2.
(2) If I1 = I2, then K1, K2 are order-isomorphic.
Proof. (1) Use Theorem 2.13 (1) with I = M = the maximal ideal of F , J = I1, and h1, h2
the   - top elements of K1, K2, resp. The ARS-embedding ϕ : K1 −→ K2 constructed therein
veriﬁes ϕ[K1] = { u ∈ K2 | I1 ⊆ Z(u) }, which is exactly statement (1).
(2) follows from Theorem 2.13 (2).

✷

2.18 Some impossible conﬁgurations.

The preceding results show that there are strong constraints on the order structure of ARS-
fans, especially when there is more than one connected component. We include a few examples
to help the reader visualize the extent of those restrictions.
(1) A conﬁguration like

K1
•

❂❂❂❂
✁✁✁✁
❂❂❂❂
✁✁✁✁
• •

•

✺✺✺

•

•

✠✠✠

•

contradicts Corollary 2.16 (1).
(2) The four-component conﬁguration

K2
•

⑦⑦
❅❅

K1
•

⑦⑦
❅❅

•

❅❅

•

•

•
•

✈✈✈
❍❍❍

→ •
✈✈✈

❍❍❍

✈✈✈

• •

•
•

⑦⑦

•

❅❅

•

⑦⑦
❅❅

•

•
•

→ •
⑦⑦
•
•

•

✠✠✠

•

❅❅

•

K2
•

❙❙❙❙❙❙❙❙❙❙❙
❦❦❦❦❦❦❦❦❦❦❦
❀❀❀❀
✄✄✄✄
❀❀❀❀
❀❀❀❀
❀❀❀❀
✄✄✄✄
✄✄✄✄
✄✄✄✄
• •
• •
• •

•

•

•

✺✺✺

•

K3
•

⑦⑦
•
❅❅
⑦⑦
PPPPP
❅❅
•

•
•

❅❅

•

•

⑦⑦

•

K4
•

⑦⑦
❅❅

•

❅❅

•

•

→ •
tttt
☎☎
• •

(where the components pairwise verify the conclusion of 2.16 (2)) is also impossible: card (S 3
)
4
= 3 is not a power of 2, and hence S 3
(shown with arrows) cannot be an AOS-fan (see Corollary
4
2.5). However, the same conﬁguration with K3 replaced by another copy of K4 does not clash
with either 2.16 or 2.17.
Note. Our notation here (and below) follows the convention introduced in 1.8 for ﬁnite fans.
Thus, S 3
4

stands for the set S I3
I4

, see 2.1 and 3.1.

(3) The two-component root-system

❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝❝
✐✐✐✐✐✐✐✐✐✐✐✐✐✐✐✐
❊❊❊❊❊❊
❊❊❊❊❊❊
②②②②②②

•

•

②②②②②②

•
•

☛☛☛☛

•

•
•

•
•

•
•

✸✸✸✸
•

☛☛☛☛

•

✸✸✸✸

☛☛☛☛

• •

✸✸✸✸
•

☛☛☛☛

•

✸✸✸✸

•

K1
•

❖❖❖❖❖❖❖❖❖❖
✸✸✸✸
•

•

1

2

3

4

5

❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞❞
❥❥❥❥❥❥❥❥❥❥❥❥❥❥
❊❊❊❊❊❊
❅❅❅❅❅
⑦⑦⑦⑦⑦

•

•

•

•

②②②②②②

K2
•

❖❖❖❖❖❖❖❖❖❖
✸✸✸✸

•

•
•

☛☛☛☛

•

•
•

✸✸✸✸
•

☛☛☛☛

•

✸✸✸✸

•

13

•

1

2

3

4

5

contradicts both Corollary 2.16 (2) (card (S 3
4
2.17 (K1 and K2 have the same “length” but are not order-isomorphic).

(K1)) = 4, but card (S 3

4

(K2)) = 2) and Corollary
✷

3 The specialization root-system of ﬁnite ARS-fans

In this section we shall mostly deal with ﬁnite fans in the categories ARS and RS. Our main
result is Theorem 3.11 —the isomorphism theorem for ﬁnite ARS-fans— which proves that,
in this case, the order of specialization alone determines the isomorphism type. The proof
✷
depends on the notion of a “standard generating system” which we introduce in 3.4.

3.1 Notation and Reminder (a) Notation 1.8 for ﬁnite (ARS- and RS-)fans is used system-
atically in this section, adapted in a self-explanatory way; e.g., for 1 ≤ k ≤ j ≤ n = ℓ(XF ), Lk
(or Lk(XF ), if necessary), will stand for the level LIk
(b) Recall that the AOSs have a combinatorial geometric (matroid) structure; it was introduced
in [D1] and [D2] for spaces of orders of ﬁelds, and later generalized to abstract order spaces in
[Li]. In general, ARSs do not possess such a structure. Thus, combinatorial geometric notions
such as dependent set, independent set, basis, closed set, closure, dimension, etc., will always
refer to the above-mentioned combinatorial geometric structure, and apply only to AOSs.
For the deﬁnition and the mutual relationships, in the general context of matroid theory, of
combinatorial notions such as those just mentioned, the reader is referred to [Wh].

for the set SIk
Ij

, Sk
j

, etc.

Since the combinatorial geometric structure of any AOS is isomorphic to that of a set of
vectors in a (possibly inﬁnite-dimensional) vector space over the two-element ﬁeld F
2 with
the structure induced by linear dependence (cf.
[D1], Thm. 3.1, p. 618), the notions above
coincide with the corresponding notions over vector spaces. For example, a subset A ⊆ X of an
AOS (X, G, −1) (G a group of exponent 2) is dependent iﬀ there are pairwise distinct elements
g, g1, . . . , gr ∈ A (r ≥ 2), such that g = g1 · . . .
· gr (as characters of G). Since functions in X
send −1 to −1, this functional identity can only hold if r is odd. Likewise, A is closed iﬀ the
✷
product of any odd number of members of A belongs to A.
Warning. In this section the words closed set and closure are used only in the combinatorial
✷
geometric sense just deﬁned.

14

Lemma 3.2 Let (X, F ) be an ARS-fan (not necessarily ﬁnite). Let J ⊆ I be in Spec(F ), and
let A ⊆ LJ , B ⊆ LI , be sets such that:
(i) The unique   - successor in LI of each g ∈ A belongs to B.
(ii) Every h ∈ B has a unique   - predecessor in A.
Then, A dependent ⇒ B dependent.
Proof. By assumption there are pairwise distinct elements g, g1, . . . , gr ∈ A such that g =
· gr; as observed above, r is odd ≥ 3. Let h, h1, . . . , hr be the unique successors of
g1 ·
g, g1, . . . , gr, resp., in B coming from (i); thus, g   h and gi
  hi, for i = 1, . . . , r. By 1.6(a)
  h1 · . . . · hr. Since h1 · . . . · hr ∈ LI (r is odd) and g has a unique
we have g = g1 · . . . · gr
  - successor in LI , we get h = h1 · . . .

· hr.

. . .

By assumption (ii), every element in A is the unique predecessor of an element in B. Since
gi 6= gj, we get hi 6= hj for 1 ≤ i 6= j ≤ r; likewise, h 6= hi for i = 1, . . . , r. This proves that h
✷
is the product of r distinct elements in B, and hence that B is dependent.

  hi.

∀ h, h′ ∈ F , card ({g ∈ G | g   h}) = card ({g ∈ G | g   h′}).

= {g ∈ G | g   h1} (see 2.11 (1). For i = 2, . . . , r, let gi ∈ G be such that gi

Proposition 3.3 (Choice of basis). Let (X, F ) be a ﬁnite ARS-fan; let 1 ≤ k < n = ℓ(X). Let
G be an arbitrary AOS-subfan of Lk+1 = Lk+1(X). Let F = { h ∈ Lk | There is g ∈ G such
that g   h } be the AOS-fan consisting of the depth-k successors of elements of G (cf. 2.5).
Assume:
(∗)
Let B = {h1, . . . , hr} be a basis of F (as an AOS ), and let C be a basis of the AOS-fan
Ph1
Then, C ∪ {g2, . . . , gr} is a basis of G.
Proof. If r = 1, then F = B = {h1}, whence G = {g ∈ G | g   h1}, and the result holds by
the choice of C. Henceforth we assume r ≥ 2. We observe:
— r = card(B) = dim(F ). Since F is an AOS-fan, card(F ) = 2r−1.
— For every h ∈ F , Ah = {g ∈ G | g   h} is a AOS-fan; this follows from the assumption that
G is an AOS-fan, since Ah is closed under the product of any three of its elements, cf. Lemma
1.6 (b).
— Ah ∩ Ah′ = ∅ for h 6= h′ in F .
By assumption (∗), card (Ah) = card (Ah′) (= 2p−1, say), for h, h′ ∈ F. Since G = Sh∈F Ah,
we get card (G) = card (F )· card (Ah) (any h ∈ F), and then card (G) = 2r−1 · 2p−1 = 2p+r−2;
hence dim (G) = p + r − 1. Since card ( C ∪ {g2, . . . , gr}) = p + r − 1, it suﬃces to prove:
(∗∗) C ∪ {g2, . . . , gr} is an independent set.
Proof of (∗∗). Assume false.
Case 1. Some gi0
J ⊆ {2, . . . , r} \ {i0} so that gi0
(+) Qc∈C′ c = Qj∈J∪{i0} gj.
— If card (C′) is odd, since Ah1
is an AOS-fan, and hence a closed set, the left-hand side
of (+) is an element g′   h1, and we have g′ · Qj∈J∪{i0} gj = 1. Setting A = {g′} ∪ {gj |
j ∈ J ∪ {i0} } ⊆ Lk+1 and B = {h1} ∪ {hj | j ∈ J ∪ {i0} } ⊆ Lk, the assumptions of Lemma 3.2
are met. Since A is dependent, so is B, contradicting that B ⊆ B and B is a basis of F , whence
an independent set.
— If C′ = ∅, the same argument works, yielding a contradiction.
— Assume card (C′) even > 0. Fix c0 ∈ C′. Then card (C′ \{c0}) = odd, and g′ = Qc∈C′\{c0} c ∈
Lk+1; also g′   h1, and we have:

, with 2 ≤ i0 ≤ r, is dependent on the rest, i.e., there are C′ ⊆ C and

= Qc∈C′ c · Qj∈J gj, i.e.,

c0 · g′ · Qj∈J∪{i0} gj = 1.

15

  hj0

, and g′
j0

:= c0 g′ gj0

  hj0
· Qj∈(J∪{i0})\{j0} gj = 1. Hence, A = {g′

Pick any index j0 ∈ J ∪ {i0} (so, j0 ≥ 2). Since c0 , g′   h1 and gj0
, Lemma 1.6(b)
yields g′
} ∪ {gj | j ∈
j0
(J ∪ {i0})\{j0}} is a dependent subset of Lk+1. Setting B = {hj | j ∈ J ∪ {i0}} the assumptions
of Lemma 3.2 are met, and hence B is also dependent, contradicting that B ⊆ B.
Case 2. Some c0 ∈ C is dependent on the rest.
Then, there are C′ ⊆ C \ {c0} and J ⊆ {2, . . . , r} so that
(++) c0 = Qc∈C′ c · Qj∈J gj.
Note that J 6= ∅ (otherwise C would be dependent). Taking J minimal so that (++) holds, and
picking j0 ∈ J, it follows that c0 is not in the closure of C′ ∪ {gj | j ∈ J \ {j0}} (cf. Warning,
is in the closure of C′ ∪ {c0} ∪ {gj | j ∈ J \{j0}},
end of 3.1 (b)). By the exchange property, gj0
✷
contrary to the result of Case 1.

j0

3.4 Standard generating systems.

For any ﬁnite ARS-fan, (X, F ), we will construct, by induction on k, 1 ≤ k ≤ n = ℓ(X), a
class of bases Bk of the AOS-fan Lk(X). Each basis Bk will be required to satisfy the additional
condition:
(∗) For k ≤ j ≤ n, Bk ∩ Sk
This additional requirement guarantees that the inductive construction of the Bk’s is not inter-
rupted before the n-th (and last) step. The construction uses Proposition 3.3 and the results
from § 2 above. The set B = Sn
Construction of standard generating systems.

k=1 Bk is called a standard generating system for (X, F ).

is a basis of the AOS-fan Sk
j

.

j

Level 1. It suﬃces to observe that a basis B1 of L1 satisfying condition (∗) exists. Begin by
choosing a basis B1(n) of the AOS-fan S1
is a closed subset (cf.
Warning, end of 3.1 (b)) of the (AOS-)fan S1
; hence, B1(n) is an independent
subset of S1

= C 1
(cf. Corollary 2.5). S1
n
n
= S1
n
; choose B1(n − 1) to be a basis of S1

∪ C 1
extending B1(n).

n−1

n−1

n

n−1

n−1

j

ℓ

.

j−1

j−1

j−1

∪ C 1

= S1
j

⊆ . . . ⊆ Sk
k

extending B1(j). Set B1 = B1(1); by construction, B1 ∩ S1

In general, assume that, for 1 < j ≤ n an increasing sequence B1(n) ⊆ . . . ⊆ B1(j) of inde-
(j ≤ ℓ ≤ n).
. Let B1(j − 1) be a
= B1(j) is a basis of

pendent subsets of L1 has been chosen so that B1(ℓ) is a basis of the AOS-fan S1
As above, B1(j) is an independent subset of the fan S1
basis of S1
S1
j
Induction step. Given an integer k, 1 ≤ k < n, assume there exists a basis Bk of Lk satis-
fying property (∗); thus, for k ≤ j ≤ n, Bk(j) = Bk ∩ Sk
. Further, since
Sk
= Lk, we have Bk(n) ⊆ . . . ⊆ Bk(k) = Bk. Using Proposition 3.3 we deﬁne a
n
subset Bk+1 of Lk+1 as follows:
— Firstly, ﬁx an element h0 ∈ Bk(n) (this set is non-empty because n = ℓ(X)). Pick a basis
Bk+1(n, h0) of the AOS-fan {g ∈ Sk+1
— Next, for each h ∈ (Bk ∩ Sk
so that h ∈ Bk ∩ Sk
= C k
h ∈ Sk
n
n
  h.
so that gh
— Finally, set

n
) \ {h0} there is a maximal index j = j(h), k + 1 ≤ j ≤ n,
\ Sk
(if j = n, then
| g   h} 6= ∅. Choose an element gh ∈ C k+1

). Since j ≥ k + 1, we have {g ∈ C k+1

= Bk(j); clearly, h 6∈ Sk

, whence h ∈ C k
j

is a basis of Sk
j

| g   h0}.

= Sk
j

k+1

j+1

j+1

j

j

j

j

16

k+1

) \ {h0}}.

is a basis of Sk+1

[*] Bk+1 = Bk+1(n, h0) ∪ {gh | h ∈ (Bk ∩ Sk
Claim. For k + 1 ≤ p ≤ n, Bk+1 ∩ Sk+1
Proof of Claim. We apply Proposition 3.3 with the following choice of parameters:
— G = Sk+1
— B = Bk ∩ Sk
— C = Bk+1(n, h0) (a basis of {g ∈ Sk+1
Proposition 2.10 (a) shows that the cardinality assumption

(whence F = Sk
p

, since k + 1 ≤ p);

| g   h0)).

(a basis of F );

n

p

p

p

p

.

card ({g ∈ Sk+1

p

| g   h}) = card ({g ∈ Sk+1

p

| g   h′}),

(h, h′ ∈ Sk
j

)

of 3.3 holds. We conclude that

D := Bk+1(n, h0) ∪ {gh | h ∈ (Bk ∩ Sk

p

) \ {h0}}

j

p

= D.

. The Claim follows from:

is a basis of Sk+1
(†) Bk+1 ∩ Sk+1
Proof of (†). Since Bk+1(n, h0) ⊆ D ∩ Bk+1 (see [*]), we need only prove:
(⊆) If h ∈ (Bk ∩ Sk
) \ {h0}} and gh ∈ Sk+1
This clearly follows from gh ∈ Sk+1
, gh
(⊇) Since k + 1 ≤ p, we have Bk ∩ Sk
if h ∈ (Bk ∩ Sk
and h ∈ Bk(j), we have p ≤ j(h), whence Sk+1
gh ∈ Sk+1

  h and h ∈ Sk
= Bk(p) ⊆ Bk(k + 1) = Bk ∩ Sk
. On the other hand,
) \ {h0} and, as above, j(h) denotes the largest index j so that k + 1 ≤ j ≤ n
; it follows that
✷

, then h ∈ Bk ∩ Sk
.

. By choice, gh ∈ C k+1

, as required.

⊆ Sk+1
p

k+1

k+1

k+1

j(h)

j(h)

p

p

p

p

p

.

p

n

under each h ∈ (Bk ∩ Sk

Remarks 3.5 (a) In general, there are many diﬀerent standard generating systems for a ﬁnite
ARS-fan (X, F ). The construction in 3.4 allows for several choices of the bases B1(j) (1 ≤ j ≤ n)
and, at each successive step, k, for many choices of elements h0 ∈ Bk(n), of bases Bk+1(n, h0),
and of elements gh ∈ C k+1
)\{h0}. In spite of this lack of uniqueness,
we shall prove below that any standard generating system determines the isomorphism type of
a ﬁnite ARS-fan.
(b) Some of the sets C k
j
Bk ∩ C k
6= ∅. Indeed, if j = n, then C k
n
Bk ∩ C k
is a basis of C k
n
is a closed set; as it is disjoint from C k
j
any basis of Sk
j

may be empty. However, if C k
j
6= ∅ (as n = ℓ(X)) and C k
= Sk
n
n
, it must contain at least one element. If j < n, since Sk

6= ∅, then, necessarily,
is an AOS-fan; since

must contain an element of C k
j

, then no element of C k
j

j+1
is dependent on Sk

. Hence,
✷

is a fan, it

∪ C k
j

= Sk
j

= Sk

\ Sk

k+1

j+1

j+1

j+1

n

.

j

Any standard generating system for a ﬁnite ARS-fan has the following property:

Corollary 3.6 Let B be a standard generating system for a ﬁnite ARS-fan (X, F ); let n =
ℓ(X), and 1 ≤ k ≤ m ≤ n. Then, for every g ∈ Bm = B ∩ Lm(X), the unique depth-k
successor of g in X belongs to B (hence to Bk = B ∩ Lk(X)).
Proof. By the construction in 3.4 this holds for m = k + 1. In fact, let g ∈ Bk+1 , h′ ∈ Lk and
g   h′. By the deﬁnition of Bk+1 and uniqueness of the successor of g in Lk, if g ∈ Bk+1(n, h0),
) \ {h0}, we get h′ = h ∈ Bk. Then
then h′ = h0 ∈ Bk(n) ⊆ Bk; if g = gh, with h ∈ (Bk ∩ Sk
✷
iterate.

k+1

17

For the proof of the Isomorphism Theorem 3.11 below we shall need the characterizations
of ARS-morphisms between fans proved in 3.9 and 3.10 below, which, in turn, follow from the
Small Representation Theorem 3.8.

Deﬁnition 3.7 Let G, H be RSs, let XG, XH be their character spaces, and let Z ⊆ XG . A
preserves 3-products (in Z) iﬀ for all h1, h2, h3 ∈ Z,
map F : Z −→ XH
h1h2h3 ∈ Z ⇒ F (h1h2h3) = F (h1)F (h2)F (h3).
Proposition 3.8 (Small representation theorem). Let G be a RS. The following conditions
are equivalent for a map f : XG −→ 3 :
(1) a) f is continuous in the constructible topology of XG.

✷

b) f preserves 3-products in XG.

(2) f is represented by an element of G: there is a ∈ G so that f =

a.
b

[

a(h) = h(a).]
b

a : XG−→ 3 denotes “evaluation at a”: for h ∈ XG,
b
Proof. (2) ⇒ (1) is clear since the evaluation maps have properties (1.a) and (1.b).
(1) ⇒ (2). We use the representation theorem [M], Cor. 8.3.6, p. 162. It suﬃces to check that
the assumptions of this theorem as well as one of the equivalent conditions in its conclusion hold
under our hypotheses in (1). In our notation, the conditions to be checked are: for x, y ∈ XG,
(†)
(††) f (x) 6= 0 and x−1[0, 1] ⊇ y−1[0, 1]
(†††) For any saturated prime ideal I of G, either
(i) f ⌈{u ∈ XG | Z(u) = I} = 0, or
(ii) Q4

i=1 f (xi) = 1 for any 4-element AOS-fan {x1, . . . x4} in {u ∈ XG | Z(u) = I}.

f (x) = 0 and Z(x) ⊆ Z(y) implies f (y) = 0.

implies f (x) = f (y).

— Condition (†) follows at once from Lemma 0.2 (2) (as Z(x) ⊆ Z(y) ⇒ y = yx2).
— Condition (††) follows from Lemma 0.1 (3),(5): x−1[0, 1] ⊇ y−1[0, 1] ⇒ x = x2y. Since
f (x) 6= 0 ⇒ f (x2) = 1, assumption (1.b) implies f (x) = f (x2)f (y) = f (y).
— As for (†††), if (i) does not hold, (†) implies f (u) 6= 0 for all u ∈ XG such that Z(u) = I.
Let {x1, . . . x4} be an AOS-fan in {u ∈ XG | Z(u) = I}. Thus, x4 = x1x2x3 and f (xi) 6= 0 for
i = 1, . . . , 4. Assumption (1.b) gives f (x4) = f (x1)f (x2)f (x3) 6= 0, i.e., Q4
✷
Corollary 3.9 A map F : (X1, F1) −→ (X2, F2) between ARS-fans is an ARS-morphism iﬀ F
is continuous for the constructible topology (of both source and target ) and preserves 3-products
in X1 (cf. 3.7 ).
Proof. (⇐) If F has the stated properties and a ∈ F2, then
a ◦ F : X1 −→ 3 also has those
b
properties, and, by Proposition 3.8, is represented by an element of F1; hence, F is an ARS-
morphism (cf. 1.1 (c.i)).
(⇒) Assume F is an ARS-morphism. For continuity it suﬃces to show that F −1[V ] is open
constructible in X1 whenever V is basic open for the constructible topology of X2, i.e., of the
form V = U (a1, . . . , an) ∩ Z(a) with a, a1, . . . , an ∈ F2 (see [M], p. 111). By the assumption
on F , there are b, b1, . . . , bn ∈ F1 such that
ai ◦ F = bbi for i = 1, . . . , n. These
b
functional identities imply F −1[V ] = U (b1, . . . , bn) ∩ Z(b), as required.

a ◦ F = bb and
b

i=1 f (xi) = 1.

Preservation of 3-products by F follows easily from the same property for

the functional identity

a ◦ F = bb.
b
Lemma 3.10 Let (X1, F1), (X2, F2) be ARS-fans.

a and bb using
b
✷

(1) For a map F : X1 −→ X2 the following are equivalent:

(i ) F preserves 3-products in X1.
(ii ) a) F preserves 3-products of elements of the same level: for all I ∈ Spec(F1) and all

18

h1, h2, h3 ∈ LI (X1), F (h1h2h3) = F (h1)F (h2)F (h3).

b) F is monotone for the specialization order: for g, h ∈ X1, g 1

  h ⇒ F (g) 2

  F (h).

i

  denotes specialization in Xi).
(
(2) If (X1, F1) is ﬁnite, any map verifying one of the equivalent conditions (i) or (ii) in (1) is
a morphism of ARSs.
(3) If both (X1, F1), (X2, F2) are ﬁnite, any bijection F : X1 −→ X2 veriﬁying one of the equiv-
alent conditions in (1) is an isomorphism of ARSs.

  F (h).

  h ⇔ h = h2g (Lemma 0.1). By (i), F (h) = F (h)2F (g), and this equality (in X2)

Proof. (1). (i) ⇒ (ii). (ii.a) is a special case of (i).
(ii.b) g 1
gives F (g) 2
(ii) ⇒ (i). Let h1, h2, h3 be any three elements in X1; say Z(h3) ⊆ Z(h2) ⊆ Z(h1). Let I = Z(h1)
and for i = 2, 3 let h′
in LI (X1); Lemma 1.5 shows that
i
h1h2h3 = h1h′

be the unique successor of hi

; then, assumption (ii.a) gives

h′
3

2

F (h1h2h3) = F (h1)F (h′
i), (i = 2, 3). Next, note that Z(F (h′

)F (h′
3

).

2

belong to the same level LI , Z(h1) = Z(h′

i)) ⊆ Z(F (h1)) for i = 2, 3.
), and Lemma 0.2 (2) yields
2. Since F preserves 3-products of the same level,
)) ⊆ Z(F (h1)). Same argument for i = 3.

2

  F (h′

By (ii.b) we have F (hi) 2
In fact, since h1, h′
h2
1
F (h1) = F (h1)F (h′
Using 1.5 again, these inclusions and F (hi) 2

2; scaling by h1 gives h1 = h1h′

= h′
2

2

2

2

)2 which, by 0.2 (1), gives Z(F (h′
2
  F (h′
), (i = 2, 3) prove:
i
) = F (h1)F (h2)F (h3),

F (h1)F (h′

)F (h′
3

2

as required.

(2) follows at once from Corollary 3.9, since the continuity requirement is automatically fulﬁlled
in this case: the constructible topology in X1 is discrete.
(3) By (2) it only remains to prove that F −1 : X2 −→ X1 preserves 3-products in X2. Let
g1, g2, g3 ∈ X2 and let hi = F −1(gi), i = 1, 2, 3. From (1.i) we have F (h1h2h3) = g1g2g3.
Composing both sides of this equality with F −1 gives the desired conclusion:
F −1(g1g2g3) = F −1(F (h1h2h3)) = h1h2h3 = F −1(g1)F −1(g2)F −1(g3).

✷

Remark. Note that any isomorphism of ARS-fans preserves depth.

1

  , 2

  denote their respective specialization orders. If (X1, 1

  ) are order-isomorphic, then X1 and X2 are isomorphic ARSs.

Theorem 3.11 (The isomorphism theorem for ﬁnite ARS-fans.) Let (X1, F1), (X2, F2) be
  ) and
ﬁnite ARS-fans and let
(X2, 2
Proof. The order-isomorphism assumption implies:
(1) ℓ(X1) = ℓ(X2) ( = n, say, ﬁxed throughout the proof).
(2) For 1 ≤ k ≤ j ≤ n, card(C k
j

(X1)) = card(C k

j
∩ C k

(X2)).
ℓ′ = ∅ for k ≤ ℓ 6= ℓ′ ≤ n and Sk

j

= S n

ℓ=j C k
ℓ

,

The proof of (2) is an easy exercise. Since C k
ℓ
we get:
(3) For 1 ≤ k ≤ j ≤ n, card(Sk
j

(4) For 1 ≤ k < n and all h ∈ Sk
n

(X1)) = card(Sk
(X1), h′ ∈ Sk

n

(X2)).

j
(X2), we have:

card({g ∈ Sk+1

n

(X1) | g 1

  h}) = card({g′ ∈ Sk+1

n

19

(X2) | g′

  h′}).

2

Proof of (4). Consider the two-variable formula in the language {≤} of order:

ϕ(x, y) := x ∈ Sk+1

n

∧ x ≤ y.

n

; cf. 2.1.)

(It is left as an exercise for the reader to write a ﬁrst-order formula in {≤} expressing the
notion x ∈ Sk+1
If σ denotes the order isomorphism between (X1, 1
  ) |= ϕ[g, h] ⇔ (X2, 2
(X1, 1
(X1) | g 1

  ) and (X2, 2
  ) |= ϕ[σ(g), σ(h)].

  ), for g, h ∈ X1 we have:

  h} bijectively onto {g′ ∈ Sk+1

(X2). If h′ ∈ Sk

n

  σ(h)}.
(X2), apply Proposition 2.10 with h1 = h′
✷

(X2) | g′

n

2

It follows that σ maps {g ∈ Sk+1
Now, if h ∈ Sk
n
and h2 = σ(h) to conclude.

(X1), then σ(h) ∈ Sk

n

n

Since the sets in item (4) are AOS-fans (Corollary 2.5), they have the same dimension, i.e.,
any bases of each of them have the same cardinality. If B1, B2 are standard generating systems
for X1, X2, respectively, then Bi ∩ Sk
(Xi), for 1 ≤ k ≤ j ≤ n and
i = 1, 2; from (3) we get:
(5) For 1 ≤ k ≤ j ≤ n, card (B1 ∩ Sk
j
= Lk we obtain:

(Xi) is a basis of the fan Sk

(X1)) = card (B2 ∩ Sk

(X2)).

j

j

j

In particular, for Sk
k
(6) If 1 ≤ k ≤ n, then card (B1
k

) = card (B2
k

)

(where Bi
k

= Bi ∩ Lk(Xi)).

Next, we choose an arbitrary standard generating system B1 for X1. By induction on k,
) and a map

k

−→ B2
k

1 ≤ k ≤ n, we construct a standard generating system B2 of X2 (B2 = S n
fk : B1
so that:
(7) i) For k ≤ j ≤ n, fk[ B1 ∩ Sk
j
, h ∈ B1
k

(X1)] = B2 ∩ Sk
and g 1

  h, then fk+1(g) 2

ii) If k < n, g ∈ B1

  fk(h).

(X2).

k+1

j

k=1 B2
k

Construction of B2 and the maps fk.
is built as in the level 1 step in 3.4; with notation therein, f1 : B1
Level 1. B2
is any
1
bijection mapping B1(j) onto B2(j), for 1 ≤ j ≤ n. Such a bijection exists by (5) above
(k = 1).
Induction step. Assume B2
1
— For 1 ≤ j ≤ k and j ≤ ℓ ≤ n, B2
j
fj[ B1
∩ Sj
ℓ
— Condition (7.ii) holds for all j such that 1 ≤ j < k.

and f1, . . . , fk already constructed, so that:

(X2) is a basis of the AOS-fan Sj

(X1)] = B2

(X2) and

, . . . , B2
k

−→ B2
1

∩ Sj
ℓ

∩ Sj
ℓ

(X2).

1

ℓ

j

j

The basis B2

k+1

, and along with it the map fk+1, are deﬁned by performing the construction

(n, h0) is a basis of the (AOS-)fan {g ∈ Sk+1

∩ Sk
n

(X1), and B1

of the inductive step in 3.4, with the following choice of parameters:
— If h0 ∈ B1
k
then take B2
possible since fk(h0) ∈ B2
bijection between B1

(n, fk(h0)) to be a basis of the fan {g′ ∈ Sk+1

∩ Sk
n
(n, h0) and B2
(X1) with k + 1 ≤ j ≤ n, but g 6∈ B1

(n, fk(h0)).

k+1
∩ C k+1
j

k+1

k+1

k+1

n

k

(X2), by (7.i). Using item (4), we let fk+1⌈ B1

k+1

— If g ∈ B1
(n, h0), then, by the construction
performed in the inductive step of 3.4, if h is the unique depth-k successor of g, we have
  fk(h) such that
h ∈ B1
k
g′ ∈ C k+1
(X2) (which follows

(X1), h 6= h0 and g = gh. In this case choose any element g′
∩ C k
j

(X2), and set fk+1(g) = g′. This is possible since fk(h) ∈ B2

∩ C k
j

k+1

k

j

2

n

  h0},
(X1) | g 1
  fk(h0)}. This is
(n, h0) be a

2

k+1

(X2) | g′

easily from (7.i)). Clearly, this construction guarantees that (7.i) and (7.ii) hold for k + 1.

Note that (7.ii) implies, by iteration, its own generalization:

20

Since Bi
k

(7) iii) If 1 ≤ k < m ≤ n, g ∈ B1
m

  fk(h).
and g 1
= Bi ∩ Lk(Xi) is a basis of the AOS-fan Lk(Xi), i = 1, 2, we get:
(8) The bijection fk extends (uniquely) to an AOS-isomorphism efk : Lk(X1) −→ Lk(X2) map-
ping Sk
j

(X2), for all j such that k ≤ j ≤ n.

  h, then fm(g) 2

(X1) onto Sk

, h ∈ B1
k

j

Now set F : X1 −→ X2 to be F = S n

k=1 efk. We prove:

k=1 Lk(Xi) (disjoint union) for i = 1, 2, and efk maps Lk(X1)

Claim. F is an isomorphism of ARSs.
Proof of Claim. Since Xi = S n
bijectively onto Lk(X2), we have:
(a) F is well-deﬁned and bijective.
(b) For all k, 1 ≤ k ≤ n, F preserves 3-products in Lk.
This is clear: by (8) F ⌈ Lk(X1) = efk : Lk(X1) −→ Lk(X2) is an isomorphism of AOS-fans.
(c) F is monotone for the specialization order.
  F (h).
Let g, h ∈ X1 be such that g 1
Since B1
. . .
and r necessarily
m
odd (possibly = 1). By Corollary 3.6, if hi is the unique depth-k successor of gi, then hi ∈ B1
.
k
Also, gi
· hr (1.6 (a)). Since both
h and h1 ·
· hr. As F
. . .
· hr are successors of g of the same level k, we get h = h1 ·
preserves products of any odd number of elements of the same level, we have:
· F (hr).

  h; say d(g) = m ≥ d(h) = k. We must prove F (g) 2

  hi (i = 1, . . . , r) implies g = g1 ·

generates Lm(X1), then g = g1 ·

· gr with g1, . . . , gr ∈ B1

F (g) = F (g1) ·

  h1 ·

· gr 1

and

. . .

. . .

. . .

m

1

F (h) = F (h1) ·
, item (7.iii) yields F (gi) = fm(gi) 2

. . .

  fk(hi) = F (hi)

  hi, gi ∈ B1

. . .
· F (gr)
and hi ∈ B1
Since gi
(i = 1, . . . , r). Then, by 1.6 (a) again,
F (g) = F (g1) · . . .

m

k

1

· F (gr) 2

  F (h1) ·

. . .

· F (hr) = F (h),

which proves (c). The Claim follows from (a)–(c) using Lemma 3.10 (3). This completes the
✷
proof of Theorem 3.11.

References

[AR]

[ABR] C. Andradas, L. Br¨ocker, J. Ruiz, Constructible Sets in Real Geometry, A Series
of Modern Surveys in Mathematics 33, Springer-Verlag, Berlin, Heidelberg, New York
(1996).
C. Andradas, J. Ruiz, Algebraic and Analytic Geometry of Fans, Memoirs
Amer. Math. Soc. 553 (1995), 117 pp.
J. Bochnak, M. Coste, M.-F. Roy, Real Algebraic Geometry, Springer-Verlag,
Berlin, Heidelberg, New York (1998). [English version of G´eom´etrie alg´ebrique
r´eelle, Ergeb. Math. 12, Springer-Verlag, Berlin, Heidelberg, New York (1987).]

[BCR]

[BK]

[Br]

[D1]

E. Becker, E. K¨opping, Reduzierte quadratische Formen und Semiordnungen reeller
K¨orper, Abh. Math. Sem. Univ. Hamburg 46 (1977), 143-177.
L. Br¨ocker, Abstract Real Spectra,
in S´eminaire de Structures Alg´ebriques Or-
donn´ees 1992–1993, Univ. Paris VII (F. Delon, M. Dickmann, D. Gondard, eds.),
Pr´epublication No. 49 (1994), 4 pp.

M. Dickmann, A Combinatorial Geometric Structure on the Space of Orders of a
Field. I, Europ. J. Combinatorics 18 (1997), 613-634.

21

[D2]

M. Dickmann, A Combinatorial Geometric Structure on the Space of Orders of a
Field. II, in Real Algebraic Geometry and Quadratic Forms (B. Jacob, T. Y.
Lam and R. Robson, eds.), Contemporary Math. 155 (1994), AMS, 119-140.

[DM1] M. Dickmann, F. Miraglia, Special Groups. Boolean-Theoretic Methods in the

Theory of Quadratic Forms, Memoirs Amer. Math. Soc. 689 (2000), 247 pp.

[DM2] M. Dickmann, F. Miraglia, Faithfully Quadratic Rings, Memoirs Amer. Math. Soc.

1128 (2015), xi + 141 pp.

[DP1] M. Dickmann, A. Petrovich, Real Semigroups and Abstract Real Spectra. I, Contem-

porary Math. 344 (2004), 99-119, Amer. Math. Soc.

[DP2] M. Dickmann, A. Petrovich, The Three-Valued Logic of Quadratic Form Theory over
Real Rings, in Andrzej Mostowski and Foundational Studies (A. Ehrenfeucht,
V. W. Marek, M. Srebrny, eds.), IOS Press, Amsterdam, 2008, 49-67.

[DP3] M. Dickmann, A. Petrovich, Spectral Real Semigroups, Annales de la Facult´e des

Sciences de Toulouse (S´erie 6, 21) (2012), 359-412.

[DP4] M. Dickmann, A. Petrovich, Real Semigroups, Real Spectra and Quadratic

Forms over Rings, monograph, approx. 250 pp. (in preparation).

[DP5a] M. Dickmann, A. Petrovich, Fans in the Theory of Real Semigroups. II. Algebraic

Theory, 36 pp., submitted.

[DST] M. Dickmann, N. Schwartz, M. Tressl, Spectral Spaces, monograph in preparation;
approx. 450 pp., Cambridge Univ. Press (New Mathematical Monographs).

[La]

[Li]

[M]

[Wh]

T. Y. Lam, Orderings, valuations and quadratic forms, Regional conference
series in mathematics 52, Amer. Math. Soc. (1983).

A. Lira, Les groupes sp´eciaux, Ph. D. thesis, Univ. of Paris VII (1995), unpublished.

M. Marshall, Spaces of Orderings and Abstract Real Spectra, Lecture Notes
Math. 1636, Springer-Verlag, Berlin, (1996).

N. White (ed.), The Theory of Matroids, Encyclopedia of Mathematics and its
Applications, vol. 26, Cambridge Univ. Press (1986).

M. Dickmann
Institut de Math´ematiques de Jussieu –
Paris Rive Gauche

Universit´es Paris 6 et 7
Paris, France
e-mail: dickmann@math.univ-paris-diderot.fr

A. Petrovich
Departamento de Matem´atica
Facultad de Ciencias Exactas y Naturales
Universidad de Buenos Aires
Buenos Aires, Argentina
e-mail: apetrov@dm.uba.ar

