Tight Revenue Gaps among Simple Mechanisms∗

Yaonan Jin†

Pinyan Lu‡

Zhihao Gavin Tang§

Tao Xiao¶

We consider a fundamental problem in microeconomics: selling a single item to a number of
potential buyers, whose values are drawn from known independent and regular (not necessar-
ily identical) distributions. There are four widely-used and widely-studied mechanisms in the
literature: Myerson Auction (OPT), Sequential Posted-Pricing (SPM), Second-Price Auction with
Anonymous Reserve (AR), and Anonymous Pricing (AP).

OPT is revenue-optimal but complicated, which also experiences several issues in practice
such as fairness; AP is the simplest mechanism, but also generates the lowest revenue among
these four mechanisms; SPM and AR are of intermediate complexity and revenue. We explore
revenue gaps among these mechanisms, each of which is deﬁned as the largest ratio between
revenues from a pair of mechanisms. We establish two tight bounds and one improved bound:

1. SPM vs. AP: this ratio studies the power of discrimination in pricing schemes. We obtain

the tight ratio of C∗ ≈ 2.62, closing the gap between

e

−

e

left before.

2. AR vs. AP: this ratio measures the relative power of auction scheme vs. pricing scheme,
6 ≈ 1.64, closing the

when no discrimination is allowed. We attain the tight ratio of π2
.
previously known bounds

e

1, e
(cid:3)

(cid:2)

3. OPT vs. AR: this ratio quantiﬁes the power of discrimination in auction schemes, and is
previously known to be somewhere between
. The lower-bound of 2 was conjectured
to be tight by Hartline and Roughgarden (2009) and Alaei et al. (2015). We acquire a
(cid:2)
better lower-bound of 2.15, and thus disprove this conjecture.

2, e

(cid:3)

e

−

1 , e
(cid:3)

(cid:2)

0
2
0
2

n
a
J

2
2

]
T
G
.
s
c
[

2
v
0
8
4
0
0
.
4
0
8
1
:
v
i
X
r
a

∗A preliminary version of this paper appeared in SODA 2019.
†Columbia University; work done in part as a student at IEDA, HKUST. jin.yaonan@columbia.edu.
‡ITCS, Shanghai University of Finance and Economics. lu.pinyan@mail.shufe.edu.cn.
§ITCS, Shanghai University of Finance and Economics. tang.zhihao@mail.shufe.edu.cn.
¶Department of Computer Science, Shanghai Jiao Tong University. xt 1992@sjtu.edu.cn.

 
 
 
 
 
 
Contents

1 Introduction

1.1 Our Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
1.2 Subsequent Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
1.3 Further Related Work . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

2 Notation and Preliminaries

2.1 Distribution Families . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.2 Mechanisms . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

2
3
4
4

5
5
6

3 Sequential Posted-Pricing vs. Anonymous Pricing

7
8
3.1 Upper-Bound Analysis I: Reduction . . . . . . . . . . . . . . . . . . . . . . . . . .
3.2 Upper-Bound Analysis II: Optimization . . . . . . . . . . . . . . . . . . . . . . . .
9
3.3 Lower-Bound Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 11

4 Anonymous Reserve vs. Anonymous Pricing

13
4.1 Upper-Bound Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14
4.2 Lower-Bound Analysis in I.I.D. General Setting . . . . . . . . . . . . . . . . . . . 14
4.3 Lower-Bound Analysis in Asymmetric Regular Setting . . . . . . . . . . . . . . . . 15

5 Myerson Auction vs. Anonymous Reserve

6 Conclusions

16

18

A Mathematical Facts

20
A.1 Proof of Fact 1 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
A.2 Proof of Fact 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 20
A.3 Proof of Fact 3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21

B Proof of Lemma 1

21

C Missing Proofs in Section 3

22
C.1 Numeric Calculation about Constant C∗ ≈ 2.6202 . . . . . . . . . . . . . . . . . . 22
C.2 Proof of Lemma 10 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 22
C.3 Proof of Lemma 11 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23
C.4 Proof of Lemma 3 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24
C.5 Proof of Lemma 4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25
C.6 Proof of Lemma 5 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26

D Proof of Lemma 12

E Proof of Lemma 9

26

27

1

1 Introduction

How to maximize the expected revenue of a seller, who wants to sell an indivisible item to a
number of buyers, is a central problem in microeconomics. The simplest mechanism is Anony-
mous Pricing (denoted by AP). Such a mechanism simply posts a price of p ∈ R
0 to all buyers,
and the item is sold out iff at least one buyer has a value no less than this price. If the seller
knows the value distributions of the buyers, he can leverage a proper price to maximize the rev-
enue (among this family of mechanisms). Although widely-used, this is not the revenue-optimal
selling method; the optimal mechanism is the prominent Myerson Auction (denoted by OPT; see
Myerson, 1981). In comparison, OPT is far more complex than AP, due to two reasons:

≥

(a) It discriminates different buyers with different value distributions. Conceivably, this may

incur some fairness issues, and is not feasible in some markets.

(b) It is an auction scheme instead of a pricing scheme, and thus requires more seller-to-buyer
communication. This may also raise privacy concerns to the buyers, since they need to
report their private values, rather than make take-it-or-leave-it decisions.

These complications and other undesirable issues hinder the prevalence of Myerson Auction. To
address these issues, two mechanisms with intermediate complexities (compared to OPT and
AP) are widely studied in the literature, and are widely adopted in practice: (a) to avoid price
discrimination, the seller can use Second-Price Auction with Anonymous Reserve (denoted by AR;
see Hartline and Roughgarden, 2009); and (b) to reduce communication, the seller can employ
Sequential Posted-Pricing (denoted by SPM; see Chawla et al., 2010, 2015). We defer the formal
deﬁnitions of all mechanisms to Section 2.2.

These four mechanisms together form the lattice structure in Figure 1, in terms of both
revenue-domination and complexity. It is well known that there is a revenue gap between any
pair of mechanisms. The reader may query that how large these gaps can be.

Indeed, quantitative analysis of these gaps is also a striking theme in algorithmic economics.
To this end, the notion of approximation ratio (originated from the TCS community) turns out
to be a powerful language. There is a rich literature on studying revenue gaps/approximation
ratios among various mechanisms (e.g. see Bulow and Klemperer, 1994; Goldberg et al., 2001;
Bar-Yossef et al., 2002; Guruswami et al., 2005; Koutsoupias and Pierrakos, 2013; Chen et al.,
2014, 2015; Fu et al., 2015; D¨utting et al., 2016; Alaei et al., 2019; Correa et al., 2017).

1.34, 1.49

(cid:2)

(cid:3)

OPT: discriminate auction

[2, e]

[2.15, e]

SPM: discriminate pricing

[2.23, e]

[2.62, e]

AR: anonymous auction

2.62

e

−

e

1 , e
(cid:3)

(cid:2)

AP: anonymous pricing

π2/6

e

−

e

1 , e
(cid:3)

(cid:2)

Figure 1: Revenue gaps among basic mechanisms in the asymmetric regular setting. Our new
results are marked in bold: the C∗ ≈ 2.62 bound is by solving the SPM vs. AP problem (see
Section 3); the π2/6 ≈ 1.64 bound is by solving the AR vs. AP problem (see Section 4); and the
2.15 bound is by constructing a better lower-bound instance for the OPT vs. AR problem (see
Section 5). For the other previously known results, we give a survey in Section 6.

2

1.1 Our Results

In the natural setting with asymmetric1 and regular distributions, no tight revenue gap between
any pair of the four mechanisms was previously known. In this work, we get two tight bounds
and an improved bound, where the improved lower bound between OPT and AR disproves a
conjecture asked by Hartline and Roughgarden (2009); Hartline (2013); Alaei et al. (2019).

SPM vs. AP. This comparison measures the power of discrimination in pricing schemes. We
establish the tight ratio of constant C∗ ≈ 2.62. Prior to this work, the tight ratios in the
other three settings were known to be (a) n in the asymmetric general setting (see Alaei et al.,
2019); (b)
1 ≈ 1.58 in the i.i.d. regular setting; and (c) 2 in the i.i.d. general setting (e.g.
see Hartline, 2013; D¨utting et al., 2016).2 Actually, we can also get the last two ratios by com-
bining the results in Myerson (1981); Krengel and Sucheston (1978); Hill et al. (1982), which
was ﬁrst observed by Hajiaghayi et al. (2007).

−

e

e

AR vs. AP. This comparison studies the relative power between auction schemes and pricing
schemes, when no discrimination is allowed. We ﬁrst (a) prove an upper bound of π2
6 ≈ 1.64 in
the asymmetric general setting, and then (b) respectively construct matching lower-bound in-
stances in the asymmetric regular setting and the i.i.d. general setting. Prior to this work, (c) in
the i.i.d. regular setting, where AR is identical to OPT, an upper-bound of
1 ≈ 1.58 was
obtained by Chawla et al. (2010), and afterward was shown to be tight by Hartline (2013).

−

e

e

OPT vs. AR. This comparison studies the power of discrimination in auction schemes. Previ-
ously, the tight ratios were known in all settings (see Myerson, 1981; Hartline, 2013; Alaei et al.,
2019) except for the asymmetric regular setting. Hartline and Roughgarden (2009) ﬁrst tackled
the problem in this setting: they (a) proved an upper-bound of 4 (later improved to e ≈ 2.72
by Alaei et al., 2019), and (b) provided a 2-approximation lower-bound instance. Although this
lower bound of 2 has never been broken (for a decade), and is widely believed to be the tight
ratio, we will demonstrate a sharper 2.15-approximation instance in Section 5.

Interestingly, (a) the instance of Hartline and Roughgarden (2009) consists of two buyers;
yet (b) the two sharper instances in this work respectively involve three and four buyers. Given
this and other observations (see Section 5), we conjecture that the tight ratio is reached by an
instance with inﬁnite number of buyers.

Extensions. The above three results also improve other related bounds by implication. For
example, due to Alaei et al. (2019), the tight ratio of the OPT vs. AP problem is somewhere
between [2.23, e]. This interval now shrinks to [C∗, e], by taking into account our tight result of
C∗ ≈ 2.62 for the SPM vs. AP problem.

We settle both of the SPM vs. AP problem and the AR vs. AP problem by formulating a rev-
enue gap as the objective function of a mathematical program. This methodology was initiated
by Chen et al. (2014) and Alaei et al. (2019). Employing a similar approach, Birmpas et al.
(2017) recently obtained a tight price of anarchy for multi-unit auction. Our work further sup-
ports the power of this framework in proving tight bounds. En route, we develop an abundance
of tools to handle these mathematical programs, which may ﬁnd extra applications in the future.
For many revenue gaps well understood in the literature (e.g. see Bulow and Klemperer,
1994; Hartline and Roughgarden, 2009; Chawla et al., 2010; Kleinberg and Weinberg, 2012),
a corresponding worst-case instance consists of merely two or several buyers. By contrast, any
worst-case instance of our tight results includes inﬁnitely many buyers; the ideas behind these
instances may be advantageous to lower-bound analysis of other related problems.

1Throughout the paper, asymmetric distributions refer to the setting when different buyers can have distinct value

distributions, as opposed to identical distributions.

2The referenced book and paper do not state their results explicitly in the language of SPM vs. AP. However,

these SPM vs. AP results are easy corollaries of the referenced results.

3

1.2 Subsequent Work

In a conference version of this paper (Jin et al., 2019b), it is conjectured that the revenue gap
between OPT and AP equals C∗ ≈ 2.62, due to the following two observations.

(a) From our lower-bound instance (i.e. Example 1) of the SPM vs. AP problem, OPT does

extract the same revenue as SPM (see Lemma 1 and Remark 1).

(b) AP admits the same revenue gap against either OPT or SPM, in each of the asymmetric

general, i.i.d. general, and i.i.d. regular settings (see Tables 2 and 3).

This conjecture is conﬁrmed by Jin et al. (2019a). Together with the tight revenue gaps devel-
oped in this paper, this result suggests the following economic interpretations. To extract more
revenue, using price discrimination may be more powerful than conducting anonymous-reserve
type auctions – not only because “SPM vs. AP” has a greater revenue gap than “AR vs. AP”, but
also because for the worst-case instance of “OPT v.s. AP”, the optimal Myerson Auction can be
implemented as an SPM mechanism.

1.3 Further Related Work

This work ﬁts in the “simple versus optimal” paradigm proposed by Hartline and Roughgarden
(2009). For a full survey on current progress and future direction in this research agenda, the
reader can refer to the book “Mechanism Design and Approximation” by Hartline (2013).

Alaei et al. (2019) developed the mathematical-program-based approach in this context,
aiming to tackle the OPT vs. AP problem. However, because it is hard to directly quantify the
OPT revenue, the authors instead considered an upper-bound revenue formula called Ex-Ante
Relaxation3 (see Chawla et al., 2010). They formulated the Ex-Ante Relaxation vs. AP problem
as a simpliﬁed mathematical program, and the resulting tight ratio of e ≈ 2.72 gives an upper
bound of the original OPT vs. AP problem.

Sequential Posted-Pricing. In the literature, researchers also studied the revenue gap between
OPT and SPM. This comparison admits the same ratio for general distributions as for regular
In the i.i.d.
distributions, due to a standard technique called ironing (see Myerson, 1981).
setting, Correa et al. (2017) established the tight ratio of 4 α ≈ 1.34. Notably, the corresponding
worst-case instance consists of inﬁnitely many buyers. In the asymmetric setting, Chawla et al.
1 ≈ 1.58; Yan (2011) and Ehsani et al. (2018) showed
(2010) ﬁrst got an upper bound of
that this bound holds in broader settings. Recently, better upper bounds were acquired in
Azar et al. (2018); Beyhaghi et al. (2018); Correa et al. (2019a), and the state-of-the-art result
is constant5 β ≈ 1.50. On the other hand, the best known lower bound is actually the tight ratio
of α ≈ 1.34 in i.i.d. settings. For more details about this comparison, the reader can refer to
(Correa et al., 2019a, Section 1).

−

e

e

Prophet Inequalities. Hajiaghayi et al. (2007) ﬁrst observed connections between the OPT
vs. SPM problem and the notion of prophet inequality (e.g. see Krengel and Sucheston, 1977,
1978) in stopping theory. Due to the numerous applications of those inequalities to algorithm
design and mechanism design, the last decade has seen extensive progress on them (e.g. see also
Babaioff et al., 2007; Kleinberg and Weinberg, 2012; Rubinstein, 2016; Rubinstein and Singla,
2017; Abolhassani et al., 2017; Esfandiari et al., 2017; Ehsani et al., 2018; Duetting et al., 2017;

3Ex-Ante Relaxation is in spirit a “fake” mechanism, yet is useful to analyze approximation guarantees of simple
mechanisms. To introduce this technique, Chawla et al. (2010) actually employed the ideas involved in SPM. Later,
this technique was further developed in Yan (2011); Alaei (2014); Chawla and Miller (2016).

4 More precisely, constant α ≈ 1.34 is the unique solution to equation R
− 1
5 More precisely, constant β = (cid:0) 28
27

−1 ≈ 1.49.

e (cid:1)

1

0 (cid:0)x − x · ln x − 1 + 1/α(cid:1)

−1 · dx = 1.

4

Correa et al., 2019b; D¨utting and Kesselheim, 2019; Anari et al., 2019). For more literature, the
reader can refer to the survey by Lucier (2017) and the references therein.

In multi-item environments, optimal mechanisms might be
Multi-Item Mechanism Design.
more complicated and weird, and there is a rich literature on studying how well simple mech-
anisms approximate the optima. We can categorize previous work based on valuation functions6
of the buyers: (a) in unit-demand settings, see Chawla et al. (2007, 2010, 2015); Cai and Daskalakis
(2015); Kleinberg and Weinberg (2012); Cai et al. (2016); (b) in additive settings, see Hart and Nisan
(2012); Li and Yao (2013); Babaioff et al. (2014); Yao (2015); Cai et al. (2016); Eden et al.
(2017) (c) in constraint additive or submodular settings, see Chawla and Miller (2016); Cai and Zhao
(2017); and (d) in XOS or subadditive settings, see Feldman et al. (2015); Rubinstein and Weinberg
(2015); Anshelevich and Sekar (2017); Cai and Zhao (2017).

Beyond Independent Distributions. All the above mentioned works assume that there is no
correlation among buyers’ value distributions. Without this assumption: (a) Myerson Auction
is not the optimal single-item mechanism (e.g. see Cremer and McLean, 1988; Dobzinski et al.,
2015; Papadimitriou and Pierrakos, 2015); (b) to provide good revenue guarantees, simple
mechanisms (e.g. k-look-ahead auction, see Ronen, 2001; Chen et al., 2011) come to the rescue
once again.

2 Notation and Preliminaries

1) the set of non-negative real numbers (resp. positive
Notations. Denote by R
integers). Given two positive integers n and m, where n ≥ m, denote by [n] the set {1, 2, · · · , n},
and by [m : n] the set {m, m+1, · · · , n}. Function (·)+ maps any real number z ∈ R to max{0, z}.

0 (resp. N

≥

≥

2.1 Distribution Families

We always focus on the single-item Bayesian mechanism design environment, where n buyers
independently draw values b = {bi}n
i=1.
Most of our results are established under the standard regularity assumption on distributions
{Fi}n
i=1. Besides, the family of triangular distributions will be useful for our lower-bound anal-
ysis. We introduce both concepts below, and then elaborate on the mechanisms to be studied.

0 from publicly known distributions F = {Fi}n

i=1 ∈ Rn
≥

Regular Distribution and Revenue-Quantile Curve. For any CDF F and the corresponding
PDF f : (a) the virtual value function is deﬁned as ϕ(p) def= p− 1
; and (b) the revenue-quantile
−
f (p)
curve is deﬁned as r(q) def= q · F −
1(1 − q). By deﬁnition, distribution F is regular (i.e. F ∈ REG)
iff virtual value function ϕ is non-decreasing, or equivalently, and iff revenue-quantile curve r is
a concave function. We interchange these two deﬁnitions whenever either is more convenient
for our use.

F (p)

≥

Triangular Distributions. This family of distributions was introduced by Alaei et al. (2019),
named based on the shapes of their revenue-quantile curves (as Figure 2 shows). With parame-
0 (i.e. the monopoly price) and qi ∈ [0, 1] (i.e. the monopoly quantile), a triangular
ters vi ∈ R
qi)
p
distribution TRI(vi, qi) has a CDF of Fi(p) = (1
for any p ∈ [0, vi), and Fi(p) = 1 for
−
·
p+viqi
qi)
·
−
any p ∈ [vi, ∞).

Particularly, when N → ∞, distribution TRI(N, 1

p+1, for
all p ∈ R
0. Denote this special limitation distribution by TRI(∞), which actually is involved in
the worst-case instance of the SPM vs. AP problem (see Section 3), as well as in the improved
lower-bound instances of the OPT vs. AR problem (see Section 5).

N ) has a limitation CDF of F (p) = p

(1

≥

6There is a hierarchy: unit-demand & additive ( constraint additive & submodular ( XOS ( subadditive.

5

ri(q)

viqi

Fi(p)

1

1 − qi

0

qi

q

1

0

vi

p

(a) Revenue-quantile curve

(b) CDF curve

Figure 2: Demonstration for triangular distribution TRI(vi, qi).

2.2 Mechanisms

Anonymous Pricing (AP). The seller posts a price of p ∈ R
0 to all buyers; the item is sold
out iff at least one buyer values the item no less than this price. For brevity, (a) we denote by
AP(p, F) def= p ·
the best revenue among all choices of posted price p ∈ R
(cid:1)
the context, we would drop the term {Fi}n
mechanisms as well.

∈
If there is no ambiguity from
(cid:9)
i=1. The same convention applies to the next three

the resulting revenue, and (b) by AP(F) def= maxp

n
i=1 Fi(p)

AP(p, F)

1−

R≥0

Q

0.

(cid:8)

(cid:0)

≥

≥

Sequential Posted-Pricing (SPM). Such a mechanism is deﬁned by prices p = {pi}n
i=1 ∈ Rn
0
≥
and a permutation σ ∈ Π: [n] → [n] over buyers. That is, the seller sequentially posts price
pσ−1(i) to each i-th coming buyer; the ﬁrst coming buyer with value bσ−1(i) ≥ pσ−1(i) wins
the item. (a) We denote by SPM(σ, p, F) the resulting revenue. Respecting a speciﬁc order
σ ∈ Π, (b) let SPM(σ, F) def= maxp
SPM(σ, p, F)
be the revenue from the optimal pricing
∈
strategy. (c) We assume that the seller can choose the prices and the order, which leads to a
revenue of SPM(F) def= maxσ

SPM(σ, F)

Rn

(cid:9)

(cid:8)

≥0

.

Π

∈

≥

(cid:8)

(cid:9)

Second-Price Auction with Anonymous Reserve (AR). The seller sets a reserve price of p ∈
0 to all buyers, and there are three possible outcomes: (a) if no buyer has value bi ≥ p,
R
then the auction would be aborted; (b) if exactly one buyer has value bi ≥ p, then the item
would be sold to him at price p; (c) otherwise, the item would be sold to the highest buyer
, i.e. the well-known Second-Price
i∗
Auction.

at the second highest value maxi

def= argmaxi

=i∗

bi

bi

[n]

∈

Let AR(p, F) be the expected revenue from the above scenario, and then deﬁne the optimum
(among all choices of reserve price p ∈ R
. We postpone
the explicit revenue formulas to Section 4. However, it is easy to see that AR(p, F) ≥ AP(p, F)
for all p ∈ R

0) as AR(F) def= maxp

0, and thus AR(F) ≥ AP(F).

AR(p, F)

R≥0

(cid:8)

(cid:9)

≥

∈

(cid:8)

(cid:9)

(cid:8)

(cid:9)

≥

Myerson Auction (OPT). Recall virtual value function ϕ(p) = p − 1
. Myerson Auction
−
f (p)
runs as follows: upon receiving values b = {bi}n
i=1 from the buyers, the seller allocates the
item to the buyer with highest virtual value maxi
(required to be non-negative), and
[n]
charges this buyer a threshold/minimum price for him to keep winning.

ϕi(bi)

∈

F (p)

The next structural lemma (proved in Appendix B) will be useful for settling the SPM vs.
AP problem, and for constructing improved lower-bound instances of the OPT vs. AR problem.
The subsequent remark explains the intuition behind this lemma.

(cid:8)

(cid:9)

Lemma 1. For any triangular instance {TRI(vi, qi)}n

i=1 that v1 ≥ v2 ≥ · · · ≥ vn, it follows that:

1. OPT = SPM =

n
i=1 viqi ·

1

i
j=1(1 − qj).
−

P

Q

6

6
2. An optimal SPM lets the buyers come in lexicographic order, and posts price pi = vi to each

buyer i ∈ [n].

Remark 1. Any triangular distribution TRI(vi, qi) is supported on interval p ∈ [0, vi], and only
the maximum possible value of bi = vi corresponds to a non-negative virtual value.

Thus, the Sequential Posted-Pricing proposed in Part 2 of Lemma 1 is equivalent to Myerson
Auction: (a) the seller ﬁrst sorts all buyers in the decreasing order of {vi}n
i=1; and then (b) lets
each buyer i ∈ [n] sequentially make a take-it-or-leave-it decision at the posted price of pi = vi;
thus, (c) this Sequential Posted-Pricing extracts the maximum possible virtual welfare.

3 Sequential Posted-Pricing vs. Anonymous Pricing

We ﬁrst study the revenue gap between SPM and AP, in the setting with (possibly) asymmetric
i=1 ∈ REGn. We interpret this question as the next mathe-
and regular distributions F = {Fi}n
matical program, and safely drop constraint (C1) on interval p ∈ [0, 1] as it trivially holds.

max
REGn
∈

F

subject to:

SPM = max
σ
∈
1 −

AP(p) = p ·

Π,p

Rn

∈

≥0

SPM(σ, p)

(cid:8)
n
i=1 Fi(p)

(cid:9)
≤ 1,

(P1)

∀p ∈ (1, ∞)

(C1)

By getting the optimal solution to this mathematical program, we derive the next theorem.

(cid:0)

Q

(cid:1)

In particular, Appendix C.1 includes the numeric calculations for the constant C∗ ≈ 2.6202.

Theorem 1. In asymmetric regular setting, the supremum ratio of SPM to AP is equal to

C∗

def
= 2 +

∞
1

1 − e−Q

(x)

· dx ≈ 2.6202,

where function Q(p) def= − ln(1 − p−

(cid:0)
R
2) − 1
2 ·

∞k=1 k−

(cid:1)
2 · p−

2k.

P

Proof Overview. The upper-bound part of Theorem 1 is veriﬁed in Sections 3.1 and 3.2. Our
proof follows the framework developed by Alaei et al. (2019), who derived the tight ratio be-
tween Anonymous Pricing and another benchmark called Ex-Ante Relaxation. Since the counter-
part program in that work also involves constraint (C1), towards characterizing the worst-case
instance of Program (P1) we reuse several reductions of Alaei et al. That is, we show that these
reductions also work when the objective function is replaced by the SPM revenue.

In Section 3.1 (Reduction Part), we ﬁrst demonstrate that worst-case distributions of Pro-
gram (P1) w.l.o.g. fall into the family of triangular distributions. As a result, the complicated
objective function of Program (P1) can be replaced by another explicit formula (recall Part 1
of Lemma 1, namely the SPM revenue formula for triangular instance). Afterwards, based on
several other reductions, we show that a worst-case instance w.l.o.g. includes two special dis-
tributions TRI(∞) and TRI(1, 1), each of which contributes one unit to the SPM revenue. This
explains the term of 2 for the constant C∗ ≈ 2.6202.

In Section 3.2 (Optimization Part), we measure the SPM revenue derived from the remain-
ing distributions. Indeed, we can replace these distributions by a spectrum of “small” triangular
distributions, under which the SPM revenue increases or remains the same. The SPM revenue
from these “small” distributions corresponds to the integral term for constant C∗ ≈ 2.6202.

Notably, Alaei et al. (2019) did not introduce the special distribution TRI(1, 1), i.e. a deter-
ministic value of 1, in solving their counterpart program. For this reason, they constructed the
spectrum of “small” triangular distributions in a more complicated way. Here is our interpre-
tation of TRI(1, 1): this distribution never violates the feasibility as constraint (C1) is restricted
on the open interval (1, ∞), but ensures one unit of the SPM revenue even if all other buyers
refute their take-it-or-leave-it offers. Although the ideas behind TRI(1, 1) seem to be intuitive,

7

introducing it not only simpliﬁes our proof, but also paves the way for the follow-up work of
Jin et al. (2019a) that settles the Myerson Auction vs. Anonymous Pricing problem.

In Section 3.3, we provide a matching lower-bound instance. The high-level idea is simple:
use ﬁnitely many “small” triangular distributions {TRI(vi, qi)}n
i=1 to surrogate the worst-case
instance derived in the upper-bound proof. While being feasible to Program (P1), this instance
generates an SPM revenue arbitrarily close to the constant C∗ ≈ 2.6202, when the population
n ∈ N

1 is sufﬁciently large.

≥

3.1 Upper-Bound Analysis I: Reduction

We ﬁrst show a reduction from a regular instance to another triangular instance, which is very
similar to the one by Alaei et al. (2019, Lemma 4.1). Under this, the SPM revenue increases or
keeps the same, whereas for any posted price p ∈ R
Lemma 2. Given any regular instance {Fi}n
satisfying the following:

0 the AP(p) revenue decreases.
i=1, there exists a triangular instance {TRI(vi, qi)}n

i=1

≥

1. SPM

{TRI(vi, qi)}n

≥ SPM

{Fi}n

.

(cid:0)

(cid:1)

0.

(cid:1)
i=1

(cid:1)
i=1

≤ AP

2. AP

for all p ∈ R

i=1
p, {TRI(vi, qi)}n
(cid:0)

i=1
p, {Fi}n
(cid:0)
Proof. Given any optimal SPM mechanism for regular instance {Fi}n
i=1, denote by σ∗ ∈ Π the
(cid:0)
buyer order and {p∗i }n
0 the posted prices. As mentioned and illustrated in Figure 3(a),
each regular distribution Fi has a concave revenue-quantile curve. We deﬁne triangular instance
{TRI(vi, qi)}n

i=1 ∈ Rn
≥
def= p∗i and qi

def= 1 − Fi(p∗i ) for each i ∈ [n].

i=1 by letting vi

To see Part 1 of the lemma, by reusing the order σ∗ ∈ Π and posted prices {p∗i }n

0,
the winning probability of each buyer i ∈ [n] remains the same. That is, this SPM mechanism
gives a revenue of SPM
. This implies Part 1, since the
optimal SPM

i=1 ∈ Rn
≥

mechanism at least generates the same revenue.
(cid:0)

σ∗, {p∗i }n
i=1

{TRI(vi, qi)}n

i=1, {Fi}n

= SPM

{Fi}n

i=1

i=1

(cid:1)

(cid:1)

(cid:1)

(cid:0)

≥

(cid:0)
r(q)

(cid:1)

viqi = ri(qi)

ri(q)

Fi(p)

1

1 − qi = Fi(p∗
i )

0

qi = 1 − Fi(p∗
i )

q

1

0

vi = p∗
i

p

(a) Revenue-quantile curves

(b) CDF curves

Fi(p)

Figure 3: Transformation from regular instance {Fi}n

i=1 to triangular instance {TRI(vi, qi)}n

i=1.

For brevity, denote by F i the CDF of triangular distribution TRI(vi, qi), and ri the revenue
quantile curve. We infer from Figure 3(b) that ri(q) ≤ ri(q) for all q ∈ [0, 1], i.e. F i(p) ≥ Fi(p)
0. Such stochastic domination directly indicates Part 2 (recall the AP(p) revenue
for all p ∈ R
formula presented in Section 2.2), and thus completes the proof of Lemma 2.

≥

To ﬁnd the optimal solution to Program (P1), we safely restrict our attention to triangular
instances. For convenience, we re-index a triangular instance such that v1 ≥ v2 ≥ · · · ≥ vn, and
still denote by Fi the CDF of each distribution TRI(vi, qi). Thus, the SPM revenue formula in
Part 1 of Lemma 1 is applicable. Further, we can formulate the AP revenue explicitly:

AP(p) = p ·

1 −

n

i:vi

p

≥

Q

(cid:2)

(1
−
qi)
·

−

qi)
p
·
p+viqi

(1

(cid:3)o

8

≤ 1,

∀p ∈ R

0,

≥

which converts into constraint (C2) after being rearranged. Therefore, the next mathematical
program admits the same optimal objective value as Program (P1). As mentioned before, the
new program has exactly the same set of constraints as in Alaei et al. (2019), but a different
objective function.

max
TRI(vi,qi)
{
}
subject to:

n

SPM =

n
i=1 viqi ·

1

i
j=1(1 − qj)
−

i:vi

1 + viqi
P
p ln
qi
1
−
v1 ≥ v2 ≥ · · · ≥ vn
P

(cid:0)

≥

Q
· 1
p

≤ − ln(1 − p−

1),

∀p ∈ (1, ∞)

(cid:1)

(P2)

(C2)

The following propositions further narrow down the optimal-solution space of Program (P2):

1. W.l.o.g. a worst-case instance satisﬁes the strict inequalities v1 > v2 > · · · > vn. Namely,
if two consecutive triangular distributions have the same vi = vi+1, we can replace them
(as a whole) with another triangular distribution, under which the SPM revenue remains
the same yet constraint (C2) still holds for all p ∈ (1, ∞).

In Appendix C.2, we formalize this proposition as Lemma 10.

2. W.l.o.g. a worst-case instance includes a special distribution TRI(∞), whose CDF equals

F0(p) = p

p+1 for all p ∈ R

0. Hence, we can transform Program (P2) as follows:

≥

n
(i) The objective function now becomes SPM = 1 +
i=1 viqi ·
(ii) Constraint (C2) becomes the following: for any p ∈ (1, ∞),

P

1

i
j=1(1 − qj).
−

Q

p ln

i:vi

≥

1 + viqi
qi
1
−

· 1
p

(cid:16)

(cid:17)

P

≤ − ln(1 − p−

1) + ln F0(p) = − ln(1 − p−

2).

In Appendix C.3, we formalize this proposition as Lemma 11; its proof relies on a reduc-
tion very similar to the one by Alaei et al. (2019, Lemma 4.2).

3. W.l.o.g. a worst-case instance includes a special distribution TRI(1, 1), i.e. a special buyer
with a deterministic value of 1. In particular, this buyer has no effect on constraint (C2),
and serves as the default winner in the SPM mechanism (when every other buyer has a
value of bi ≤ 1), hence a guaranteed SPM revenue of 1.
Given these, w.l.o.g. vn ≥ 1, and the objective function of Program (P2) now increases to
SPM = 2 +

n
i=1(vi − 1) · qi ·

i
j=1(1 − qj).
−

1

For simplicity, we never explicitly mention the special distributions TRI(∞) and TRI(1, 1) else-
where. To summarize, the following mathematical program admits the same optimal solution
as Program (P1) and Program (P2).

P

Q

max
TRI(vi,qi)

n

subject to:
(cid:8)
(cid:9)

SPM = 2 +

n
i=1(vi − 1) · qi ·

1

i
j=1(1 − qj)
−

(P3)

i:vi

p ln

P
1 + viqi
qi
1
−

· 1
p
v1 > v2 > · · · > vn ≥ 1
(cid:0)
(cid:1)
P

≥

Q
≤ − ln(1 − p−

2),

∀p ∈ (1, ∞)

(C3.1)

3.2 Upper-Bound Analysis II: Optimization

We continue to handle Program (P3) by following the proof framework of Alaei et al. (2019).
≥ 1
It is easy to check that ln
p · ln(1 + x) when p ≥ 1 and x ≥ 0. Applying this to the
LHS of constraint (C3.1) and then restricting ourselves to prices p ∈ {vk}n
k=1, we are left with
constraints

1 + x
p

(cid:0)

≤ R(vk),

∀k ∈ [n],

(C3.2)

(cid:1)
1 + viqi
qi
1
−

k
i=1 ln

P

(cid:0)

(cid:1)

9

2

1 − p−
∞
1

where R(p) def= −p · ln
upper bound of C∗ = 2 +

. Although the constraint gets relaxed, later we will see that the
1 − e−Q
(cid:1)
(cid:0)

· dx ≈ 2.6202 still holds.
2
∞k=1 k−

Recall the function Q(p) = − ln

2k from Theorem 1. The reader
− 1
2 ·
may wonder how to relate constraint (C3.2) and the constant C∗, which involve two different
functions R(p) and Q(p). Actually, these two functions together satisfy the ODE in Part 1 of the
next Fact 1 (proved in Appendix C.4).

1 − p−
(cid:1)

2 · p−

P

R

(x)

(cid:0)

(cid:0)

(cid:1)

In what follows, we characterize a worst-case instance through its monopoly price {vi}n

i=1. Particularly, we will construct an interim instance, whose {qi}n

i=1
and quantile {qi}n
i=1 satisfy
an R(p)-based recursive formula of {vi}n
i=1 (see constraint (C3.3)). By contrast, the parameters
of our worst-case instance satisfy another Q(p)-based formula. It turns out that the worst-case
instance generates a better SPM revenue than the interim instance (see Lemma 4), for which
the proof crucially relies on Fact 1.

Fact 1. For functions R(p) = −p · ln(1 − p−
the following holds:

2) and Q(p) = − ln(1 − p−

2) − 1
2 ·

∞k=1 k−

2 · p−

2k,

P

1. R′(p) = p · Q′(p) < 0 for any p ∈ (1, ∞).

2.

lim
1+
p
→

R(p) = lim
1+

p

→

Q(p) = ∞ and lim
→∞

p

R(p) = lim
→∞

p

Q(p) = 0.

With respect to the relaxed program with constraint (C3.2), the optimal solution turns out
to make constraint (C3.2) tight for every k ∈ [n]. This is formalized as Lemma 3, whose proof
is very similar to that of Alaei et al. (2019, Lemma 4.4) and is deferred to Appendix C.4.

Lemma 3. Given any triangular instance {TRI(vi, qi)}n
i ∈ [n], there exists another triangular instance {TRI(vi, qi)}n

i=1 with constraint (C3.2) loose for some

i=1 satisfying the following:

1. Constraint (C3.2) still holds, and is tight for each i ∈ [n].

2. SPM

{TRI(vi, qi)}n

i=1

≥ SPM

{TRI(vi, qi)}n

i=1

.

(cid:0)

For ease of notation, let v0

def= ∞. Based on Part 1 of Lemma 3 and Part 2 of Fact 1 (namely
R(v0) = 0), we get a recursive formula from constraint (C3.2): w.l.o.g. a worst-case instance
{TRI(vi, qi)}n

= R(vk) − R(vk

1), namely

i=1 satisﬁes ln

(cid:1)

(cid:0)

(cid:1)

−

1 + vkqk
qk
1
−

(vk)

(cid:0)
eR
vk + eR

−R
(vk )

qk =

(cid:1)
(vk−1) − 1

(vk−1) − 1

−R

,

∀k ∈ [n].

(C3.3)

Based on this recursive formula, we prove the following lemma in Appendix C.5.

Lemma 4. Given any triangular instance {TRI(vi, qi)}n
the parameters {qi}n

i=1 satisfying constraint (C3.3). The following holds for each k ∈ [n]:

i=1 such that v1 > v2 > · · · > vn ≥ 1 and

(vk − 1) · qk ·

1

k
j=1 (1 − qj) ≤
−

Q

≡

R

vk−1
vk
vk−1
vk

(x − 1) ·

− Q′(x)

· e−Q

(x) · dx

(x − 1) · de−Q

(cid:0)

(x).

(cid:1)

Roughly speaking, in Lemma 4 we replace the triangular instance {TRI(vi, qi)}n
R

i=1 by a spec-
trum of “small” triangular distributions (denoted by I for ease of notation). That is, this spec-
trum contains inﬁnitely many buyers, but each speciﬁc buyer accepts his SPM offer with negligi-
ble probability. Below, we interpret Lemma 4 via the revenue-equivalence theorem of (Myerson,
1981), and safely interchange “SPM revenue” and “virtual welfare”.

With respect to {TRI(vi, qi)}n

i=1, the virtual welfare WTRI is a discrete random variable. Con-
cretely, we have WTRI = vk iff the index-k buyer accepts his take-it-or-leave-it offer but all the

10

k
smaller-index buyers refute their offers.7 This event occurs with probability qk ·
j=1(1 − qj).
−
But recall Section 3.1 that the special distribution TRI(1, 1) has a deterministic value of 1, and
we have already incorporated this one unit into the SPM revenue. Thereby, in expectation the
remaining virtual welfare E
i=1 is exactly the telescoping sum
(over all k ∈ [n]) of the LHS formulas in Lemma 4:

from {TRI(vi, qi)}n

(WTRI − 1)+

Q

1

(cid:2)

(cid:3)

E

(WTRI − 1)+

=

n
k=1(vk − 1) · qk ·

1

k
j=1 (1 − qj).
−

(cid:2)

Q
Respecting the spectral instance I, the virtual welfare W

(cid:3)
variable. Particularly, unlike WTRI that is supported on {v1, v2, · · · , vn}, W
between [vn, ∞) ≡
than probability mass: W

is almost a continuous random
can take any value
1).8 In this range, we must work with probability density rather

turns out to follow the CDF

n
k=1[vk, vk

P

−

I

I

S

I

Pr{W

I

≤ x} = e−Q

(x),

for any x ∈ [vn, ∞). We have Pr{vn ≤ W
I
of Fact 1). The remaining probability mass of e−Q
TRI(1, 1) has a deterministic value of 1. Again, the expected virtual welfare E
− 1)+
the spectral instance I is exactly the telescoping sum of the RHS formulas in Lemma 4:

(vn) because Q(∞) = 0 (see Part 2
= 1, as the special distribution
(W
from

(vn) is at W
I

< ∞} = 1 − e−Q

I

(cid:2)

(cid:3)

E

(W

I

− 1)+

=

(x − 1) · de−Q

(x).

∞
vn

(cid:2)

(cid:3)

The lemma shows that the spectral instance I gives a higher SPM revenue than the trian-
gular instance {TRI(vi, qi)}n
i=1. As a result, w.l.o.g. the worst-case of our mathematical program
contains a continuum of “small” buyers. Formally, by applying Lemma 4 for all k ∈ [n], we settle
the upper-bound part of Theorem 1 as follows:

R

SPM (P3)

= 2 +

n
i=1(vi − 1) · qi ·

1

i
j=1(1 − qj)
−

≤ 2 +

≤ 2 +

= 2 +

P

∞
vn

∞
1

∞
1

R

R

(x − 1) ·

Q
− Q′(x)

· e−Q

(x) · dx

(by Lemma 4)

(x − 1) ·

(cid:0)

− Q′(x)

(cid:1)

· e−Q

(x) · dx

(as vn ≥ 1)

(x)
(cid:0)
1 − e−Q

· dx = C∗ ≈ 2.6202.

(cid:1)

(integration by parts)

3.3 Lower-Bound Analysis

(cid:0)

R

(cid:1)

In this part, we consider the triangular instance deﬁned in the following Example 1, which gives
a ratio of SPM to AP arbitrarily close to constant C∗ = 2 +
· dx ≈ 2.6202. Recall
that a triangular distribution TRI(vi, qi) has a CDF of Fi(p) = (1
−
qi)
·
−
Fi(p) = 1 when p ∈ [vi, ∞).

when p ∈ [0, vi), and
(cid:1)

1 − e−Q
p
qi)
·
p+viqi

∞
1

R

(x)

(cid:0)
(1

Example 1. Given any constant ε ∈ (0, 1) and integer n ≥ 2, let a def= min
b def= (1 + ε−

def= ∞. Deﬁne triangular instance {TRI(vi, qi)}n

a
1 , and v0

(1 + ε), Q−

1(ln ε−
i=1 as follows:

(cid:8)

1), δ def= b
−
n
−

1)

,

(cid:9)

vi

def= b − (i − 1) · δ,

qi

def=

R(vi) − R(vi
1)
−
vi + R(vi) − R(vi

−

,

1)

∀i ∈ [n].

Actually, the above parameters a and b are carefully chosen to guarantee the next technical

lemma (proved in Appendix C.6), which will be useful for our lower-bound analysis.

7At the monopoly price vk, the distribution TRI(vk, qk) has a probability mass of qk. Thus, when the index-k buyer

has a value of vk, his virtual value also equals vk.

8In fact, we may also have WTRI = 1, which occurs when only the special distribution TRI(1, 1) accepts the offer.

11

Lemma 5. Given any constant ε ∈ (0, 1), let a = min

(1 + ε), Q−

1(ln ε−

1)

and b = (1 + ε−

1).

Then, 2 +

b
a(x − 1) ·

− Q′(x)

· e−Q

(x) · dx ≥ C∗ − 4 · ε.

(cid:8)

(cid:9)

(cid:0)

R

Notice that (a) ln(1 + x) ≤ x when x ≥ 0; (b) function R is a decreasing function;
and (c) R(v0) = R(∞) = 0. Because Program (P3) is derived from Program (P1) via reductions,
it sufﬁces to reason about Program (P3). We ﬁrst show that triangular instance {TRI(vi, qi)}n
satisﬁes constraint (C3.1):

i=1

(cid:1)

LHS of (C3.1) =

i:vi

p ln

· 1
p

(cid:1)

1 + viqi
qi
1
−
· 1
p
{vi

| vi ≥ p}) − p−

≥

≤

P
= p−
P

viqi
(cid:0)
i:vi
p
qi
1
−
1 · R(min
[n]
i

≥

∈

≤ p−

1 · R(p) = RHS of (C3.1).

1 · R(0)

(by Claim (a) above)
(by formulas of {qi}n

i=1)

(by Claims (b,c) above)

We next investigate the SPM revenue extracted from triangular instance {TRI(vi, qi)}n
can be summarized as the following lemma.

i=1, which

Lemma 6. Consider the triangular instance {TRI(vi, qi)}n
SPM ≥ C∗ − 6 · ε, for any sufﬁciently large integer n ∈ N+.

i=1 deﬁned in Example 1. It follows that

Proof. Note that (a) R(v0) = R(∞) = 0; (b) a = vn < vn
partition of interval [a, b], with norm δ = b
−
n
−
and (d) ln(1 + x) ≤ x when x ≥ 0. By the deﬁnition of Riemann integral, we have:

1 < · · · < v1 = b is a uniform
a
1 ; (c) R′(p) = p · Q′(p) for any p ∈ (1, ∞);

−

− lim
n
→∞

P

i
j=1 ln(1 − qi) = lim
→∞

n

i
j=1 ln

1 + R

(vj )

(vj−1)

−R
vj

(by formulas of {qi}n

i=1)

= ln

P
1 + R

(v1)
v1

(cid:0)
+

v1
vi

− R

′(x)
x

(cid:1)
· dx (by Claims (a, b) above)

= ln

(b)
(cid:0)
1 + R
b

(cid:0)
(cid:1)
− Q(b) + Q(vi)

R

(cid:1)

≤ R

(b)
(cid:1)
(cid:0)
b − Q(b) + Q(vi)

≤ − ln(1 − b−

2) + Q(vi),

(by Claim (c); as v1 = b)

(by Claim (d) above)

(as R(b) = −b · ln(1 − b−

2))

for each i ∈ [n]. By construction, we also have viqi
1), for each i ∈ [n]. Based
qi
1
−
on the objective function of Program (P3), we obtain an SPM-revenue sequence, with the limit
inferior of

= R(vi) − R(vi

−

lim
n

→∞

SPM

{TRI(vi, qi)}n

i=1

= 2 + lim

n
i=1

qi

(vi
−
1
−

1)
·
qi

·

i
j=1(1 − qj)

n

→∞

(cid:0)

(cid:1)

P
(by construction and the arguments above)

Q

≥ 2 + (1 − b−

n
i=1(1 − v−
i

1

) ·

R(vi) − R(vi

1)

· e−

Q(vj )

−

(drop the summand with index i = 1)

≥ 2 + (1 − b−

n
i=2(1 − v−
i

1

) ·

R(vi) − R(vi

1)

· e−

Q(vj )

−

(by Claims (b,c) above; as v1 = b and vn = a)

(cid:0)

(cid:0)

(cid:1)

(cid:1)

2) · lim
n
→∞

2) · lim
n
→∞

P

P

≥ 2 + (1 − b−

2) ·

b
a(x − 1) ·
(by applying Lemma 5)

− Q′(x)

(cid:0)

(cid:1)

R

· e−Q

(x) · dx

≥ C∗ − (1 − b−

2) · 4 · ε − (C∗ − 2) · b−

2

(as b = (1 + ε−

1) and C∗ ≈ 2.6202 < 3)

12

≥ C∗ − 5 · ε

Since ε ∈ (0, 1) is a given constant, SPM
integer n ∈ N
Theorem 2 are settled.

≥

(cid:0)

≥ C∗ − 6 · ε, for any sufﬁciently large
i=1
1. Hence, Lemma 6 and the lower-bound part (in asymmetric regular setting) of

{TRI(vi, qi)}n

(cid:1)

4 Anonymous Reserve vs. Anonymous Pricing

In this section, we study the revenue gap between AR and AP. Sorting the buyers’ values
b = {bi}n
i=1 such that b(1) ≥ b(2) ≥ · · · ≥ b(n), we begin with formulating CDF D1 of the highest
value b(1) and CDF D2 of the second highest value b(2). For CDF D1, we have

D1(p) = Pr

b(1) ≤ p

= Pr

∀i ∈ [n] : bi ≤ p

=

Pr

bi ≤ p

=

Fi(p).

n

n

(cid:8)

(cid:9)

(cid:8)
For CDF D2, the event that “the second highest value b(2) is at most p”, i.e.
partitioned into the following (n + 1) disjoint sub-events: Ai
for each i ∈ [n], and A0

∀i ∈ [n] : bi ≤ p

. Therefore,

def=

def=

(cid:9)

(cid:8)

(cid:9)

i=1
Y
b(2) ≤ p}, can be
(bi > p) ∧ (∀j 6= i : bj ≤ p)

(cid:8)

i=1
Y

(cid:8)

D2(p) = Pr{A0}+

Pr{Ai} = D1(p)+

1−Fi(p)

·

Fj(p) = D1(p)·

1+

n

(cid:8)

n

(cid:9)

n

i=1
X
By deﬁnition, we have that AP(p) = p ·
. In addition, an explicit formula of the AR
revenue is established in the following lemma (ﬁrst introduced by Cesa-Bianchi et al., 2015).
For the sake of completeness, we provide a proof here. In Section 5, this lemma will also be
useful for the lower-bound analysis of the OPT vs. AR problem.

(cid:0)
1 − D1(p)

i=1 (cid:16)
X

i=1
X

=i
j
Y

(cid:1)

(cid:0)

(cid:1)

(cid:17)(cid:21)

(cid:20)

(cid:9)

−1

.

1
Fi(p)

Lemma 7 (Cesa-Bianchi et al. (2015)). For any reserve price p ∈ R
revenue equals AR(p) = p ·

1 − D2(x)

1 − D1(p)

· dx.

+

∞
p

0, the Anonymous Reserve

≥

(cid:0)
(cid:1)
Proof. Given any reserve price p ∈ R
when no value reaches the reserve price of p, i.e. event
exactly one value reaches the reserve price of p, i.e. event
(cid:8)
of b(2) when two or more values reach the reserve price of p, i.e. event
we can formulate the AR revenue as follows:

0, there are three possible outcomes: (a) a revenue of 0
; (b) a revenue of p when
; and (c) a revenue
. Given these,

b(1) < p
b(1) ≥ p > b(2)
(cid:9)

b(2) ≥ p
(cid:9)

(cid:1)
≥

R

(cid:8)

(cid:0)

(cid:8)

(cid:9)

AR(p) = Eb

∼

= Eb

∼

F

F

h

p · 1

b(1) ≥ p > b(2)

+ b(2) · 1

b(2) ≥ p

p · 1

(cid:8)

b(1) ≥ p

+

(cid:9)
b(2) − p

· 1

(cid:8)
b(2) ≥ p

= p ·

h

1 − D1(p)

(cid:8)

+

(cid:9)
(cid:8)
p (x − p) · dD2(x)
∞

(cid:0)

(cid:1)

(cid:9)i

(cid:9)i

= p ·

(cid:0)

(cid:1)
1 − D1(p)

+

∞
p

R

1 − D2(x)

· dx.

(integration by parts)

This completes the proof of Lemma 7.

(cid:1)

R

(cid:0)

(cid:0)

(cid:1)

Given the above revenue formulas, the revenue gap between AR and AP can be captured by

the next mathematical program. By ﬁnding the optimal solution, we attain the next theorem.

max
n
i=1,p
∈
}

Fi
{
subject to:

R≥0

AR(p) = p ·

1 − D1(p)

+

∞
p

1 − D2(x)

· dx

AP(x) = x ·

(cid:0)

(cid:1)
1 − D1(x)

R
≤ 1,

(cid:0)

(cid:1)
∀x ∈ R

0

≥

(P4)

(C4)

(cid:0)

13

(cid:1)

6
Theorem 2. The supremum ratio of AR to AP is equal to π2
(a) asymmetric general setting, (b) asymmetric regular setting, and (c) i.i.d. general setting.

6 ≈ 1.6449, which holds in each of

Proof Overview. In Section 4.1, we settle the upper-bound part of Theorem 2 in asymmetric
general setting, which implies the same upper bound in the other two settings. Then, we respec-
tively construct a matching i.i.d. general instance in Section 4.2, and a matching asymmetric
regular instance in Section 4.3. As a whole, Theorem 2 is accomplished.

Intuitively, we obtain Theorem 2 as follows. Recall Program (P1) in Section 3 for the SPM
vs. AP problem. The worst-case instance of Program (P1) actually makes constraint (C1) tight
everywhere, and thus in some sense “dominates” any other feasible instance. We simply “guess”
that Program (P4) possesses the same characterization, which turns out to be workable.

4.1 Upper-Bound Analysis

Due to constraint (C4), D1(p) ≥ Ψ1(p) def= (1 − p−
distribution D1 is stochastically dominated by distribution Ψ1. Moreover,

1)+, for all p ∈ R

≥

0. Namely, the highest-value

D2(p) = D1(p) ·

1 +

n
i=1

≥ D1(p) ·

h

1 +

P

n
(cid:0)
i=1 ln

1

Fi(p) − 1
1
Fi(p)

(cid:1)i

= D1(p) ·

h
1 − ln D1(p)
(cid:0)
P

,

(cid:1)i

(as x ≥ ln(1 + x) when x ≥ 0)

It can be seen that function d(x) def= x · (1 − ln x) is an increasing function on interval x ∈ (0, 1],
0, where Ψ2(p) def= 0
and that
Ψ1(p)

d(x) = 0. Hence, D2(p) ≥ d

= Ψ2(p) for all p ∈ R

(cid:0)

(cid:1)

lim
0+
x
→

when p ∈ [0, 1], and Ψ2(p) def= (1 − p−
For any reserve price p ∈ R

1) ·

1 − ln(1 − p−

(cid:0)

(cid:1)

1)

≥
when p ∈ (1, ∞).

0, the above arguments imply that

≥

AR(p) ≤ p ·

(cid:2)
1 − Ψ1(p)

(cid:3)
1 − Ψ2(x)

· dx.

+

∞
p

[When p ≤ 1]: RHS of (1) = p +

∞
1
· dx.
[When p > 1]: RHS of (1) = 1 +
1 − Ψ2(x)
(cid:0)
Combining both cases together results in the upper-bound part of Theorem 2:
(cid:1)
(cid:0)

∞
1
1 − Ψ2(x)

· dx < 1 +
(cid:0)
(cid:1)

· dx = 1 +

∞
1

R

R

(cid:1)

(cid:0)

(cid:1)

(cid:0)
R
1 − Ψ2(x)

(cid:1)

1 − Ψ2(x)

R

(cid:0)
1
p 1 · dx +
∞
p

R
R
1 − Ψ2(x)

AR = max
p
R≥0

∈

(cid:8)

AR(p)

≤ 1 +

∞
1

· dx

· dx (as ln(1 − z) =

zk
k )

∞k=1

(1)

· dx.

(cid:1)

(cid:9)

= 1 +

(cid:0)

R

∞
1

= 1 +

= 1 +

R
P

(cid:2)
∞k=1

∞k=1

(cid:1)
x − (1 − 1
1
x ) ·
1
(k+1) ·
1
(k+1) =
R

k2

∞
1

k

·

·

∞k=1

k

dx
P
xk+1

1
xk

·

(cid:3)

∞k=1

1

k2 = π2
6 .

P

(2)

P
4.2 Lower-Bound Analysis in I.I.D. General Setting

P

We begin our lower-bound analysis of Theorem 2 with a matching i.i.d. general instance, namely
all of the buyers follow the same (possibly) irregular value distribution. For the instance {Fn}n
deﬁned in the following Example 2, we will prove that: (a) it is feasible to Program (P4),
1; (b) given any constant ε ∈ (0, 1), an AR revenue of at least
can
for any n ∈ N
be extracted from it, whenever integer n ∈ N
1 is sufﬁciently large. For simplicity, we reuse
notations deﬁned in Section 4.1.
Example 2. There are n ∈ N+ buyers drawing i.i.d. values b = {bi}n
tribution Fn(p) def= n
p ∈ (1, ∞).

Ψ1(p), i.e. Fn(p) = 0 when p ∈ [0, 1], and Fn(p) = (1 − p−

i=1 from a common dis-
1
n when

π2
6 − ε
(cid:1)

1)

(cid:0)

≥

≥

p

14

First, AP(p) = p ·

1 −

Fn(p)

= p ·

1 − Ψ1(p)

≤ 1 for all p ∈ R

0, and thus instance

≥
{Fn}n is feasible to Program (P4). For CDF D2 of the second highest value,
i

h

(cid:0)

(cid:1)

(cid:0)

n

(cid:1)

lim
n
→∞

n

D2(p) = lim
→∞
(cid:0)
1 − 1
p

=

Fn(p)

n

·

1 + n ·

h

1

Fn(p) − 1
1
p )
ln(1
·
−
n−1

(cid:1)i
n−1]
−

(cid:1)
1 + lim
n
→∞
for all p ∈ (1, ∞). By choosing a ﬁxed reserve price of 1, we obtain a convergent AR-revenue
sequence, with the limitation of

= Ψ2(p),

exp[

(cid:0)
−

n

o

(cid:0)

(cid:1)

1

·

AR

1, {Fn}n

= 1 +

∞
1

1 − Ψ2(x)

· dx

(2)
= π2/6.

lim
n
→∞

(cid:0)
R
1, {Fn}n
In that ε ∈ (0, 1) is a given constant, AR
1 is
sufﬁciently large. This settles the lower-bound part of Theorem 2 in i.i.d. irregular setting. (We
will prove in Appendix D that distribution Fn is indeed irregular, whenever n ≥ 2.)

6 − ε whenever integer n ∈ N

≥ π2

(cid:1)

(cid:1)

(cid:0)

(cid:1)

(cid:0)

≥

Remark 2. Actually, because AP
= 1 for all p ∈ (1, ∞), distribution Fn stochastically
dominates any other feasible distribution of Program (P4). This implies that instance {Fn}n is
a worst-case instance of Program (P4), for any speciﬁc positive integer n ∈ N
1. Below, we
provide the tight ratios corresponding to some small positive integer n ∈ N

(cid:0)

(cid:1)

≥

p, {Fn}n

n

2

ratio

2 ln 2 ≈ 1.3863

3
3 ln 3 − π
√3

≈ 1.4820

4
9 ln 2 − 3π

2 ≈ 1.5259

4.3 Lower-Bound Analysis in Asymmetric Regular Setting

1.

≥
· · ·

∞

· · ·

π2
6 ≈ 1.6449

We next use triangular distributions to construct an asymmetric regular instance that matches
the bound in Theorem 2 as well. Actually, the idea behind this instance is very similar to that
behind Example 1 (i.e. the lower-bound instance of the SPM vs. AP problem in Section 3). For
convenience, we reuse notations deﬁned in Section 4.1. Recall that a triangular distribution
TRI(vi, qi) has a CDF of Fi(p) = (1
−
qi)
·
−

when p ∈ [0, vi), and Fi(p) = 1 when p ∈ [vi, ∞).

p
qi)
·
p+viqi

(1

Example 3. Given any constant ε ∈ (0, 1) and integer n ∈ N
and δ def= b
−

n . Based on function V(p) def= p·ln

1, let a def= (1 + ε), b def= (1 + ε−
, consider triangular instance {TRI(vi, qi)}2n

1),
i=1:

≥

a

p

p

1

−
(cid:0)
1
n · V(vi)

(cid:1)

vi

def= b,

vi

def= b − (i − n) · δ,

qi

def=

qi

def=

,

vi + 1

n · V(vi)
V(vi) − V(vi
1)
−
vi + V(vi) − V(vi

∀i ∈ [n];

,

1)

∀i ∈ [n + 1 : 2n].

−

For ease of notation, let v0

and (b) function V is a decreasing function. To justify the feasibility that AP
p ·

≤ 1, or equivalently,

2n
i=1 ln Fi(p) ≥ ln

2n
i=1 Fi(p)

1 − 1
p

1 −

def= ∞. It can be checked that (a) ln(1 + x) ≤ x when x ≥ 0;
=

p, {TRI(vi, qi)}2n
i=1

, we observe that
(cid:0)

(cid:1)

(cid:0)

P

(cid:1)

≥

i:vi

p ln

Q
2n
i=1 ln Fi(p) = −
≥ −
P
i:vi
= − 1
p · V
P
∈
≥ − 1
p · V(p) = ln
(cid:0)

viqi
(cid:0)
p
qi
1
≥
−
mini

P
1 + viqi
qi
1
−
· 1
p

[2n]

vi
1 − 1
(cid:8)
p

· 1
p

(cid:1)

| vi ≥ p

.

(cid:9)(cid:1)

(cid:0)

(cid:1)

(by Claim (a) above)
(by formulas of {qi}2n

i=1)

(by Claim (b) above)

Let us measure the AR revenue from the above triangular instance {TRI(vi, qi)}2n

i=1.

(cid:0)

(cid:1)

15

Lemma 8. Consider the triangular instance {TRI(vi, qi)}2n
AR ≥ AR(a) ≥ π2

6 − 3 · ε, for any sufﬁciently large integer n ∈ N+.

i=1 deﬁned in Example 3. It follows that

Proof. We ﬁrst prove that lim
→∞
qi → 0+ for all i ∈ [2n]; and (b) a = v2n < v2n
of interval [a, b], with norm δ = b
a
n . As a result, for any p ∈ [a, b],
−

D1(p) = Ψ1(p) for any p ∈ [a, b]. Observe that (a) when n → ∞,
1 < · · · < vn+1 < vn = b is a uniform partition

−

n

D1(p) = exp

− limn

lim
n
→∞

p ln

i:vi

≥

1 + viqi
qi
1
−

· 1
p

→∞

h

(cid:16)

(cid:0)

= exp

= exp

= exp

P

− limn

→∞
1 · V( min
P
[2n]
i
∈
1 · V(p)

− p−

− p−

i:vi

p

≥
{vi

· 1
p

(cid:0)
viqi
qi
1
−
| vi ≥ p})

(cid:17)

(cid:1)i

(by Claim (a) that qi → 0+)

(by formulas of {qi}2n

i=1)

= 1 − p−

1.

(cid:1)

(by Claim (b) that norm δ → 0+)

(cid:0)
D2(p) = Ψ2(p) for any p ∈ [a, b]. Because ε ∈ (0, 1) is a
Similarly, it can be checked that lim
→∞
given constant, by choosing a ﬁxed reserve price of a = (1 + ε) and a sufﬁciently large integer
n ∈ N

1, we capture an AR revenue of

(cid:1)
n

≥

AR(a) ≥ a ·

1 − Ψ1(a)
a

(cid:1)
+

1

(2)
(cid:0)
= π2/6 −

+

b

a

∞
R
b

1 − Ψ2(x)

· dx − ε

(cid:0)
1 − Ψ2(x)

(cid:1)

· dx − ε.

≤ − 1
It can be checked that ln
Recall that a = (1 + ε) and b = (1 + ε−

1 − 1
p

(cid:0)

(cid:1)

(cid:1)(cid:0)

(cid:0) R
R
p , and thus Ψ2(p) =
1), then

(cid:1)
1 − 1
p

·

1 − ln

1 − 1
p

≥ 1 − 1
p2 .

(cid:0)

h

(cid:1)

(cid:0)

(cid:1)i

a

1

+

∞
b

1 − Ψ2(x)

· dx ≤

a

1

+

∞
b

dx
x2 = 1 − 1

a + 1

b = 2
1+ε ≤ 2 · ε.
·

ε

Combining the above two inequalities together completes the proof of Lemma 8. This settles
the lower-bound part of Theorem 2 in asymmetric regular setting.

R

R

(cid:0) R

(cid:1)

(cid:1)(cid:0)

(cid:1)

(cid:0) R

5 Myerson Auction vs. Anonymous Reserve

For the OPT vs. AR problem in asymmetric regular setting, Hartline and Roughgarden (2009)
conjectured that the following two-buyer instance (i.e. Example 4) is the worst case. This
instance gives a ratio of 2, which remained the best known lower bound for a decade. Nonethe-
less, we will employ triangular instances to establish improved lower bounds.

Example 4. Consider a two-buyer instance: (a) one buyer draws his value from the equal-rev-
enue distribution F (p) = 1 − 1

p ; and (b) the other buyer has a deterministic value of 1.

It can be checked that AR = AP = 1, whereas OPT = SPM = 2 (e.g. by sequentially posting

a price of ∞ to the ﬁrst buyer, and then posting a price of 1 to the second buyer).

The following lemma (see Appendix E for its proof) will be helpful in reasoning about our
sharper lower-bound instances. For this, we provide some intuitions in Remark 3, based on the
revenue-equivalence theorem of Myerson (1981).

Lemma 9. Given any triangular instance {TRI(vi, qi)}n
best AR revenue is achieved by reserve price p = vi, for some i ∈ [n].

i=1 that v1 ≥ v2 · · · ≥ vn > vn+1

def= 0, the

Remark 3. Any triangular distribution TRI(vi, qi) is supported on interval p ∈ [0, vi], and only
the maximum possible value of bi = vi corresponds to a non-negative virtual value. Given any
k ∈ [n], when the seller raises the reserve price in AR mechanism from some p ∈ (vk+1, vk)

16

to p = vk, the item no longer gets allocated when the highest value is between (vk+1, vk). As
a result, the seller rules out some possible outcomes in AR mechanism that result in negative
virtual welfare. By the revenue-equivalence theorem, the new reserve price of p = vi leads to a
larger AR revenue.

Theorem 3. For the OPT vs. AR problem, there is a three-buyer instance {TRI(vi, qi)}2
ratio of 2.1361, and a four-buyer triangular instance {TRI(vi, qi)}3

i=0 giving a ratio of 2.1596.

i=0 giving a

Proof. Our three-buyer instance contains three triangular distributions {TRI(vi, qi)}2
i=0, where
the monopoly prices v0 > v1 > v2. Recall that a triangular distribution TRI(vi, qi) has a CDF of
Fi(p) = (1
when p ∈ [0, vi), and Fi(p) = 1 when p ∈ [vi, ∞). We reuse notations D1
−
qi)
·
−
and D2 to respectively denote the CDF’s of the highest and the second highest values.

qi)
p
·
p+viqi

(1

• Let distribution TRI(v0, q0) be the special distribution TRI(∞) with CDF F0(p) = p

p+1 .

Thus, AR(p) = p·

1−F0(p)

= p

p+1 , for all p ∈ (v1, ∞); particularly, AR(v0) = AR(∞) = 1.

(cid:1)
• Let v1 ∈ (1, ∞) be a variable to be determined, and let q1

(cid:0)

def= 1/v2
1.

Because this buyer always has a value no more than v1, the AR revenue under reserve
price p = v1 is equal to the AP revenue under posted price p = v1. Because q1 = 1/v2
1, we
1 − v1
conclude that AR(v1) = AP(v1) = v1 ·

= 1.

v1+1 ·

(1

−

v1
q1)
·
v1+v1q1

(1
−
q1)
·
v2(v2

(cid:2)
• Let v2 be the root of equation v2 + v1
1+v1
−
This buyer has a deterministic value of v2, i.e. AP(v2) = v2. For any x ∈ (v2, v1],

= 1, and let q2

1+v1
1+v2

(cid:3)
1)+v1

1 −
v3
1

· ln

v2
1

(cid:2)

(cid:3)

·

def= 1.

1 − D2(x) =

1 − F0(x)

·

1 − F1(x)

=

Given these, and due to the deﬁnitions of q1 and v2, we have

(cid:0)

(cid:1)

(cid:0)

(cid:1)

(x + 1) ·

v1q1

x + v1q1
q1
1
−

(cid:0)

,

(cid:1)

AR(v2) = AP(v2) +

v1
v2

1 − D2(x)

· dx

= v2 +

v1
(cid:0)
R
1 + v1 − v2
1

· ln

x + 1
(cid:1)
(v2
1 − 1) · x + v1

h

= 1.

v1

v2
i(cid:12)
(cid:12)
(cid:12)

Combining everything together, we conclude from Lemma 9 that AR = 1. On the other hand,

OPT = 1 + v1q1 + v2q2 · (1 − q1)
= 1 + 1/v1 + v2 · (1 − 1/v2
1).

(by Lemma 1)
(as q1 = 1/v2
1)

As Figure 4 shows, choosing v1 ≈ 1.5699 results in v2 ≈ 0.8399 and OPT ≈ 2.1361.

v2

1.00

0.90

0.8399

0.80

1.0

OPT

2.15
2.1361

2.10

2.05

ri(q)

1
0.8399

0.6370

1.5699

2.0

3.0

(a) v2-v1 curve

v1

2.0

1.0

1.5699

2.0

3.0

v1

0

0.4057

1

q

(b) OPT-v1 curve

(c) Revenue-quantile curves

Figure 4: Demonstration for the three-buyer instance {TRI(vi, qi)}2

i=0 deﬁned in Theorem 3.

17

Similarly, the four-buyer instance is constructed as follows. The buyers’ value distributions
are triangular distributions whose parameters are speciﬁed in the next table. Based on Lem-
mas 1 and 9 and an analysis similar to the three-buyer instance, we numerically calculate the
revenue of AR and OPT. Details are omitted.

TRI(v0, q0) = TRI(∞)
TRI(v2, q2) = TRI(0.9700, 0.6138)

TRI(v1, q1) = TRI(1.8512, 0.2918)
TRI(v3, q3) = TRI(0.7231, 1.0000)

• AR(vi) ≈ 1.0000 for each i ∈ {0, 1, 2, 3}, and thus AR ≈ 1.0000.

• OPT = 1 +

3
i=1 viqi ·

1

i
j=1(1 − qj) ≈ 2.1596.
−

P
This completes the proof of Theorem 3.

Q

Remark 4. The reader may ask that why triangular instances are “bad cases” of the Myerson
Auction vs. Anonymous Reserve problem. Actually, the following reasoning guides us to obtain
the improved lower-bound instances involved in Theorem 3.

As mentioned, in comparison with Anonymous Pricing: (a) Sequential Posted-Pricing lever-
ages the price discrimination; (b) Anonymous Reserve employs the buyer competition; and (c) My-
erson Auction beneﬁts from the both advantages.

In addition, for any triangular instance: (a) Lemma 1 suggests that Sequential Posted-Pricing
gives exactly the same revenue as Myerson Auction; that is, (b) the price discrimination plays a
dominant role in revenue maximization, whereas the buyer competition is negligible; (c) given
this, we conjecture that the worst case of the Myerson Auction vs. Anonymous Reserve problem
is reached by a triangular instance.

6 Conclusions

This work studies revenue gaps among OPT, SPM, AR, and AP.
In the literature, there is
another simple mechanism receiving particular attention: Order-Oblivious Posted-Pricing (OPM)
proposed by Chawla et al. (2010). Roughly speaking, OPM is the worst-order (a.k.a. adversary)
counterpart of SPM, and models the fact that the seller cannot control the order of buyers in
some markets. In particular, this mechanism and the corresponding revenue are given by

OPM(F) def= min
Π

σ

∈

max
Rn
p
≥0
∈

(cid:8)

SPM(σ, p, F)

.

(cid:9)

The next three tables summarize current progress in this research agenda. For each comparison,
an interval indicates both of lower bound and upper bound, while a number means that this
bound is tight. Recall the lattice structure in Figure 1: SPM and OPM are identical for i.i.d.
distributions, and are both incomparable to AR.

Notice that some tight ratios in Table 1 and Table 2 are still unknown. It is an interesting
direction to close these gaps, which are beneﬁcial to our understandings of relative powers and
distinctions of these mechanisms.

18

Setting

I.I.D.

Comparison
OPT vs. SPM⋄

Ratio

α

Reference

Kertz (1986); Correa et al. (2017)

OPT vs. SPM [α, β]

Kertz (1986); Correa et al. (2019a)

Asym.

OPT vs. OPM

Folklore, e.g. see Hartline (2013, Chapter 4.2.2)

SPM vs. OPM

2

Hartline and Roughgarden (2009, Example 5.2)

(⋄): Note that SPM and OPM are equivalent in the i.i.d. setting.

Table 1: Summary I of revenue gaps; each comparison here admits the same ratio for general
distributions as for regular distributions, due to the ironing technique (see Myerson, 1981); for
deﬁnitions of constants α ≈ 1.34 and β ≈ 1.49, recall Footnotes 4 and 5, respectively.

Setting

Comparison

Ratio

Reference

I.I.D. Regular

OPT vs. AP
SPM⋄

vs. AP

OPT vs. AR

OPT vs. AP

Asym. Regular

SPM vs. AP

OPM vs. AP

AR vs. AP

e/(e − 1)

[2.1596, C∗]
C∗
C∗
[e/(e − 1), C∗]
π2/6

Chawla et al. (2010)

D¨utting et al. (2016)

Theorem 3, Alaei et al. (2019)

Alaei et al. (2019); Jin et al. (2019a)

Theorem 1

Theorem 1, D¨utting et al. (2016)

Theorem 2

(⋄): Note that SPM and OPM are equivalent in the i.i.d. setting.

Table 2: Summary II of revenue gaps.

Setting

Comparison

Ratio

Reference

I.I.D. General

OPT vs. AR

OPT vs. AP
SPM⋄
AR vs. AP

vs. AP

OPT vs. AR

OPT vs. AP

Asym. General

SPM vs. AP

OPM vs. AP

Chawla et al. (2010)

2

Hartline (2013)

D¨utting et al. (2016)

π2/6

Theorem 2

n

Alaei et al. (2019)

AR vs. AP

π2/6

Theorem 2

(⋄): Note that SPM and OPM are equivalent in the i.i.d. setting.

Table 3: Summary III of revenue gaps; note that all ratios here are well understood.

Acknowledgement. We are grateful to Qi Qi and Simai He for many helpful discussions, and
would like to thank the anonymous reviewers for providing Remarks 1 and 3, as well as other
invaluable suggestions.

19

A Mathematical Facts

A.1 Proof of Fact 1

Fact 1. For functions R(p) = −p · ln(1 − p−
the following holds:

2) and Q(p) = − ln(1 − p−

2) − 1
2 ·

∞k=1 k−

2 · p−

2k,

P

1. R′(p) = p · Q′(p) < 0 for any p ∈ (1, ∞).

2.

lim
1+
p
→

R(p) = lim
1+

p

→

Q(p) = ∞ and lim
→∞

p

R(p) = lim
→∞

p

Q(p) = 0.

Proof. To see Fact 1, we note that (a) ln(1 − z) = −
and (c) ln(1 + x) ≤ x when x ≥ 0. Given these, for Part 1 of the lemma:

n
k=1 k−

1 · zk; (b)

∞k=1 k−

2 = π2
6 ;

P

P
n

n

Xk=1
n

R(p)

(a)
=

Q(p)

(a)
=

k−

1 · p−

(2k

1) > 0

−

⇒ R′(p) = −

(2 − k−

1) · p−

2k < 0;

k−

1 −

2

k−
2

(cid:17)

· p−

2k > 0 ⇒ Q′(p) = −

(2 − k−

Xk=1
n

k=1
X

1) · p−

(2k+1) (3)
=

R′(p)
p

.

k=1 (cid:16)
X

(3)

(4)

For the ﬁrst chain of equalities in Part 2:

lim
1+
p
→

lim
1+
p
→

R(p) ≥ − ln(1 − lim
1+

p

→

Q(p) ≥ − ln(1 − lim
1+

p

→

p−

2) = ∞;

p−

2) −

1
2

·

∞

2 (b)

= ∞ −

k−

Xk=1

π2
12

= ∞.

For the second chain of equalities in Part 2:

0

0

(3)
≤ lim
p
→∞

(4)
≤ lim
p
→∞

R(p) = lim
→∞

p

p · ln

1 +

(cid:16)

Q(p) ≤ − ln(1 − lim
→∞

p

p−

1
p2 − 1

(cid:17)
2) = 0.

(c)
≤ lim
p
→∞

p
p2 − 1

= 0;

This completes the proof of Fact 1.

A.2 Proof of Fact 2

Fact 2. G(x, y) ≤ 0 for any y ≥ x > 1, where

G(x, y) def= (1 − x−

1) · (eR

(x)

−R

(y) − 1) +

R(y) − R(x)

−

Q(y) − Q(x)

.

Proof. Since G(x, x) ≡ 0, it sufﬁces to prove that ∂G
(cid:0)
Part 1 of Fact 1 that R′(p) = p · Q′(p) < 0; and (b) deﬁne g(x) def= ln(1 − x−
Then,

∂y ≤ 0 when y ≥ x > 1. To this end, (a) recall
2).

1) − x · ln(1 − x−

(cid:0)

(cid:1)

(cid:1)

∂G
∂y

= −(1 − x−

1) · eR

(x)

−R

(y) · R′(y) + R′(y) − Q′(y)

(a)
=

(b)
=

− R′(y)

· e−R

(y) ·

(1 − x−

1) · eR

(x) − (1 − y−

1) · eR

(y)

(cid:0)

(cid:1)
− R′(y)

· e−R

(y) · (eg(x) − eg(y)).

(cid:2)

(cid:3)

Since ln(1 − z) ≤ −z for any z ∈ (0, 1), we observe that

(cid:0)

(cid:1)

g′(x) = − ln(1 − x−

2) − x−

1 · (x + 1)−

1 ≥ x−

2 − x−

1 · (x + 1)−

1 ≥ 0,

which implies that ∂G

∂y ≤ 0 when y ≥ x > 1. This completes the proof of Fact 2.

20

A.3 Proof of Fact 3

Fact 3. H(x, y) ≥ 0 for any y ≥ x > 1, where

H(x, y) def= x−

1 · (eR

(x)

(y) − 1) − (eQ

(x)

−Q

(y) − 1).

−R

Proof. Since H(x, x) ≡ 0, it sufﬁces to prove that ∂H
Proof 1 of Fact 1 that R′(p) = p · Q′(p) < 0; and (b) deﬁne h(x) def= x · eQ

∂y ≥ 0 when y ≥ x > 1. To this end, (a) recall
(x)

(x). Then,

−R

∂H
∂y

= x−

1 · eR

(x)

−R

(y) ·

− R′(y)

− eQ

(x)

−Q

(y) ·

− Q′(y)

(a)
= x−

1 · eR

(x)

−Q

(cid:0)
(y) ·

(cid:1)
− Q′(y)

· (y · eQ

(y)

−R

(cid:1)
(cid:0)
(x)
(y) − x · eQ

(x))

−R

(b)
= x−

1 · eR

(x)

−Q

(y) ·

(cid:0)

(cid:1)
− Q′(y)

·

h(y) − h(x)

We observe that, for any x ≥ 1,

(cid:0)

(cid:1)

(cid:0)

(cid:1)

h′(x) = eQ

(x)

(x) ·

−R

(a)
= eQ

(x)

(x) ·
(cid:0)

−R

1 + x · Q′(x) − x · R′(x)

1 + (x − 1) ·

− R′(x)

(cid:1)

≥ 0.

which implies that ∂H

∂y ≥ 0 when y ≥ x > 1. This completes the proof of Fact 3.

h

(cid:0)

(cid:1)i

B Proof of Lemma 1

Lemma 1. For any triangular instance {TRI(vi, qi)}n

i=1 that v1 ≥ v2 ≥ · · · ≥ vn, it follows that:

1. OPT = SPM =

n
i=1 viqi ·

1

i
j=1(1 − qj).
−

2. An optimal SPM lets the buyers come in lexicographic order, and posts price pi = vi to each

P

Q

buyer i ∈ [n].

Proof. For convenience, we assume that parameters {vi}n
i=1 are all ﬁnite. (Otherwise, we can
slightly modify the proof via a standard argument from measure theory.) Any triangular distri-
bution TRI(vi, qi) is supported on interval p ∈ [0, vi], and has a CDF of Fi(p) = (1
when
−
qi)
·
−
p ∈ [0, vi), and Fi(p) = 1 when p ∈ [vi, ∞). Thus, any value p ∈ (0, vi) corresponds to a virtual
value of ϕi(p) = p − 1
−

, and value p = vi corresponds to a virtual value of vi.

qi)
p
·
p+viqi

Fi(p)

(1

fi(p) = − viqi

1

qi

−

Φi

1

−viqi/(1 − qi)

0

vi

(vi, 1 − qi)

p

Figure 5: Demonstration for virtual value CDF Φi of triangular distribution TRI(vi, qi).

As Figure 5 demonstrates, the resulting virtual value CDF Φi is given by

Φi(p) = (1 − qi) · 1

p ≥ −viqi/(1 − qi)

+ qi · 1

p ≥ vi

,

∀p ∈ R,

(cid:8)

(cid:9)

(cid:8)

(cid:9)

21

So, for any non-negative virtual value p ∈ R

0 the product CDF Φ(p) def=

n
i=1 Φi(p) equals

≥

Φ(p) =

(1 − qi).

i:vi>p
Y

Q

def= 0 for notational brevity. By the revenue-equivalence theorem (see Myerson, 1981),

Let vn+1
Myerson Auction gives a revenue of

OPT = Eb

∼

n

=

F

maxi

[n]

∈

h
1 −

i

(cid:0)
(1 − qj)

i=1
X

(cid:2)

j=1
Y

(cid:3)

ϕi(bi)

+

=

∞
0

1 − Φ(x)

· dx

i

(cid:1)

(cid:0)
· (vi − vi+1) =

R

n

1

i

−

(cid:1)
viqi ·

(1 − qj).

i=1
X

j=1
Y

We then prove that the Sequential Posted-Pricing proposed in Part 2 of Lemma 1 actually extracts
the same revenue. This follows from the next two observations: when each buyer k ∈ [n] comes,

• The item remains unsold with a probability of

1

k
j=1 (1 − qj).
−

• If so, buyer k purchases the item at the posted price of pk = vk with a probability of qk.

Q

In that this Sequential Posted-Pricing generates the same revenue as Myerson Auction, its opti-
mality trivially holds. This completes the proof of Lemma 1.

C Missing Proofs in Section 3

C.1 Numeric Calculation about Constant C∗ ≈ 2.6202
Deﬁne function F(z) def= z−
for function Q and constant C∗. Applying integration by substitution (i.e. z = x−

2 − 1) · e

2 − (z−

k=1 k−2

P∞

1
2 ·

z2k

·

on interval z ∈ (0, 1). Recall Theorem 1

1), we have

C∗ = 2 +

∞
1

1 − e−Q

(x)

· dx = 2 +

1

0

F(z) · dz.

(cid:1)
To make things mimic, we demonstrate the both integrands in the following ﬁgure; it is easy to
infer from Figure 6(b) that the integral is ﬁnite.

R

R

(cid:0)

y

1

0

1

2

3

4

(a) function y = e−Q(p)

p

5

y

1

1
2

0

z

1

(b) function y = F(z)

Figure 6: Demonstration for numeric calculations about constant C∗ ≈ 2.6202.

C.2 Proof of Lemma 10

Lemma 10. W.l.o.g. any worst-case instance of Program (P2) satisﬁes that v1 > v2 > · · · > vn.

22

Proof. W.l.o.g. suppose that vk = vk+1 for some k ∈ [n − 1], then consider the following new
triangular instance {TRI(vi, qi)}n

1
i=1 :
−

vi

vk

vi

def= vi,
def= vk = vk+1,
def= vi+1,

qi

qk

qi

def= qi,
def= qk + qk+1 − qk · qk+1;
def= qi+1,

∀i ∈ [k − 1];

(5)

∀i ∈ [k + 1 : n − 1].

To establish Lemma 10, it sufﬁces to prove the following:

• SPM

• AP

{TRI(vi, qi)}n
1
−
i=1
p, {TRI(vi, qi)}n
(cid:0)

1
(cid:1)
−
i=1

= SPM

{TRI(vi, qi)}n

i=1

;

≤ AP

p, {TRI(vi, qi)}n
(cid:0)

(cid:1)
i=1

for any p ∈ R

0.

≥

(cid:0)

(cid:1)

(cid:0)

(5)
= vkqk + vk+1qk+1 · (1 − qk) and 1 − qk

Recall the SPM revenue formula in Lemma 1. The ﬁrst claim trivially holds by construction, i.e.
(5)
= (1 − qk) · (1 − qk+1). For the second claim, recall
vkqk
the AP(p) revenue formula in Section 2.2. It sufﬁces to justify that F k(p) ≥ Fk(p) · Fk+1(p).
This follows as F k(p) = Fk(p) = Fk+1(p) = 1 when p ∈ [vk, ∞), and

(cid:1)

F k(p)

1 −

−

Fk(p) · Fk+1(p)

−

1 = 1 +

(cid:0)

(cid:1)

(cid:0)

(cid:1)

(5)
= −

1 +

vkqk
1 − qk
qk
1 − qk

·

·

−

1
p
(cid:16)
qk+1
1 − qk+1

vkqk
1 − qk
vk
p

− 1

·

1
p

·

vk+1qk+1
1 − qk+1

·

1
p

(cid:17)

·

1 +

(cid:16)
≤ 0,

(cid:17)
vk
p

·

(cid:16)

(cid:17)

when p ∈ (0, vk). This completes the proof of Lemma 10.

C.3 Proof of Lemma 11

Lemma 11. W.l.o.g. any worst-case instance of Program (P2) includes distribution TRI(∞), i.e.
CDF F0(p) = p

p+1 for all p ∈ R

0.

≥

Proof. Given a triangular instance {TRI(vi, qi)}n

n
i=1 viqi ≥

n
≤
well deﬁned. Besides, (b) vkqk ≤ 1, which follows from constraint (C2) as
P

j=1(1 − qj) = SPM > 1, then (a) k def= argmin1

n
i=1 viqi ·

P

Q

−

≤

1

i

i

(cid:8) P

(cid:9)

i=1 feasible to Program (P2), assume w.l.o.g. that
is

i
j=1 vjqj > 1

1 ≥ AP(vk) = vk ·

1 −

Fi(vk)

≥ vk ·

1 − Fk(vk)

= vkqk.

n

Now, consider the next triangular instance TRI(vi, qi)n

−
i=1

(cid:16)

j=1
Y

(cid:17)

(cid:0)
k+1

:

(cid:1)

v1

def= vk,

def=

q1

1
vk

·

vi

def= vi+k

1,

−

qi

def= qi+k

−

i=1
(cid:16)
X
1,

k

viqi − 1

(a)
≤ qk;

(cid:17)

∀i ∈ [2 : n − k + 1].

(6)

(7)

We can infer Lemma 11 from the following:

• SPM

{TRI(∞) ∪ TRI(vi, qi)}n

−
i=1

k+1

• AP

(cid:0)
p, TRI(∞) ∪ {TRI(vi, qi)}n

−
i=1

(cid:1)
k+1

≤ SPM

{TRI(vi, qi)}n

i=1

.

≤ 1 for any p ∈ R

(cid:0)

(cid:1)

0.

≥

Recall the SPM revenue formula in Lemma 1. The ﬁrts claim trivially holds by construction, i.e.

(cid:0)

(cid:1)

1 + vkqk

(6)
=

k
i=1 viqi ≥

k
i=1 viqi ·

1

i
j=1(1 − qj) and 1 − q1
−

(6)
≥ 1 − qk ≥

k
i=1(1 − qk).

P

P

Q

Q

23

To see the second claim, recall the AP(p) revenue formula in Section 2.2. As formalized in

Program (P2), v1 ≥ v2 ≥ · · · ≥ vn. By construction, v1 ≥ v2 ≥ · · · ≥ vn

k+1, and thus

−

AP

p, TRI(∞) ∪ {TRI(vi, qi)}n

−
i=1

k+1

≤ AP

p, TRI(∞)

= p ·

1 −

p
p + 1

=

p
p + 1

≤ 1,

(cid:0)

(cid:0)
for any p ∈ [v1, ∞). In the other range of p ∈ (0, v1) = (0, vk), we only need to reveal that
AP
, which is implied by the following:

p, TRI(∞)∪{TRI(vi, qi)}n

p, {TRI(vi, qi)}n

≤ AP

k+1

(cid:1)

(cid:1)

i=1

−
i=1

(cid:16)

(cid:17)

1
p

(cid:0)

F 0(p) · F 1(p)

1 =

−

1 +

(cid:0)

(cid:1)

(cid:16)

(6)
≤

1 +

(cid:16)

(a,b)
≤

1 +

(cid:1)

·

(cid:0)
1 +

(cid:16)
·

1 +

(cid:16)

·

1 +

(cid:17)
1
p

(cid:17)

1
p

(cid:17)
(cid:16)
k
1
i=1 viqi
−
p

P

k
i=1 viqi − 1
1 − qk
k
i=1 viqi − 1
1 − qk
k
i=1 viqi − 1
1 − qk

·

·

·

P

P

P

·

1 +

(cid:1)

1
p

(cid:17)
1
p

(cid:17)

1
p

(cid:17)
1
p

·

vkqk
1 − qk
k

Fi(p)

(cid:17)
1,

−

viqi
1 − qi

(cid:16)

=

(cid:17)
1
p

·

=

≤

(cid:16)
1 +

(cid:16)
k

1 +

i=1 (cid:16)
Y

where the last inequality follows as 1 +
completes the proof of Lemma 11.

C.4 Proof of Lemma 3

P

Q

(as qk ≤ qk)

+

(1 − vkqk) · (1 −

k
1
i=1 viqi)
−

p2 · (1 − qk)
P

(cid:17)
i zi ≤

i=1
Y

(cid:0)

(cid:1)

i(1 + zi) when zi’s are all non-negative. This

Lemma 3. Given any triangular instance {TRI(vi, qi)}n
i ∈ [n], there exists another triangular instance {TRI(vi, qi)}n

i=1 with constraint (C3.2) loose for some

i=1 satisfying the following:

1. Constraint (C3.2) still holds, and is tight for each i ∈ [n].

2. SPM

{TRI(vi, qi)}n

i=1

≥ SPM

{TRI(vi, qi)}n

i=1

.

(cid:0)
Proof. Let v0
index for constraint (C3.2) to be loose, then

(cid:1)

(cid:0)

def= ∞; recall Part 2 of Fact 1 that R(v0) = 0. W.l.o.g. let k ∈ [n] be the smallest

(cid:1)

vjqj
1 − qj

(cid:17)
1 + vkqk
qk
1
−

i

ln

1 +

j=1
X
k

(cid:16)

ln

1 +

j=1
X

(cid:16)

vjqj
1 − qj

(cid:17)

= R(vi) ⇒ ln

1 +

(cid:16)

< R(vk) ⇒ ln

1 +

(cid:16)

vjqj
1 − qj

vkqk
1 − qk

(cid:17)

(cid:17)

= R(vi) − R(vi

1),

−

∀i ∈ [k − 1];

< R(vk) − R(vk

1).

−

(8)

Denote ∆k

def= ln

for brevity, and consider this triangular instance {TRI(vi, qi)}n

i=1:

vi

def= vi,

(cid:0)

(cid:1)

qi

def= qi,

vk

def= R−

1

∆k + R(vk

1)

,

−

qk

def=

(vk)

eR
vk + eR

−R
(vk)

(vk−1) − 1

(vk−1) − 1

−R

∀i ∈ ([n] \ {k});

.

(9)

(cid:0)

(cid:1)

In what follows, we prove that (a) this instance makes constraint (C3.2) tight for each i ∈ [k];
and (b) SPM

. To see so, these facts are useful:

{TRI(vi, qi)}n

{TRI(vi, qi)}n

≥ SPM

i=1

i=1

(cid:0)

• vk < vk < vk

1, since R(vk)
decreasing function (see Part 1 of Fact 1);

−

(9)
= ∆k + R(vk

(cid:1)

(cid:0)

(cid:1)
(8)
∈

1)

−

R(vk

−

1), R(vk)

and function R is a

(cid:0)

(cid:1)

24

• ln

1 + viqi
qi
1
−

= ln

1 + viqi
qi
1
−

for each i ∈ [n], by construction of instance {TRI(vi, qi)}n

i=1;

• qk < qk and vkqk > vkqk, as a consequence of the ﬁrst and second facts.

(cid:1)

(cid:0)

(cid:1)

(cid:0)

Clearly, Claim (a) follows from the ﬁrst and second facts and Equation (9). Moreover, recall
Program (P3) for the SPM revenue formula. Here is a sufﬁcient condition for Claim (b):

1

i

−

(vi − 1) · qi ·

(1 − qj) ≥ (vi − 1) · qi ·

j=1
Y

1

i

−

(1 − qj),

j=1
Y

∀i ∈ [n].

From the third fact and Equation (9), we know (vi − 1) · qi ≥ (vi − 1) · qi and 1 − qj ≥ 1 − qj for
all i ∈ [n]. Given these, the above inequality and thus Claim (b) follows immediately.

Respecting Claims (a, b), we can easily construct a desired triangular instance by induction.

This completes the proof of Lemma 3.

C.5 Proof of Lemma 4

We have proved Facts 2 and 3 respectively in Appendices A.2 and A.3. Both facts are useful for
proving Lemma 4.

Fact 2. G(x, y) ≤ 0 for any y ≥ x > 1, where

G(x, y) def= (1 − x−

1) · (eR

(x)

−R

(y) − 1) +

R(y) − R(x)

−

Q(y) − Q(x)

.

(cid:0)

(cid:1)

(cid:0)

(cid:1)

Fact 3. H(x, y) ≥ 0 for any y ≥ x > 1, where

H(x, y)

def
= x−

1 · (eR

(x)

(y) − 1) − (eQ

(x)

−Q

(y) − 1).

−R

Lemma 4. Given any triangular instance {TRI(vi, qi)}n
the parameters {qi}n

i=1 satisfying constraint (C3.3). The following holds for each k ∈ [n]:

i=1 such that v1 > v2 > · · · > vn ≥ 1 and

(vk − 1) · qk ·

1

k
j=1 (1 − qj) ≤
−

Q

vk−1
vk

R

(x − 1) ·

− Q′(x)

· e−Q

(x) · dx.

(cid:0)

(cid:1)

Proof. It sufﬁces to justify the following two inequalities:

(vk − 1) · qk · (1 − qk)−

1 ≤

vk−1
vk

(x − 1) ·

− Q′(x)

· dx;

k

(1 − qj) ≤ e−Q

(x),

R

j=1
Y

(cid:0)

∀x ∈ [vk, vk

1].

−

(cid:1)

(10)

(11)

To see inequality (10), recall Fact 2, constraint (C3.3) that qk = eR(vk )−R(vk−1)
1
−
vk+eR(vk)−R(vk−1)
of Fact 1 that R′(p) = p · Q′(p) for any p ∈ (1, ∞). It follows that

−

1

, and Part 1

LHS of (10)

(C3.3)

1

k ) · (eR
R(vk) − R(vk

= (1 − v−
≤
= RHS of (10).

(vk)

1)

−

(cid:0)

(vk−1) − 1)
−R
−

Q(vk) − Q(vk

(cid:1)

(cid:0)

25

1)

−

(cid:1)

(by Fact 2)

(by Part 1 of Fact 1)

Similarly, to deal with inequality (10), recall Fact 1 that Q is a decreasing function on interval
p ∈ (1, ∞), and that Q(v0) = Q(∞) = 0. Combining these arguments with Fact 3 results in

1 + v−
j

1

· (eR

(vj )

(vj−1) − 1)

−R

1

−

LHS of (11) (C3.3)
=

k

j=1
Y
k

(cid:2)

≤

eQ

(vj )

−Q

(vj−1)

1

−

j=1
Y
(cid:0)
(vk) ≤ RHS of (11).
= e−Q

(cid:1)

This completes the proof of Lemma 4.

C.6 Proof of Lemma 5

(cid:3)

(by Fact 3)

(by Fact 1)

Lemma 5. Given any constant ε ∈ (0, 1), let a = min

(1 + ε), Q−

1(ln ε−

1)

and b = (1 + ε−

1).

Then, 2 +

b
a(x − 1) ·

− Q′(x)

· e−Q

(x) · dx ≥ C∗ − 4 · ε.

(cid:8)

(cid:9)

Proof. By the deﬁnition of C∗ ≈ 2.6202, it sufﬁces to justify the next two inequalities:

(cid:1)

(cid:0)

R

a

(x − 1) ·

1
(cid:0)
b (x − 1) ·
∞

R

− Q′(x)

· e−Q

(x) · dx ≤ 2 · ε;

(cid:1)
− Q′(x)

· e−Q

(x) · dx ≤ 2 · ε.

(12)

(13)

(cid:1)
Observe that (a) function Q is a decreasing function on interval p ∈ (1, ∞); (b) Q(1+) = ∞;
R
2 · p−
and (c) Q(p) = − ln(1 − p−

2). Given these, we have

2k ≤ − ln(1 − p−

(cid:0)
∞k=1 k−

2) − 1
2 ·

LHS of (12) ≤

x ·

− Q′(x)

P
· e−Q

(x) · dx

a

1
a

(cid:0)
x · de−Q

=

1

R
≤ a · e−Q
R

(a)

(x)

(cid:1)

(integration by parts)

(by Claims (a,b) above)

≤ (1 + ε) · ε ≤ RHS of (12);

(as a = min

(1 + ε), Q−

1(ln ε−

1)

)

LHS of (13) =

b x ·
∞

− Q′(x)

· e−Q

(x) · dx

(cid:8)

(cid:9)

(cid:0)
1 − e−Q

(b)

1 − e−Q

(x)

· dx (integration by parts)

= b ·
R
≤ b · b−

(cid:0)

2 +

(cid:1)
b x−
∞
= 2 · ε/(1 + ε) ≤ RHS of (13).

(cid:0)

R

(cid:1)
+

∞
b
2 · dx
R

(cid:1)

(by Claim (c) above)

(as b = 1 + ε−

1)

This completes the proof of Lemma 5.

D Proof of Lemma 12

Lemma 12. For any n ≥ 2, distribution Fn(p) def=

0
1 − 1
p

(

1
n

∀p ∈ [0, 1]

∀p ∈ (1, ∞)

is irregular.

Proof. As mentioned, a distribution is regular iff its revenue-quantile curve is a concave func-
tion. Hence, it sufﬁces to prove that the revenue-quantile curve rn(q) def=
1
−
of distribution Fn is a convex function on interval q ∈ (0, 1). In this range:

1
Pn−1
k=0 (1

q)n =

q
(1

q)k

−

−

(cid:1)

(cid:0)

r′n(q) =

P

1

n
k=0 k · (1 − q)k
−
n
k=0(1 − q)k
−

1

1
−
2 ;

(cid:2) P

(cid:3)

26

2 ·

r′′n(q) =

≥

1

1

n
k=0 k · (1 − q)k
−
3
n
k=0(1 − q)k
(cid:2) P
−
n
1
k=0 k · (1 − q)k
(cid:2) P
−
n
1
k=0(1 − q)k
−

1
(cid:3)
−
3

(cid:3)

(cid:2) P

−

2

1

−

1

n
k=0 k · (k − 1) · (1 − q)k
−
n
k=0(1 − q)k
−

2

1

1

−

(cid:3)

2

(cid:3)

−

(cid:2) P
n
1
k=0 k2 · (1 − q)k
(cid:2) P
−
−
2
n
1
k=0(1 − q)k
−

(cid:3)

2

(cid:3)

(cid:2) P

≥ 0.

(cid:2) P

(by the Cauchy-Schwarz inequality)
(cid:2) P

(cid:3)

(cid:3)

This completes the proof of Lemma 12.

E Proof of Lemma 9

Lemma 9. Given any triangular instance {TRI(vi, qi)}n
best AR revenue is achieved by reserve price p = vi, for some i ∈ [n].

i=1 that v1 ≥ v2 · · · ≥ vn > vn+1

def
= 0, the

Proof. Recall that a triangular distribution TRI(vi, qi) has a CDF of Fi(p) = (1
when
−
qi)
·
−
p ∈ [0, vi), and Fi(p) = 1 when p ∈ [vi, ∞). Hence, the virtual value function ϕi of triangular
distribution Fi maps any value p ∈ (0, vi) to a negative constant virtual value of

qi)
p
·
p+viqi

(1

ϕi(p) def= p −

1 − Fi(p)
fi(p)

= −

viqi
1 − qi

.

(14)

To see the lemma, it sufﬁces to show that AR(p) is a non-decreasing function on each interval
p ∈ (vi+1, vi). Assume w.l.o.g. that this interval is non-empty, then

AR(p) = p ·

1 −

i
j=1 Fj(p)

+

⇒ AR′(p) =

i

(cid:0)

Q
Fj(p) ·

i

(cid:1)
fj(p)
Fj(p)

·

(cid:0)
This completes the proof of Lemma 9.

j=1
Y

j=1
X

(cid:1)

∞
p

1 −

n
R
− ϕj(p)

j:vj

≥

Q
(14)
≥ 0.

x Fj(x) ·

1 +

j:vj

x

≥

(cid:2)

P

(cid:0)

1

Fj(x) − 1

· dx;

(cid:1)(cid:3)o

References

Abolhassani, M., Ehsani, S., Esfandiari, H., Hajiaghayi, M., Kleinberg, R. D., and Lucier, B.
(2017). Beating 1-1/e for ordered prophets. In Proceedings of the 49th Annual ACM SIGACT
Symposium on Theory of Computing, STOC 2017, Montreal, QC, Canada, June 19-23, 2017,
pages 61–71.

Alaei, S. (2014). Bayesian combinatorial auctions: Expanding single buyer mechanisms to many

buyers. SIAM J. Comput., 43(2):930–972.

Alaei, S., Hartline, J. D., Niazadeh, R., Pountourakis, E., and Yuan, Y. (2019). Optimal auctions

vs. anonymous pricing. Games and Economic Behavior, 118:494–510.

Anari, N., Niazadeh, R., Saberi, A., and Shameli, A. (2019). Nearly optimal pricing algorithms
for production constrained and laminar bayesian selection. In Proceedings of the 2019 ACM
Conference on Economics and Computation, EC 2019, Phoenix, AZ, USA, June 24-28, 2019,
pages 91–92.

Anshelevich, E. and Sekar, S. (2017). Price doubling and item halving: Robust revenue guaran-
tees for item pricing. In Proceedings of the 2017 ACM Conference on Economics and Computa-
tion, EC ’17, Cambridge, MA, USA, June 26-30, 2017, pages 325–342.

27

Azar, Y., Chiplunkar, A., and Kaplan, H. (2018). Prophet secretary: Surpassing the 1-1/e barrier.
In Proceedings of the 2018 ACM Conference on Economics and Computation, Ithaca, NY, USA,
June 18-22, 2018, pages 303–318.

Babaioff, M., Immorlica, N., and Kleinberg, R. (2007). Matroids, secretary problems, and on-
line mechanisms. In Proceedings of the Eighteenth Annual ACM-SIAM Symposium on Discrete
Algorithms, SODA 2007, New Orleans, Louisiana, USA, January 7-9, 2007, pages 434–443.

Babaioff, M., Immorlica, N., Lucier, B., and Weinberg, S. M. (2014). A simple and approximately
optimal mechanism for an additive buyer. In 55th IEEE Annual Symposium on Foundations of
Computer Science, FOCS 2014, Philadelphia, PA, USA, October 18-21, 2014, pages 21–30.

Bar-Yossef, Z., Hildrum, K., and Wu, F. (2002). Incentive-compatible online auctions for digital
goods. In Proceedings of the Thirteenth Annual ACM-SIAM Symposium on Discrete Algorithms,
January 6-8, 2002, San Francisco, CA, USA., pages 964–970.

Beyhaghi, H., Golrezaei, N., Leme, R. P., Pal, M., and Sivan, B. (2018). Improved approxima-

tions for free-order prophets and second-price auctions. CoRR, abs/1807.03435.

Birmpas, G., Markakis, E., Telelis, O., and Tsikiridis, A. (2017). Tight welfare guarantees for
pure nash equilibria of the uniform price auction. In Algorithmic Game Theory - 10th Inter-
national Symposium, SAGT 2017, L’Aquila, Italy, September 12-14, 2017, Proceedings, pages
16–28.

Bulow, J. and Klemperer, P. (1994). Auctions vs. negotiations. Technical report, National Bureau

of Economic Research.

Cai, Y. and Daskalakis, C. (2015). Extreme value theorems for optimal multidimensional pric-

ing. Games and Economic Behavior, 92:266–305.

Cai, Y., Devanur, N. R., and Weinberg, S. M. (2016). A duality based uniﬁed approach to
bayesian mechanism design. In Proceedings of the 48th Annual ACM SIGACT Symposium on
Theory of Computing, STOC 2016, Cambridge, MA, USA, June 18-21, 2016, pages 926–939.

Cai, Y. and Zhao, M. (2017). Simple mechanisms for subadditive buyers via duality. In Pro-
ceedings of the 49th Annual ACM SIGACT Symposium on Theory of Computing, STOC 2017,
Montreal, QC, Canada, June 19-23, 2017, pages 170–183.

Cesa-Bianchi, N., Gentile, C., and Mansour, Y. (2015). Regret minimization for reserve prices in

second-price auctions. IEEE Trans. Information Theory, 61(1):549–564.

Chawla, S., Hartline, J. D., and Kleinberg, R. D. (2007). Algorithmic pricing via virtual val-
In Proceedings 8th ACM Conference on Electronic Commerce (EC-2007), San Diego,

uations.
California, USA, June 11-15, 2007, pages 243–251.

Chawla, S., Hartline, J. D., Malec, D. L., and Sivan, B. (2010). Multi-parameter mechanism
design and sequential posted pricing. In Proceedings of the 42nd ACM Symposium on Theory
of Computing, STOC 2010, Cambridge, Massachusetts, USA, 5-8 June 2010, pages 311–320.

Chawla, S., Malec, D. L., and Sivan, B. (2015). The power of randomness in bayesian optimal

mechanism design. Games and Economic Behavior, 91:297–317.

Chawla, S. and Miller, J. B. (2016). Mechanism design for subadditive agents via an ex ante
relaxation. In Proceedings of the 2016 ACM Conference on Economics and Computation, EC ’16,
Maastricht, The Netherlands, July 24-28, 2016, pages 579–596.

28

Chen, N., Gravin, N., and Lu, P. (2014). Optimal competitive auctions. In Symposium on Theory

of Computing, STOC 2014, New York, NY, USA, May 31 - June 03, 2014, pages 253–262.

Chen, N., Gravin, N., and Lu, P. (2015). Competitive analysis via benchmark decomposition. In
Proceedings of the Sixteenth ACM Conference on Economics and Computation, EC ’15, Portland,
OR, USA, June 15-19, 2015, pages 363–376.

Chen, X., Hu, G., Lu, P., and Wang, L. (2011). On the approximation ratio of k-lookahead

auction. In WINE, pages 61–71. Springer.

Correa, J., Saona, R., and Ziliotto, B. (2019a). Prophet secretary through blind strategies. In
Proceedings of the Thirtieth Annual ACM-SIAM Symposium on Discrete Algorithms, SODA 2019,
San Diego, California, USA, January 6-9, 2019, pages 1946–1961.

Correa, J. R., D¨utting, P., Fischer, F. A., and Schewior, K. (2019b). Prophet inequalities for I.I.D.
random variables from an unknown distribution. In Proceedings of the 2019 ACM Conference
on Economics and Computation, EC 2019, Phoenix, AZ, USA, June 24-28, 2019, pages 3–17.

Correa, J. R., Foncea, P., Hoeksma, R., Oosterwijk, T., and Vredeveld, T. (2017). Posted price
mechanisms for a random stream of customers. In Proceedings of the 2017 ACM Conference on
Economics and Computation, EC ’17, Cambridge, MA, USA, June 26-30, 2017, pages 169–186.

Cremer, J. and McLean, R. P. (1988). Full extraction of the surplus in bayesian and dominant

strategy auctions. Econometrica: Journal of the Econometric Society, pages 1247–1257.

Dobzinski, S., Fu, H., and Kleinberg, R. (2015). Approximately optimal auctions for correlated

bidders. Games and Economic Behavior, 92:349–369.

Duetting, P., Feldman, M., Kesselheim, T., and Lucier, B. (2017). Prophet inequalities made
easy: Stochastic optimization by pricing non-stochastic inputs. In 58th IEEE Annual Sympo-
sium on Foundations of Computer Science, FOCS 2017, Berkeley, CA, USA, October 15-17, 2017,
pages 540–551.

D¨utting, P., Fischer, F. A., and Klimm, M. (2016). Revenue gaps for static and dynamic posted

pricing of homogeneous goods. CoRR, abs/1607.07105.

D¨utting, P. and Kesselheim, T. (2019). Posted pricing and prophet inequalities with inaccurate
priors. In Proceedings of the 2019 ACM Conference on Economics and Computation, EC 2019,
Phoenix, AZ, USA, June 24-28, 2019, pages 111–129.

Eden, A., Feldman, M., Friedler, O., Talgam-Cohen, I., and Weinberg, S. M. (2017). The com-
petition complexity of auctions: A bulow-klemperer result for multi-dimensional bidders. In
Proceedings of the 2017 ACM Conference on Economics and Computation, EC ’17, Cambridge,
MA, USA, June 26-30, 2017, page 343.

Ehsani, S., Hajiaghayi, M., Kesselheim, T., and Singla, S. (2018). Prophet secretary for combi-
natorial auctions and matroids. In Proceedings of the Twenty-Ninth Annual ACM-SIAM Sympo-
sium on Discrete Algorithms, SODA 2018, New Orleans, LA, USA, January 7-10, 2018, pages
700–714.

Esfandiari, H., Hajiaghayi, M., Liaghat, V., and Monemizadeh, M. (2017). Prophet secretary.

SIAM J. Discrete Math., 31(3):1685–1701.

Feldman, M., Gravin, N., and Lucier, B. (2015). Combinatorial auctions via posted prices. In
Proceedings of the Twenty-Sixth Annual ACM-SIAM Symposium on Discrete Algorithms, SODA
2015, San Diego, CA, USA, January 4-6, 2015, pages 123–135.

29

Fu, H., Immorlica, N., Lucier, B., and Strack, P. (2015). Randomization beats second price as a
prior-independent auction. In Proceedings of the Sixteenth ACM Conference on Economics and
Computation, EC ’15, Portland, OR, USA, June 15-19, 2015, page 323.

Goldberg, A. V., Hartline, J. D., and Wright, A. (2001). Competitive auctions and digital goods.
In Proceedings of the Twelfth Annual Symposium on Discrete Algorithms, January 7-9, 2001,
Washington, DC, USA., pages 735–744.

Guruswami, V., Hartline, J. D., Karlin, A. R., Kempe, D., Kenyon, C., and McSherry, F. (2005).
On proﬁt-maximizing envy-free pricing.
In Proceedings of the Sixteenth Annual ACM-SIAM
Symposium on Discrete Algorithms, SODA 2005, Vancouver, British Columbia, Canada, January
23-25, 2005, pages 1164–1173.

Hajiaghayi, M. T., Kleinberg, R. D., and Sandholm, T. (2007). Automated online mechanism
In Proceedings of the Twenty-Second AAAI Conference on

design and prophet inequalities.
Artiﬁcial Intelligence, July 22-26, 2007, Vancouver, British Columbia, Canada, pages 58–65.

Hart, S. and Nisan, N. (2012). Approximate revenue maximization with multiple items. In ACM

Conference on Electronic Commerce, EC ’12, Valencia, Spain, June 4-8, 2012, page 656.

Hartline, J. D. (2013). Mechanism design and approximation. Book draft. October, 122.

Hartline, J. D. and Roughgarden, T. (2009). Simple versus optimal mechanisms. In Proceedings
10th ACM Conference on Electronic Commerce (EC-2009), Stanford, California, USA, July 6–10,
2009, pages 225–234.

Hill, T. P., Kertz, R. P., et al. (1982). Comparisons of stop rule and supremum expectations of

iid random variables. The Annals of Probability, 10(2):336–345.

Jin, Y., Lu, P., Qi, Q., Tang, Z. G., and Xiao, T. (2019a). Tight approximation ratio of anonymous
pricing. In Proceedings of the 51st Annual ACM SIGACT Symposium on Theory of Computing,
STOC 2019, Phoenix, AZ, USA, June 23-26, 2019, pages 674–685.

Jin, Y., Lu, P., Tang, Z. G., and Xiao, T. (2019b). Tight revenue gaps among simple mechanisms.
In Proceedings of the Thirtieth Annual ACM-SIAM Symposium on Discrete Algorithms, SODA
2019, San Diego, California, USA, January 6-9, 2019, pages 209–228.

Kertz, R. P. (1986). Stop rule and supremum expectations of iid random variables: a complete

comparison by conjugate duality. Journal of Multivariate Analysis, 19(1):88–112.

Kleinberg, R. and Weinberg, S. M. (2012). Matroid prophet inequalities. In Proceedings of the
44th Symposium on Theory of Computing Conference, STOC 2012, New York, NY, USA, May 19
- 22, 2012, pages 123–136.

Koutsoupias, E. and Pierrakos, G. (2013). On the competitive ratio of online sampling auctions.

ACM Trans. Economics and Comput., 1(2):10:1–10:10.

Krengel, U. and Sucheston, L. (1977). Semiamarts and ﬁnite values. Bulletin of the American

Mathematical Society, 83(4):745–747.

Krengel, U. and Sucheston, L. (1978). On semiamarts, amarts, and processes with ﬁnite value.

Advances in Prob, 4:197–266.

Li, X. and Yao, A. C.-C. (2013). On revenue maximization for selling multiple independently
distributed items. Proceedings of the National Academy of Sciences, 110(28):11232–11237.

Lucier, B. (2017). An economic view of prophet inequalities. SIGecom Exchanges, 16(1):24–47.

30

Myerson, R. B. (1981). Optimal auction design. Math. Oper. Res., 6(1):58–73.

Papadimitriou, C. H. and Pierrakos, G. (2015). Optimal deterministic auctions with correlated

priors. Games and Economic Behavior, 92:430–454.

Ronen, A. (2001). On approximating optimal auctions. In Proceedings of the 3rd ACM conference

on Electronic Commerce, pages 11–17. ACM.

Rubinstein, A. (2016). Beyond matroids: secretary problem and prophet inequality with gen-
In Proceedings of the 48th Annual ACM SIGACT Symposium on Theory of

eral constraints.
Computing, STOC 2016, Cambridge, MA, USA, June 18-21, 2016, pages 324–332.

Rubinstein, A. and Singla, S. (2017). Combinatorial prophet inequalities. In Proceedings of the
Twenty-Eighth Annual ACM-SIAM Symposium on Discrete Algorithms, SODA 2017, Barcelona,
Spain, Hotel Porta Fira, January 16-19, pages 1671–1687.

Rubinstein, A. and Weinberg, S. M. (2015). Simple mechanisms for a subadditive buyer and
applications to revenue monotonicity. In Proceedings of the Sixteenth ACM Conference on Eco-
nomics and Computation, EC ’15, Portland, OR, USA, June 15-19, 2015, pages 377–394.

Yan, Q. (2011). Mechanism design via correlation gap.

In Proceedings of the Twenty-Second
Annual ACM-SIAM Symposium on Discrete Algorithms, SODA 2011, San Francisco, California,
USA, January 23-25, 2011, pages 710–719.

Yao, A. C. (2015). An n-to-1 bidder reduction for multi-item auctions and its applications. In
Proceedings of the Twenty-Sixth Annual ACM-SIAM Symposium on Discrete Algorithms, SODA
2015, San Diego, CA, USA, January 4-6, 2015, pages 92–109.

31

